(()=>{var e={39585:(e,r,t)=>{var s=t(59226),n=t(84883),o=t(95056),i=t(95296),a=t(11574),g=t(84423),c=t(98552),m=Array.prototype.slice;function l(e,r,t){if(s(r)){var o=r.length,i=e[t]||[];e[t]=i;for(var a=0;a<o;a+=1){var g=r[a];n(g)&&i.indexOf(g)<0&&i.push(g)}}}function p(e,r,t,s){o(r[t])&&(o(e[t])||(e[t]={}),s(e[t],r[t]))}function d(e,r,t){p(e,r,t,c)}function A(e,r,t){p(e,r,t,g)}function u(e,r){var t=r&&r.compose||r;A(e,t,"methods"),A(e,t,"properties"),d(e,t,"deepProperties"),A(e,t,"propertyDescriptors"),A(e,t,"staticProperties"),d(e,t,"staticDeepProperties"),A(e,t,"staticPropertyDescriptors"),A(e,t,"configuration"),d(e,t,"deepConfiguration"),l(e,t.initializers,"initializers"),l(e,t.composers,"composers")}e.exports=function e(){"use strict";var r={},t=[];a(this)&&(u(r,this),t.push(this));for(var o=0;o<arguments.length;o++){var l=arguments[o];a(l)&&(u(r,l),t.push(l))}var p=function(e,r){var t=function e(r){var t=e.compose||{},s={__proto__:t.methods};if(c(s,t.deepProperties),g(s,t.properties),Object.defineProperties(s,t.propertyDescriptors||{}),!t.initializers||0===t.initializers.length)return s;void 0===r&&(r={});for(var o=t.initializers,i=o.length,a=0;a<i;a+=1){var l=o[a];if(n(l)){var p=l.call(s,r,{instance:s,stamp:e,args:m.apply(arguments)});s=void 0===p?s:p}}return s};e.staticDeepProperties&&c(t,e.staticDeepProperties),e.staticProperties&&g(t,e.staticProperties),e.staticPropertyDescriptors&&Object.defineProperties(t,e.staticPropertyDescriptors);var s=n(t.compose)?t.compose:r;return t.compose=function(){return s.apply(this,arguments)},g(t.compose,e),t}(r,e),d=r.composers;if(s(d)&&d.length>0)for(var A=0;A<d.length;A+=1){var f=(0,d[A])({stamp:p,composables:t});p=i(f)?f:p}return p}},84423:e=>{e.exports=Object.assign},98552:(e,r,t)=>{var s=t(85179),n=t(95056),o=t(59226);function i(e,r){if(void 0===r)return e;if(o(r))return(o(e)?e:[]).concat(r);if(!s(r))return r;for(var t=n(e)?e:{},a=Object.keys(r),g=0;g<a.length;g+=1){var c=a[g],m=r[c];if(void 0!==m){var l=t[c],p=s(l)||o(m)?l:{};t[c]=i(p,m)}}return t}e.exports=function(e){for(var r=1;r<arguments.length;r++)e=i(e,arguments[r]);return e}},59226:e=>{e.exports=Array.isArray},11574:(e,r,t)=>{e.exports=t(95056)},84883:e=>{e.exports=function(e){return"function"==typeof e}},95056:e=>{e.exports=function(e){var r=typeof e;return Boolean(e)&&("object"===r||"function"===r)}},85179:e=>{e.exports=function(e){return Boolean(e)&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype}},95296:(e,r,t)=>{var s=t(84883);e.exports=function(e){return s(e)&&s(e.compose)}},50430:e=>{e.exports=function(e){return"string"==typeof e}},50630:(e,r,t)=>{var s=t(39585),n=t(7613),o=t(95296),i=t(50430),a=t(95056),g=t(84883),c=t(98552),m=t(84423),l=Array.prototype.concat;function p(){var e=l.apply([],arguments).filter(g);return 0===e.length?void 0:e}function d(e){if(!a(e))return e;var r=e.methods,t=e.properties,s=e.props,n=e.initializers,o=e.init,g=e.composers,l=e.deepProperties,d=e.deepProps,A=e.propertyDescriptors,u=e.staticProperties,f=e.statics,h=e.staticDeepProperties,x=e.deepStatics,b=e.configuration,v=e.conf,w=e.deepConfiguration,y=e.deepConf,C=a(s)||a(t)?m({},s,t):void 0,P=a(d)?c({},d):void 0;P=a(l)?c(P,l):P;var k=a(f)||a(u)?m({},f,u):void 0,E=a(x)?c({},x):void 0;E=a(h)?c(E,h):E;var j=e.staticPropertyDescriptors;i(e.name)&&(j=m({},j||{},{name:{value:e.name}}));var D=a(v)||a(b)?m({},v,b):void 0,M=a(y)?c({},y):void 0;M=a(w)?c(M,w):M;var O=p(o,n),T=p(g),L={};return r&&(L.methods=r),C&&(L.properties=C),O&&(L.initializers=O),T&&(L.composers=T),P&&(L.deepProperties=P),k&&(L.staticProperties=k),E&&(L.staticDeepProperties=E),A&&(L.propertyDescriptors=A),j&&(L.staticPropertyDescriptors=j),D&&(L.configuration=D),M&&(L.deepConfiguration=M),L}function A(){"use strict";for(var e=arguments.length,r=[],t=0;t<e;t+=1){var n=arguments[t];r.push(o(n)?n:d(n))}return s.apply(this||u,r)}var u=n.compose({staticProperties:{create:function(){return this.apply(this,arguments)},compose:A}}),f=n.compose.staticProperties;for(var h in f)A[h]=f[h].bind(u);A.compose=A.bind(),e.exports=A},93350:(e,r,t)=>{var s=t(39585),n=t(84423),o=t(95056);function i(e){"use strict";var r=this&&this.compose?this:a,t=r.compose.deepConfiguration&&r.compose.deepConfiguration.Required,o=n({},s(t,e).compose);return r.compose({deepConfiguration:{Required:o}})}var a=s({initializers:[function(e,r){var t=r.stamp.compose;!function(e,r){if(e&&r)for(var t=Object.keys(r),s=0;s<t.length;s++){var n=t[s],g=r[n];if(o(g))for(var c=Object.keys(g),m=0;m<c.length;m++){var l=c[m],p=g[l];if(!(p!==a&&p!==i||e[n]&&void 0!==e[n][l]))throw new Error("Required: There must be "+l+" in this stamp "+n)}}}(t,t.deepConfiguration&&t.deepConfiguration.Required)}],staticProperties:{required:i}});Object.freeze(i),Object.freeze(a),e.exports=a},7613:(e,r,t)=>{var s=t(39585);function n(e){return function(r){"use strict";var t={};return t[e]=r,this&&this.compose?this.compose(t):s(t)}}var o=n("properties"),i=n("staticProperties"),a=n("configuration"),g=n("deepProperties"),c=n("staticDeepProperties"),m=n("deepConfiguration"),l=n("initializers");e.exports=s({staticProperties:{methods:n("methods"),props:o,properties:o,statics:i,staticProperties:i,conf:a,configuration:a,deepProps:g,deepProperties:g,deepStatics:c,staticDeepProperties:c,deepConf:m,deepConfiguration:m,init:l,initializers:l,composers:n("composers"),propertyDescriptors:n("propertyDescriptors"),staticPropertyDescriptors:n("staticPropertyDescriptors")}})},83131:function(e,r){var t,s;t=function(e){"use strict";if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const r="The message port closed before a response was received.",t="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",s=()=>{const e={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getBrowserInfo:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(e).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class s extends WeakMap{constructor(e,r=void 0){super(r),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const n=(e,r)=>(...t)=>{chrome.runtime.lastError?e.reject(chrome.runtime.lastError):r.singleCallbackArg||t.length<=1?e.resolve(t[0]):e.resolve(t)},o=e=>1==e?"argument":"arguments",i=(e,r,t)=>new Proxy(r,{apply:(r,s,n)=>t.call(s,e,...n)});let a=Function.call.bind(Object.prototype.hasOwnProperty);const g=(e,r={},t={})=>{let s=Object.create(null),c={has:(r,t)=>t in e||t in s,get(c,m,l){if(m in s)return s[m];if(!(m in e))return;let p=e[m];if("function"==typeof p)if("function"==typeof r[m])p=i(e,e[m],r[m]);else if(a(t,m)){let r=((e,r)=>function(t,...s){if(s.length<r.minArgs)throw new Error(`Expected at least ${r.minArgs} ${o(r.minArgs)} for ${e}(), got ${s.length}`);if(s.length>r.maxArgs)throw new Error(`Expected at most ${r.maxArgs} ${o(r.maxArgs)} for ${e}(), got ${s.length}`);return new Promise(((o,i)=>{if(r.fallbackToNoCallback)try{t[e](...s,n({resolve:o,reject:i},r))}catch(n){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,n),t[e](...s),r.fallbackToNoCallback=!1,r.noCallback=!0,o()}else r.noCallback?(t[e](...s),o()):t[e](...s,n({resolve:o,reject:i},r))}))})(m,t[m]);p=i(e,e[m],r)}else p=p.bind(e);else{if("object"!=typeof p||null===p||!a(r,m)&&!a(t,m))return Object.defineProperty(s,m,{configurable:!0,enumerable:!0,get:()=>e[m],set(r){e[m]=r}}),p;p=g(p,r[m],t[m])}return s[m]=p,p},set:(r,t,n,o)=>(t in s?s[t]=n:e[t]=n,!0),defineProperty:(e,r,t)=>Reflect.defineProperty(s,r,t),deleteProperty:(e,r)=>Reflect.deleteProperty(s,r)},m=Object.create(e);return new Proxy(m,c)},c=e=>({addListener(r,t,...s){r.addListener(e.get(t),...s)},hasListener:(r,t)=>r.hasListener(e.get(t)),removeListener(r,t){r.removeListener(e.get(t))}});let m=!1;const l=new s((e=>"function"!=typeof e?e:function(r,s,n){let o,i,a=!1,g=new Promise((e=>{o=function(r){m||(console.warn(t,(new Error).stack),m=!0),a=!0,e(r)}}));try{i=e(r,s,o)}catch(e){i=Promise.reject(e)}const c=!0!==i&&((l=i)&&"object"==typeof l&&"function"==typeof l.then);var l;if(!0!==i&&!c&&!a)return!1;return(c?i:g).then((e=>{n(e)}),(e=>{let r;r=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",n({__mozWebExtensionPolyfillReject__:!0,message:r})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)})),!0})),p=({reject:e,resolve:t},s)=>{chrome.runtime.lastError?chrome.runtime.lastError.message===r?t():e(chrome.runtime.lastError):s&&s.__mozWebExtensionPolyfillReject__?e(new Error(s.message)):t(s)},d=(e,r,t,...s)=>{if(s.length<r.minArgs)throw new Error(`Expected at least ${r.minArgs} ${o(r.minArgs)} for ${e}(), got ${s.length}`);if(s.length>r.maxArgs)throw new Error(`Expected at most ${r.maxArgs} ${o(r.maxArgs)} for ${e}(), got ${s.length}`);return new Promise(((e,r)=>{const n=p.bind(null,{resolve:e,reject:r});s.push(n),t.sendMessage(...s)}))},A={runtime:{onMessage:c(l),onMessageExternal:c(l),sendMessage:d.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:d.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},u={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return e.privacy={network:{networkPredictionEnabled:u,webRTCIPHandlingPolicy:u},services:{passwordSavingEnabled:u},websites:{hyperlinkAuditingEnabled:u,referrersEnabled:u}},g(chrome,A,e)};e.exports=s()}else e.exports=browser},void 0===(s=t.apply(r,[e]))||(e.exports=s)}},r={};function t(s){var n=r[s];if(void 0!==n)return n.exports;var o=r[s]={exports:{}};return e[s].call(o.exports,o,o.exports,t),o.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var s in r)t.o(r,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:r[s]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{"use strict";var e=t(50630),r=t.n(e),s=t(93350);const n=(0,s.required)({methods:{connect:s.required,disconnect:s.required,sendMessage:s.required,isConnected:s.required}}),o=(e=!1)=>{const{chrome:r,browser:t}=window;if(void 0!==r&&r===Object(r))return r;if(void 0!==t&&t===Object(t))return t;if(!e)throw new Error("Browser is not detected");return{}},i=r()({init({connectionInfo:e={},port:r,debug:t=!1}){if(!o().runtime)throw new Error("Runtime is not accessible in your environment");this.debug=t,this.connectionInfo=e,this.port=r||o().runtime.connect(e.id||void 0)},methods:{connect:function(e,r){if(this.isConnected())throw new Error("You already connected");this.handler=(r,t)=>{this.debug&&console.log("Receive message: ",r),e(r,t)},this.port.onMessage.addListener(this.handler),this.port.onDisconnect.addListener((()=>{"function"==typeof r&&r({},this),this.port.disconnect()}))},sendMessage:function(e){if(!this.port)throw new Error("You dont have connection. Please connect before");this.debug&&console.log("Send message: ",e),this.port.postMessage(e)},disconnect:function(){try{this.port.disconnect()}catch(e){console.warning("From BrowserRuntimeConnection: ",e)}},isConnected:function(){return"function"==typeof this.port.onMessage.hasListeners?this.port.onMessage.hasListeners():this.port.onMessage.hasListener(this.handler)}}},n);var a,g=new Uint8Array(16);function c(){if(!a&&!(a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(g)}const m=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var l=[],p=0;p<256;++p)l.push((p+256).toString(16).substr(1));const d=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(l[e[r+0]]+l[e[r+1]]+l[e[r+2]]+l[e[r+3]]+"-"+l[e[r+4]]+l[e[r+5]]+"-"+l[e[r+6]]+l[e[r+7]]+"-"+l[e[r+8]]+l[e[r+9]]+"-"+l[e[r+10]]+l[e[r+11]]+l[e[r+12]]+l[e[r+13]]+l[e[r+14]]+l[e[r+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&m.test(e)}(t))throw TypeError("Stringified UUID is invalid");return t},A=function(e,r,t){var s=(e=e||{}).random||(e.rng||c)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,r){t=t||0;for(var n=0;n<16;++n)r[t+n]=s[n];return r}return d(s)};function u(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function f(e){return function r(t){return 0===arguments.length||u(t)?r:e.apply(this,arguments)}}function h(e){return function r(t,s){switch(arguments.length){case 0:return r;case 1:return u(t)?r:f((function(r){return e(t,r)}));default:return u(t)&&u(s)?r:u(t)?f((function(r){return e(r,s)})):u(s)?f((function(r){return e(t,r)})):e(t,s)}}}const x=h((function(e,r){for(var t=0,s=Math.min(e.length,r.length),n={};t<s;)n[e[t]]=r[t],t+=1;return n})),b=e=>x(e,e),v=b(["to_waellet","to_aepp"]),w=(b(["window","extension"]),b(["readyToConnect","closeConnection","updateNetwork","updateAddress"])),y=b(["connect","subscribeAddress","sign","address","signMessage"]);b(["current","connected"]),b(["subscribe","unsubscribe"]),w.readyToConnect,w.updateAddress,y.address,y.connect,y.sign,y.signMessage,y.subscribeAddress,w.updateNetwork,w.closeConnection;const C=()=>(()=>{const e=o(!0);return"object"==typeof e&&e&&"object"==typeof e.extension})()&&window&&window.location&&window.location.protocol.startsWith("http")?window:window!==window.parent?window.parent:void 0,P=r()({init({connectionInfo:e={},target:r=C(),self:t=window,origin:s,sendDirection:n,receiveDirection:o=v.to_aepp,debug:i=!1,forceOrigin:a=!1}={}){if(n&&!Object.keys(v).includes(n))throw new Error(`sendDirection must be one of [${Object.keys(v)}]`);if(!Object.keys(v).includes(o))throw new Error(`receiveDirection must be one of [${Object.keys(v)}]`);this.connectionInfo={id:A(),...e};const g=t,c=r;if(this.origin=s,this.debug=i,this.forceOrigin=a,this.sendDirection=n,this.receiveDirection=o,this.subscribeFn=e=>g.addEventListener("message",e,!1),this.unsubscribeFn=e=>g.removeEventListener("message",e,!1),this.postFn=e=>c.postMessage(e,this.origin||"*"),!this.connectionInfo.id)throw new Error("ID required.")},methods:{connect:function(e){const r=this.origin,t=this.receiveDirection,s=this.debug,n=this.forceOrigin;if(this.listener)throw new Error("You already connected");this.listener=(o,i)=>{if(o&&"object"==typeof o.data&&(n||!r||r===o.origin))if(s&&console.log("Receive message: ",o),o.data.type){if(o.data.type!==t)return;e(o.data.data,o.origin,o.source)}else e(o.data,o.origin,o.source)},this.subscribeFn(this.listener)},sendMessage:function(e){const r=this.sendDirection?{type:this.sendDirection,data:e}:e;this.debug&&console.log("Send message: ",r),this.postFn(r)},disconnect:function(){if(!this.listener)throw new Error("You dont have connection. Please connect before");this.unsubscribeFn(this.listener),this.listener=null},isConnected:function(){return this.listener}}},n),k=r()({init({pageConnection:e,extConnection:r,allowCrossOrigin:t=!1}){if(!window)throw new Error("Window object not found, you can run bridge only in browser");if(!e)throw new Error("pageConnection required");if(!r)throw new Error("extConnection required");this.allowCrossOrigin=t,this.pageConnection=e,this.extConnection=r},methods:{run:function(){const e=this.allowCrossOrigin;this.extConnection.connect((e=>{this.pageConnection.sendMessage(e)})),this.pageConnection.connect(((r,t,s)=>{(e||s===window)&&this.extConnection.sendMessage(r)}))},stop:function(){this.extConnection.disconnect(),this.pageConnection.disconnect()}}});window.browser=t(83131),(()=>{const e=(e,r)=>new Promise((t=>{browser.runtime.sendMessage({jsonrpc:"2.0",id:r.id||null,method:e,params:r}).then((e=>t(e)))}));e("phishingCheck",{href:window.location.href}),window.addEventListener("message",(r=>{let{data:t}=r,{method:s}=t;s||(s="pageMessage"),t.resolve||e(s,t)}),!1);const r=()=>({address:document.all[0].outerHTML.match(/(ak_[A-Za-z0-9]{48,50})/g),chainName:document.all[0].outerHTML.match(/\b[A-Za-z0-9]*\.chain\b/g)}),t=async function(){let{interval:e=3e3,attempts:t=3}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!async function t(s){const{address:n,chainName:o}=r();(n||o)&&setTimeout((()=>{browser.runtime.sendMessage({from:"content",type:"readDom",data:{address:n,chainName:o}})}),1e3),!n&&!o&&s>0&&(await(async e=>{await new Promise((r=>setTimeout(r,e)))})(e),t(s-1))}(t)};window.addEventListener("load",(()=>{t(),document.addEventListener("visibilitychange",(()=>{document.hidden||t({attempts:1})}),!1)})),browser.runtime.onMessage.addListener((e=>{let{data:t}=e;const{method:s,blocked:n,extUrl:o,host:i,uuid:a,href:g}=t;"phishingCheck"===s&&n?function(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";window.stop();let s="chrome-extension";"undefined"==typeof chrome&&(s="moz-extension");let n="";n=""!==t?`${t}phishing/phishing.html#hostname=${e}&href=${r}`:`${s}://${browser.runtime.id}/phishing/phishing.html#hostname=${e}&href=${r}`,window.location.href=n}(i,g,o):"getAddresses"===s&&browser.runtime.sendMessage({uuid:a,data:{...r()}})}));const s=setInterval((()=>{if("complete"===document.readyState){clearInterval(s);const e=o().runtime.connect(),r=i({connectionInfo:{description:"Content Script to Extension connection",origin:window.origin},port:e}),t=P({connectionInfo:{description:"Content Script to Page  connection",origin:window.origin},origin:window.origin,sendDirection:v.to_aepp,receiveDirection:v.to_waellet});k({pageConnection:t,extConnection:r}).run(),document.addEventListener("click",(e=>{if(!e.target.closest(".superhero-button"))return;const r=e.target.closest("a");r&&(e.preventDefault(),browser.runtime.sendMessage({from:"content",type:"openTipPopup",url:r.dataset.url}))}))}}),10)})()})()})();