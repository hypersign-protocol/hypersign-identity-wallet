/*! For license information please see vendor-f82e0cd2.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[486],{70087:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},47740:(e,t,r)=>{"use strict";var n=r(10698)(),o=r(12737)("Object.prototype.toString"),i=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},s=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},a=function(){return i(arguments)}();i.isLegacyArguments=s,e.exports=a?i:s},72922:e=>{"use strict";var t,r,n=Function.prototype.toString,o="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},o((function(){throw 42}),null,t)}catch(e){e!==r&&(o=null)}else o=null;var i=/^\s*class\b/,s=function(e){try{var t=n.call(e);return i.test(t)}catch(e){return!1}},a=function(e){try{return!s(e)&&(n.call(e),!0)}catch(e){return!1}},c=Object.prototype.toString,l="function"==typeof Symbol&&!!Symbol.toStringTag,u=!(0 in[,]),f=function(){return!1};if("object"==typeof document){var p=document.all;c.call(p)===c.call(document.all)&&(f=function(e){if((u||!e)&&(void 0===e||"object"==typeof e))try{var t=c.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=o?function(e){if(f(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{o(e,null,t)}catch(e){if(e!==r)return!1}return!s(e)&&a(e)}:function(e){if(f(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(l)return a(e);if(s(e))return!1;var t=c.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&a(e)}},18265:(e,t,r)=>{"use strict";var n,o=Object.prototype.toString,i=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=r(10698)(),c=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(s.test(i.call(e)))return!0;if(!a)return"[object GeneratorFunction]"===o.call(e);if(!c)return!1;if(void 0===n){var t=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&c(t)}return c(e)===n}},43561:e=>{e.exports=function(e){if("string"!=typeof e)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return"0x"===e.slice(0,2)}},44127:e=>{"use strict";e.exports=function(e){return e!=e}},74866:(e,t,r)=>{"use strict";var n=r(34573),o=r(67392),i=r(44127),s=r(40850),a=r(88045),c=n(s(),Number);o(c,{getPolyfill:s,implementation:i,shim:a}),e.exports=c},40850:(e,t,r)=>{"use strict";var n=r(44127);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n}},88045:(e,t,r)=>{"use strict";var n=r(67392),o=r(40850);e.exports=function(){var e=o();return n(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},50387:(e,t,r)=>{"use strict";var n=r(52505);e.exports=function(e){return!!n(e)}},97555:e=>{var t=null;"undefined"!=typeof WebSocket?t=WebSocket:"undefined"!=typeof MozWebSocket?t=MozWebSocket:"undefined"!=typeof window||"undefined"!=typeof window?t=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(t=self.WebSocket||self.MozWebSocket),e.exports=t},17748:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JCS=void 0;const o=n(r(63550));t.JCS=o.default},63550:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this.buffer="",this.serialize(e)}serialize(e){if(null===e||"object"!=typeof e||null!=e.toJSON)this.buffer+=JSON.stringify(e);else if(Array.isArray(e)){this.buffer+="[";let t=!1;e.forEach((e=>{t&&(this.buffer+=","),t=!0,this.serialize(e)})),this.buffer+="]"}else{this.buffer+="{";let t=!1;Object.keys(e).sort().forEach((r=>{t&&(this.buffer+=","),t=!0,this.buffer+=JSON.stringify(r),this.buffer+=":",this.serialize(e[r])})),this.buffer+="}"}}cannonicalize(){return this.buffer}static cannonicalize(e){return new r(e).cannonicalize()}}t.default=r},11579:function(e,t,r){var n,o,i;e=r.nmd(e),o="undefined"!=typeof self?self:this,i=function(e,t){function r(e,t,r){for(var n=document.createElementNS("http://www.w3.org/2000/svg",t),o=2;o+1<arguments.length;o+=2)n.setAttribute(arguments[o],arguments[o+1]);e.appendChild(n)}function n(e){for(this.b=Math.min(Number(e.getAttribute("width"))||100,Number(e.getAttribute("height"))||100),this.a=e;e.firstChild;)e.removeChild(e.firstChild);e.setAttribute("viewBox","0 0 "+this.b+" "+this.b),e.setAttribute("preserveAspectRatio","xMidYMid meet")}function o(e){this.b=e,this.a='<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+e+'" viewBox="0 0 '+e+" "+e+'" preserveAspectRatio="xMidYMid meet">'}function i(e,t,r){return parseInt(e.substr(t,r),16)}function s(e){return(10*e+.5|0)/10}function a(){this.j=""}function c(e){this.b={},this.h=e,this.a=e.b}function l(e,t){var r=e.canvas.width,n=e.canvas.height;e.save(),this.b=e,t?this.a=t:(this.a=Math.min(r,n),e.translate((r-this.a)/2|0,(n-this.a)/2|0)),e.clearRect(0,0,this.a,this.a)}function u(e){this.h=e,this.c=v.a}function f(e){return 0>(e|=0)?"00":16>e?"0"+e.toString(16):256>e?e.toString(16):"ff"}function p(e,t,r){return f(255*(1>(r=0>r?r+6:6<r?r-6:r)?e+(t-e)*r:3>r?t:4>r?e+(t-e)*(4-r):e))}function h(e,t,r,n){function o(e,t){var r=s[e];return r&&1<r.length||(r=t),function(e){return 0>(e=r[0]+e*(r[1]-r[0]))?0:1<e?1:e}}var i="object"==typeof r&&r||e.config||t.jdenticon_config||{},s=i.lightness||{};e="color"in(t=i.saturation||{})?t.color:t,t=t.grayscale;var a=i.backColor,c=i.padding;return{R:function(e){var t,r=i.hues;return r&&0<r.length&&(t=r[0|.999*e*r.length]),"number"==typeof t?(t/360%1+1)%1:e},A:"number"==typeof e?e:.5,J:"number"==typeof t?t:0,w:o("color",[.4,.8]),I:o("grayscale",[.3,.9]),F:E.parse(a),padding:"number"==typeof r?r:"number"==typeof c?c:n}}function d(e,t){this.x=e,this.y=t}function v(e,t,r,n){this.b=e,this.c=t,this.h=r,this.a=n}function y(e,t,r,n,o,s){function a(o,s,a,c,l){for(c=c?i(t,c,1):0,s=s[i(t,a,1)%s.length],e.G(h[d[o]]),o=0;o<l.length;o++)f.c=new v(r+l[o][0]*p,n+l[o][1]*p,p,c++%4),s(f,p,o);e.H()}function c(e){if(0<=e.indexOf(y))for(var t=0;t<e.length;t++)if(0<=d.indexOf(e[t]))return!0}s.F&&e.m(s.F);var l=.5+o*s.padding|0;o-=2*l;var f=new u(e),p=0|o/4;r+=0|l+o/2-2*p,n+=0|l+o/2-2*p;var h=function(e,t){return e=t.R(e),[E.i(e,t.J,t.I(0)),E.i(e,t.A,t.w(.5)),E.i(e,t.J,t.I(1)),E.i(e,t.A,t.w(1)),E.i(e,t.A,t.w(0))]}(o=i(t,-7)/268435455,s),d=[];for(s=0;3>s;s++){var y=i(t,8+s,1)%h.length;(c([0,4])||c([2,3]))&&(y=1),d.push(y)}a(0,w.K,2,3,[[1,0],[2,0],[2,3],[1,3],[0,1],[3,1],[3,2],[0,2]]),a(1,w.K,4,5,[[0,0],[3,0],[3,3],[0,3]]),a(2,w.O,1,null,[[1,1],[2,1],[2,2],[1,2]]),e.finish()}function g(t,r,o){if("string"==typeof t){if(b.L){t=document.querySelectorAll(t);for(var i=0;i<t.length;i++)g(t[i],r,o)}}else(i=b.B(t))&&(r=x.u(r)||null!=r&&x.s(r)||x.u(t.getAttribute(b.v))||t.hasAttribute(b.o)&&x.s(t.getAttribute(b.o)))&&y(t=i==b.D?new c(new n(t)):new l(t.getContext("2d")),r,0,0,t.a,h(m,e,o,.08))}function m(){b.L&&g(b.C)}n.prototype={m:function(e,t){t&&r(this.a,"rect","width","100%","height","100%","fill",e,"opacity",t)},c:function(e,t){r(this.a,"path","fill",e,"d",t)}},o.prototype={m:function(e,t){t&&(this.a+='<rect width="100%" height="100%" fill="'+e+'" opacity="'+t.toFixed(2)+'"/>')},c:function(e,t){this.a+='<path fill="'+e+'" d="'+t+'"/>'},toString:function(){return this.a+"</svg>"}};var b={D:1,N:2,v:"data-jdenticon-hash",o:"data-jdenticon-value",L:"undefined"!=typeof document&&"querySelectorAll"in document,B:function(e){if(e){var t=e.tagName;if(/svg/i.test(t))return b.D;if(/canvas/i.test(t)&&"getContext"in e)return b.N}}};b.C="["+b.v+"],["+b.o+"]";var w={O:[function(e,t){var r=.42*t;e.f([0,0,t,0,t,t-2*r,t-r,t,0,t])},function(e,t){var r=0|.5*t;e.b(t-r,0,r,0|.8*t,2)},function(e,t){var r=0|t/3;e.a(r,r,t-r,t-r)},function(e,t){var r=.1*t,n=6>t?1:8>t?2:0|.25*t;r=1<r?0|r:.5<r?1:r,e.a(n,n,t-r-n,t-r-n)},function(e,t){var r=0|.15*t,n=0|.5*t;e.g(t-n-r,t-n-r,n)},function(e,t){var r=.1*t,n=4*r;3<n&&(n|=0),e.a(0,0,t,t),e.f([n,n,t-r,n,n+(t-n-r)/2,t-r],!0)},function(e,t){e.f([0,0,t,0,t,.7*t,.4*t,.4*t,.7*t,t,0,t])},function(e,t){e.b(t/2,t/2,t/2,t/2,3)},function(e,t){e.a(0,0,t,t/2),e.a(0,t/2,t/2,t/2),e.b(t/2,t/2,t/2,t/2,1)},function(e,t){var r=.14*t,n=4>t?1:6>t?2:0|.35*t;r=8>t?r:0|r,e.a(0,0,t,t),e.a(n,n,t-n-r,t-n-r,!0)},function(e,t){var r=.12*t,n=3*r;e.a(0,0,t,t),e.g(n,n,t-r-n,!0)},function(e,t){e.b(t/2,t/2,t/2,t/2,3)},function(e,t){var r=.25*t;e.a(0,0,t,t),e.l(r,r,t-r,t-r,!0)},function(e,t,r){var n=.4*t;r||e.g(n,n,1.2*t)}],K:[function(e,t){e.b(0,0,t,t,0)},function(e,t){e.b(0,t/2,t,t/2,0)},function(e,t){e.l(0,0,t,t)},function(e,t){var r=t/6;e.g(r,r,t-2*r)}]};a.prototype={f:function(e){for(var t="M"+s(e[0].x)+" "+s(e[0].y),r=1;r<e.length;r++)t+="L"+s(e[r].x)+" "+s(e[r].y);this.j+=t+"Z"},g:function(e,t,r){r=r?0:1;var n=s(t/2),o=s(t);this.j+="M"+s(e.x)+" "+s(e.y+t/2)+"a"+n+","+n+" 0 1,"+r+" "+o+",0a"+n+","+n+" 0 1,"+r+" "+-o+",0"}},c.prototype={m:function(e){var t=(e=/^(#......)(..)?/.exec(e))[2]?i(e[2],0)/255:1;this.h.m(e[1],t)},G:function(e){this.c=this.b[e]||(this.b[e]=new a)},H:function(){},f:function(e){this.c.f(e)},g:function(e,t,r){this.c.g(e,t,r)},finish:function(){for(var e in this.b)this.h.c(e,this.b[e].j)}},l.prototype={m:function(e){var t=this.b,r=this.a;t.fillStyle=E.M(e),t.fillRect(0,0,r,r)},G:function(e){this.b.fillStyle=E.M(e),this.b.beginPath()},H:function(){this.b.fill()},f:function(e){var t,r=this.b;for(r.moveTo(e[0].x,e[0].y),t=1;t<e.length;t++)r.lineTo(e[t].x,e[t].y);r.closePath()},g:function(e,t,r){var n=this.b;t/=2,n.moveTo(e.x+t,e.y+t),n.arc(e.x+t,e.y+t,t,0,2*Math.PI,r),n.closePath()},finish:function(){this.b.restore()}},u.prototype={f:function(e,t){var r=t?-2:2,n=this.c,o=[];for(t=t?e.length-2:0;t<e.length&&0<=t;t+=r)o.push(n.l(e[t],e[t+1]));this.h.f(o)},g:function(e,t,r,n){e=this.c.l(e,t,r,r),this.h.g(e,r,n)},a:function(e,t,r,n,o){this.f([e,t,e+r,t,e+r,t+n,e,t+n],o)},b:function(e,t,r,n,o,i){(e=[e+r,t,e+r,t+n,e,t+n,e,t]).splice((o||0)%4*2,2),this.f(e,i)},l:function(e,t,r,n,o){this.f([e+r/2,t,e+r,t+n/2,e+r/2,t+n,e,t+n/2],o)}};var x={u:function(e){return/^[0-9a-f]{11,}$/i.test(e)&&e},s:function(e){return function(e){return function(e){for(var t=[],r=0;r<e.length;r++)for(var n=e[r],o=28;0<=o;o-=4)t.push((n>>>o&15).toString(16));return t.join("")}(function(e){for(var t=1732584193,r=4023233417,n=2562383102,o=271733878,i=3285377520,s=[t,r,n,o,i],a=0;a<e.length;a++){for(var c=e[a],l=16;80>l;l++){var u=c[l-3]^c[l-8]^c[l-14]^c[l-16];c[l]=u<<1|u>>>31}for(l=0;80>l;l++)u=(t<<5|t>>>27)+(20>l?1518500249+(r&n^~r&o):40>l?1859775393+(r^n^o):60>l?2400959708+(r&n^r&o^n&o):3395469782+(r^n^o))+i+c[l],i=o,o=n,n=r<<30|r>>>2,r=t,t=0|u;s[0]=t=s[0]+t|0,s[1]=r=s[1]+r|0,s[2]=n=s[2]+n|0,s[3]=o=s[3]+o|0,s[4]=i=s[4]+i|0}return s}(function(e){function t(e,t){for(var r=[],o=-1,i=0;i<t;i++)r[o=i/4|0]=(r[o]||0)+(n[e+i]<<8*(3-(3&i)));for(;16>++o;)r[o]=0;return r}var r=encodeURI(e),n=[];e=0;var o,s=[];for(o=0;o<r.length;o++){if("%"==r[o]){var a=i(r,o+1,2);o+=2}else a=r.charCodeAt(o);n[e++]=a}for(n[e++]=128,o=0;o+64<=e;o+=64)s.push(t(o,64));return o=t(o,r=e-o),64<r+8&&(s.push(o),o=t(0,0)),o[15]=8*e-8,s.push(o),s}(e)))}(null==e?"":""+e)}},E={S:function(e,t,r){return"#"+f(e)+f(t)+f(r)},parse:function(e){if(/^#[0-9a-f]{3,8}$/i.test(e)){if(6>e.length){var t=e[1],r=e[2],n=e[3];return"#"+t+t+r+r+n+n+(e=e[4]||"")+e}if(7==e.length||8<e.length)return e}},M:function(e){var t=i(e,7,2);return isNaN(t)?e:"rgba("+i(e,1,2)+","+i(e,3,2)+","+(e=i(e,5,2))+","+(t/255).toFixed(2)+")"},P:function(e,t,r){return 0==t?"#"+(e=f(255*r))+e+e:"#"+p(r=2*r-(t=.5>=r?r*(t+1):r+t-r*t),t,6*e+2)+p(r,t,6*e)+p(r,t,6*e-2)},i:function(e,t,r){var n=[.55,.5,.5,.46,.6,.55,.55][6*e+.5|0];return E.P(e,t,.5>r?r*n*2:n+(r-.5)*(1-n)*2)}};return v.prototype={l:function(e,t,r,n){var o=this.b+this.h,i=this.c+this.h;return 1===this.a?new d(o-t-(n||0),this.c+e):2===this.a?new d(o-e-(r||0),i-t-(n||0)):3===this.a?new d(this.b+t,i-e-(r||0)):new d(this.b+e,this.c+t)}},v.a=new v(0,0,0,0),m.drawIcon=function(t,r,n,o){if(!t)throw Error("No canvas specified.");y(t=new l(t,n),x.u(r)||x.s(r),0,0,n,h(m,e,o,0))},m.toSvg=function(t,r,n){var i=new o(r);return y(new c(i),x.u(t)||x.s(t),0,0,r,h(m,e,n,.08)),i.toString()},m.update=g,m.version="2.2.0",t&&(t.fn.jdenticon=function(e,t){return this.each((function(r,n){g(n,e,t)})),this}),"function"==typeof setTimeout&&setTimeout((function(){var t=(m.config||e.jdenticon_config||{}).replaceMode;"never"!=t&&(m(),"observe"==t&&function(e){"undefined"!=typeof MutationObserver&&new MutationObserver((function(t){for(var r=0;r<t.length;r++){for(var n=t[r],o=n.addedNodes,i=0;o&&i<o.length;i++){var s=o[i];if(1==s.nodeType)if(b.B(s))e(s);else{s=s.querySelectorAll(b.C);for(var a=0;a<s.length;a++)e(s[a])}}"attributes"==n.type&&b.B(n.target)&&e(n.target)}})).observe(document.body,{childList:!0,attributes:!0,attributeFilter:[b.o,b.v,"width","height"],subtree:!0})}(g))}),0),m}(o,o&&o.jQuery),"exports"in e?e.exports=i:void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)},23008:function(e){var t;t=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=32)}([function(e,t,r){"use strict";(function(e,n){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(17),s=r(15),a=r(37),c=r(16),l=r(18),u={};t.clone=function(r,n){if("object"!==(void 0===r?"undefined":o(r))||null===r)return r;var i=(n=n||new Map).get(r);if(i)return i;var s=void 0,a=!1;if(Array.isArray(r))s=[],a=!0;else if(e.isBuffer(r))s=e.from(r);else if(r instanceof Date)s=new Date(r.getTime());else if(r instanceof RegExp)s=new RegExp(r);else{var c=Object.getPrototypeOf(r);c&&c.isImmutable?s=r:(s=Object.create(c),a=!0)}if(n.set(r,s),a)for(var l=Object.getOwnPropertyNames(r),u=0;u<l.length;++u){var f=l[u],p=Object.getOwnPropertyDescriptor(r,f);p&&(p.get||p.set)?Object.defineProperty(s,f,p):s[f]=t.clone(r[f],n)}return s},t.merge=function(r,n,i,s){if(t.assert(r&&"object"===(void 0===r?"undefined":o(r)),"Invalid target value: must be an object"),t.assert(null==n||"object"===(void 0===n?"undefined":o(n)),"Invalid source value: must be null, undefined, or an object"),!n)return r;if(Array.isArray(n)){t.assert(Array.isArray(r),"Cannot merge array onto an object"),!1===s&&(r.length=0);for(var a=0;a<n.length;++a)r.push(t.clone(n[a]));return r}for(var c=Object.keys(n),l=0;l<c.length;++l){var u=c[l];if("__proto__"!==u){var f=n[u];f&&"object"===(void 0===f?"undefined":o(f))?!r[u]||"object"!==o(r[u])||Array.isArray(r[u])!==Array.isArray(f)||f instanceof Date||e.isBuffer(f)||f instanceof RegExp?r[u]=t.clone(f):t.merge(r[u],f,i,s):(null!=f||!1!==i)&&(r[u]=f)}}return r},t.applyToDefaults=function(e,r,n){if(t.assert(e&&"object"===(void 0===e?"undefined":o(e)),"Invalid defaults value: must be an object"),t.assert(!r||!0===r||"object"===(void 0===r?"undefined":o(r)),"Invalid options value: must be true, falsy or an object"),!r)return null;var i=t.clone(e);return!0===r?i:t.merge(i,r,!0===n,!1)},t.cloneWithShallow=function(e,r){if(!e||"object"!==(void 0===e?"undefined":o(e)))return e;var n=u.store(e,r),i=t.clone(e);return u.restore(i,e,n),i},u.store=function(e,r){for(var n={},o=0;o<r.length;++o){var i=r[o],s=t.reach(e,i);void 0!==s&&(n[i]=s,u.reachSet(e,i,void 0))}return n},u.restore=function(e,t,r){for(var n=Object.keys(r),o=0;o<n.length;++o){var i=n[o];u.reachSet(e,i,r[i]),u.reachSet(t,i,r[i])}},u.reachSet=function(e,t,r){for(var n=t.split("."),o=e,i=0;i<n.length;++i){var s=n[i];i+1===n.length&&(o[s]=r),o=o[s]}},t.applyToDefaultsWithShallow=function(e,r,n){if(t.assert(e&&"object"===(void 0===e?"undefined":o(e)),"Invalid defaults value: must be an object"),t.assert(!r||!0===r||"object"===(void 0===r?"undefined":o(r)),"Invalid options value: must be true, falsy or an object"),t.assert(n&&Array.isArray(n),"Invalid keys"),!r)return null;var i=t.cloneWithShallow(e,n);if(!0===r)return i;var s=u.store(r,n);return t.merge(i,r,!1,!1),u.restore(i,r,s),i},t.deepEqual=function(r,n,i,s){i=i||{prototype:!0};var a=void 0===r?"undefined":o(r);if(a!==(void 0===n?"undefined":o(n)))return!1;if("object"!==a||null===r||null===n)return r===n?0!==r||1/r==1/n:r!=r&&n!=n;if(-1!==(s=s||[]).indexOf(r))return!0;if(s.push(r),Array.isArray(r)){if(!Array.isArray(n))return!1;if(!i.part&&r.length!==n.length)return!1;for(var c=0;c<r.length;++c){if(i.part){for(var l=!1,u=0;u<n.length;++u)if(t.deepEqual(r[c],n[u],i)){l=!0;break}return l}if(!t.deepEqual(r[c],n[c],i))return!1}return!0}if(e.isBuffer(r)){if(!e.isBuffer(n))return!1;if(r.length!==n.length)return!1;for(var f=0;f<r.length;++f)if(r[f]!==n[f])return!1;return!0}if(r instanceof Date)return n instanceof Date&&r.getTime()===n.getTime();if(r instanceof RegExp)return n instanceof RegExp&&r.toString()===n.toString();if(i.prototype&&Object.getPrototypeOf(r)!==Object.getPrototypeOf(n))return!1;var p=Object.getOwnPropertyNames(r);if(!i.part&&p.length!==Object.getOwnPropertyNames(n).length)return!1;for(var h=0;h<p.length;++h){var d=p[h],v=Object.getOwnPropertyDescriptor(r,d);if(v.get){if(!t.deepEqual(v,Object.getOwnPropertyDescriptor(n,d),i,s))return!1}else if(!t.deepEqual(r[d],n[d],i,s))return!1}return!0},t.unique=function(e,t){var r=void 0;if(t){r=[];var n=new Set;e.forEach((function(e){var o=e[t];n.has(o)||(n.add(o),r.push(e))}))}else r=Array.from(new Set(e));return r},t.mapToObject=function(e,t){if(!e)return null;for(var r={},n=0;n<e.length;++n)t?e[n][t]&&(r[e[n][t]]=!0):r[e[n]]=!0;return r},t.intersect=function(e,r,n){if(!e||!r)return[];for(var o=[],i=Array.isArray(e)?t.mapToObject(e):e,s={},a=0;a<r.length;++a)if(i[r[a]]&&!s[r[a]]){if(n)return r[a];o.push(r[a]),s[r[a]]=!0}return n?null:o},t.contain=function(e,r,n){var i=null;"object"!==(void 0===e?"undefined":o(e))||"object"!==(void 0===r?"undefined":o(r))||Array.isArray(e)||Array.isArray(r)?r=[].concat(r):(i=r,r=Object.keys(r)),n=n||{},t.assert("string"==typeof e||"object"===(void 0===e?"undefined":o(e)),"Reference must be string or an object"),t.assert(r.length,"Values array cannot be empty");var s=void 0,a=void 0;if(n.deep){s=t.deepEqual;var c=n.hasOwnProperty("only"),l=n.hasOwnProperty("part");a={prototype:c?n.only:!!l&&!n.part,part:c?!n.only:!l||n.part}}else s=function(e,t){return e===t};for(var u=!1,f=new Array(r.length),p=0;p<f.length;++p)f[p]=0;if("string"==typeof e){for(var h="(",d=0;d<r.length;++d){var v=r[d];t.assert("string"==typeof v,"Cannot compare string reference to non-string value"),h+=(d?"|":"")+t.escapeRegex(v)}var y=new RegExp(h+")","g");u=!!e.replace(y,(function(e,t){var n=r.indexOf(t);return++f[n],""}))}else if(Array.isArray(e))for(var g=0;g<e.length;++g){for(var m=!1,b=0;b<r.length&&!1===m;++b)m=s(r[b],e[g],a)&&b;!1!==m?++f[m]:u=!0}else for(var w=Object.getOwnPropertyNames(e),x=0;x<w.length;++x){var E=w[x],_=r.indexOf(E);if(-1!==_){if(i&&!s(i[E],e[E],a))return!1;++f[_]}else u=!0}for(var S=!1,O=0;O<f.length;++O)if(S=S||!!f[O],n.once&&f[O]>1||!n.part&&!f[O])return!1;return(!n.only||!u)&&S},t.flatten=function(e,r){for(var n=r||[],o=0;o<e.length;++o)Array.isArray(e[o])?t.flatten(e[o],n):n.push(e[o]);return n},t.reach=function(e,r,n){if(!1===r||null==r)return e;"string"==typeof(n=n||{})&&(n={separator:n});for(var i=r.split(n.separator||"."),s=e,a=0;a<i.length;++a){var c=i[a];if("-"===c[0]&&Array.isArray(s)&&(c=c.slice(1,c.length),c=s.length-c),!s||"object"!==(void 0===s?"undefined":o(s))&&"function"!=typeof s||!(c in s)||"object"!==(void 0===s?"undefined":o(s))&&!1===n.functions){t.assert(!n.strict||a+1===i.length,"Missing segment",c,"in reach path ",r),t.assert("object"===(void 0===s?"undefined":o(s))||!0===n.functions||"function"!=typeof s,"Invalid segment",c,"in reach path ",r),s=n.default;break}s=s[c]}return s},t.reachTemplate=function(e,r,n){return r.replace(/{([^}]+)}/g,(function(r,o){var i=t.reach(e,o,n);return null==i?"":i}))},t.formatStack=function(e){for(var t=[],r=0;r<e.length;++r){var n=e[r];t.push([n.getFileName(),n.getLineNumber(),n.getColumnNumber(),n.getFunctionName(),n.isConstructor()])}return t},t.formatTrace=function(e){for(var t=[],r=0;r<e.length;++r){var n=e[r];t.push((n[4]?"new ":"")+n[3]+" ("+n[0]+":"+n[1]+":"+n[2]+")")}return t},t.callStack=function(e){var r=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};var n={};Error.captureStackTrace(n,this);var o=n.stack;return Error.prepareStackTrace=r,t.formatStack(o).slice(1+e)},t.displayStack=function(e){var r=t.callStack(void 0===e?1:e+1);return t.formatTrace(r)},t.abortThrow=!1,t.abort=function(e,r){if("test"===n.env.NODE_ENV||!0===t.abortThrow)throw new Error(e||"Unknown error");var o="";r||(o=t.displayStack(1).join("\n\t")),console.log("ABORT: "+e+"\n\t"+o),n.exit(1)},t.assert=function(e){if(!e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(1===n.length&&n[0]instanceof Error)throw n[0];var s=n.filter((function(e){return""!==e})).map((function(e){return"string"==typeof e?e:e instanceof Error?e.message:t.stringify(e)}));throw new i.AssertionError({message:s.join(" ")||"Unknown error",actual:!1,expected:!0,operator:"==",stackStartFunction:t.assert})}},t.Bench=function(){this.ts=0,this.reset()},t.Bench.prototype.reset=function(){this.ts=t.Bench.now()},t.Bench.prototype.elapsed=function(){return t.Bench.now()-this.ts},t.Bench.now=function(){var e=n.hrtime();return 1e3*e[0]+e[1]/1e6},t.escapeRegex=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")},t.base64urlEncode=function(r,n){return t.assert("string"==typeof r||e.isBuffer(r),"value must be string or buffer"),(e.isBuffer(r)?r:e.from(r,n||"binary")).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")},t.base64urlDecode=function(t,r){if("string"!=typeof t)throw new Error("Value not a string");if(!/^[\w\-]*$/.test(t))throw new Error("Invalid character");var n=e.from(t,"base64");return"buffer"===r?n:n.toString(r||"binary")},t.escapeHeaderAttribute=function(e){return t.assert(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(e),"Bad attribute value ("+e+")"),e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},t.escapeHtml=function(e){return l.escapeHtml(e)},t.escapeJavaScript=function(e){return l.escapeJavaScript(e)},t.escapeJson=function(e){return l.escapeJson(e)},t.once=function(e){if(e._hoekOnce)return e;var t=!1,r=function(){if(!t){t=!0;for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];e.apply(null,n)}};return r._hoekOnce=!0,r},t.isInteger=Number.isSafeInteger,t.ignore=function(){},t.inherits=c.inherits,t.format=c.format,t.transform=function(e,r,n){t.assert(null==e||"object"===(void 0===e?"undefined":o(e))||Array.isArray(e),"Invalid source object: must be null, undefined, an object, or an array");var i="object"===(void 0===n?"undefined":o(n))&&null!==n&&n.separator||".";if(Array.isArray(e)){for(var s=[],a=0;a<e.length;++a)s.push(t.transform(e[a],r,n));return s}for(var c={},l=Object.keys(r),u=0;u<l.length;++u){var f=l[u],p=f.split(i),h=r[f];t.assert("string"==typeof h,'All mappings must be "." delineated strings');for(var d=void 0,v=c;p.length>1;)v[d=p.shift()]||(v[d]={}),v=v[d];v[d=p.shift()]=t.reach(e,h,n)}return c},t.uniqueFilename=function(e,t){t=t?"."!==t[0]?"."+t:t:"",e=a.resolve(e);var r=[Date.now(),n.pid,s.randomBytes(8).toString("hex")].join("-")+t;return a.join(e,r)},t.stringify=function(){try{for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return JSON.stringify.apply(null,t)}catch(e){return"[Cannot display object: "+e.message+"]"}},t.shallow=function(e){for(var t={},r=Object.keys(e),n=0;n<r.length;++n){var o=r[n];t[o]=e[o]}return t},t.wait=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.block=function(){return new Promise(t.ignore)}}).call(t,r(3).Buffer,r(7))},function(e,t,r){"use strict";var n=r(0);t.create=function(e,t){n.assert("string"==typeof e,"Invalid reference key:",e);var r=n.clone(t),o=function e(t,o){return n.reach(e.isContext?o.context:t,e.key,r)};return o.isContext=e[0]===(r&&r.contextPrefix||"$"),o.key=o.isContext?e.slice(1):e,o.path=o.key.split(r&&r.separator||"."),o.depth=o.path.length,o.root=o.path[0],o.isJoi=!0,o.toString=function(){return(o.isContext?"context:":"ref:")+o.key},o},t.isRef=function(e){return"function"==typeof e&&e.isJoi},t.push=function(e,r){t.isRef(r)&&!r.isContext&&e.push(r.root)}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),s=r(11),a=r(1),c=r(6),l=null,u=null,f={Set:r(9),defaults:{abortEarly:!0,convert:!0,allowUnknown:!1,skipFunctions:!1,stripUnknown:!1,language:{},presence:"optional",strip:!1,noDefaults:!1,escapeHtml:!1}};e.exports=f.Any=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u=u||r(4),this.isJoi=!0,this._type="any",this._settings=null,this._valids=new f.Set,this._invalids=new f.Set,this._tests=[],this._refs=[],this._flags={},this._description=null,this._unit=null,this._notes=[],this._tags=[],this._examples=[],this._meta=[],this._inner={}}return e.prototype._init=function(){return this},e.prototype.createError=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this._flags;return c.create(e,t,r,n,o)},e.prototype.createOverrideError=function(e,t,r,n,o,i){return c.create(e,t,r,n,this._flags,o,i)},e.prototype.checkOptions=function(e){var t=r(21).options.validate(e);if(t.error)throw new Error(t.error.details[0].message)},e.prototype.clone=function(){var e=Object.create(Object.getPrototypeOf(this));e.isJoi=!0,e._currentJoi=this._currentJoi,e._type=this._type,e._settings=this._settings,e._baseType=this._baseType,e._valids=this._valids.slice(),e._invalids=this._invalids.slice(),e._tests=this._tests.slice(),e._refs=this._refs.slice(),e._flags=i.clone(this._flags),e._description=this._description,e._unit=this._unit,e._notes=this._notes.slice(),e._tags=this._tags.slice(),e._examples=this._examples.slice(),e._meta=this._meta.slice(),e._inner={};for(var t=Object.keys(this._inner),r=0;r<t.length;++r){var n=t[r];e._inner[n]=this._inner[n]?this._inner[n].slice():null}return e},e.prototype.concat=function(e){i.assert(e instanceof f.Any,"Invalid schema object"),i.assert("any"===this._type||"any"===e._type||e._type===this._type,"Cannot merge type",this._type,"with another type:",e._type);var t=this.clone();if("any"===this._type&&"any"!==e._type){for(var r=e.clone(),n=["_settings","_valids","_invalids","_tests","_refs","_flags","_description","_unit","_notes","_tags","_examples","_meta","_inner"],o=0;o<n.length;++o)r[n[o]]=t[n[o]];t=r}t._settings=t._settings?s.concat(t._settings,e._settings):e._settings,t._valids.merge(e._valids,e._invalids),t._invalids.merge(e._invalids,e._valids),t._tests=t._tests.concat(e._tests),t._refs=t._refs.concat(e._refs),i.merge(t._flags,e._flags),t._description=e._description||t._description,t._unit=e._unit||t._unit,t._notes=t._notes.concat(e._notes),t._tags=t._tags.concat(e._tags),t._examples=t._examples.concat(e._examples),t._meta=t._meta.concat(e._meta);for(var a=Object.keys(e._inner),c="object"===t._type,l=0;l<a.length;++l){var u=a[l],p=e._inner[u];if(p){var h=t._inner[u];if(h)if(c&&"children"===u){for(var d={},v=0;v<h.length;++v)d[h[v].key]=v;for(var y=0;y<p.length;++y){var g=p[y].key;d[g]>=0?h[d[g]]={key:g,schema:h[d[g]].schema.concat(p[y].schema)}:h.push(p[y])}}else t._inner[u]=t._inner[u].concat(p);else t._inner[u]=p.slice()}}return t},e.prototype._test=function(e,t,r,n){var o=this.clone();return o._tests.push({func:r,name:e,arg:t,options:n}),o},e.prototype.options=function(e){i.assert(!e.context,"Cannot override context"),this.checkOptions(e);var t=this.clone();return t._settings=s.concat(t._settings,e),t},e.prototype.strict=function(e){var t=this.clone(),r=void 0!==e&&!e;return t._settings=s.concat(t._settings,{convert:r}),t},e.prototype.raw=function(e){var t=void 0===e||e;if(this._flags.raw===t)return this;var r=this.clone();return r._flags.raw=t,r},e.prototype.error=function(e){i.assert(e&&(e instanceof Error||"function"==typeof e),"Must provide a valid Error object or a function");var t=this.clone();return t._flags.error=e,t},e.prototype.allow=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=this.clone();t=i.flatten(t);for(var o=0;o<t.length;++o){var s=t[o];i.assert(void 0!==s,"Cannot call allow/valid/invalid with undefined"),n._invalids.remove(s),n._valids.add(s,n._refs)}return n},e.prototype.valid=function(){var e=this.allow.apply(this,arguments);return e._flags.allowOnly=!0,e},e.prototype.invalid=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=this.clone();t=i.flatten(t);for(var o=0;o<t.length;++o){var s=t[o];i.assert(void 0!==s,"Cannot call allow/valid/invalid with undefined"),n._valids.remove(s),n._invalids.add(s,n._refs)}return n},e.prototype.required=function(){if("required"===this._flags.presence)return this;var e=this.clone();return e._flags.presence="required",e},e.prototype.optional=function(){if("optional"===this._flags.presence)return this;var e=this.clone();return e._flags.presence="optional",e},e.prototype.forbidden=function(){if("forbidden"===this._flags.presence)return this;var e=this.clone();return e._flags.presence="forbidden",e},e.prototype.strip=function(){if(this._flags.strip)return this;var e=this.clone();return e._flags.strip=!0,e},e.prototype.applyFunctionToChildren=function(e,t,r,n){if(1!==(e=[].concat(e)).length||""!==e[0]){n=n?n+".":"";var o=(""===e[0]?e.slice(1):e).map((function(e){return n+e}));throw new Error("unknown key(s) "+o.join(", "))}return this[t].apply(this,r)},e.prototype.default=function(e,t){"function"!=typeof e||a.isRef(e)||(!e.description&&t&&(e.description=t),this._flags.func||i.assert("string"==typeof e.description&&e.description.length>0,"description must be provided when default value is a function"));var r=this.clone();return r._flags.default=e,a.push(r._refs,e),r},e.prototype.empty=function(e){var t=this.clone();return void 0===e?delete t._flags.empty:t._flags.empty=u.schema(this._currentJoi,e),t},e.prototype.when=function(e,t){i.assert(t&&"object"===(void 0===t?"undefined":n(t)),"Invalid options"),i.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of "then" or "otherwise"');var o=t.hasOwnProperty("then")?this.concat(u.schema(this._currentJoi,t.then)):void 0,s=t.hasOwnProperty("otherwise")?this.concat(u.schema(this._currentJoi,t.otherwise)):void 0;l=l||r(10);var a={then:o,otherwise:s};Object.prototype.hasOwnProperty.call(t,"is")&&(a.is=t.is);var c=l.when(e,a);return c._flags.presence="ignore",c._baseType=this,c},e.prototype.description=function(e){i.assert(e&&"string"==typeof e,"Description must be a non-empty string");var t=this.clone();return t._description=e,t},e.prototype.notes=function(e){i.assert(e&&("string"==typeof e||Array.isArray(e)),"Notes must be a non-empty string or array");var t=this.clone();return t._notes=t._notes.concat(e),t},e.prototype.tags=function(e){i.assert(e&&("string"==typeof e||Array.isArray(e)),"Tags must be a non-empty string or array");var t=this.clone();return t._tags=t._tags.concat(e),t},e.prototype.meta=function(e){i.assert(void 0!==e,"Meta cannot be undefined");var t=this.clone();return t._meta=t._meta.concat(e),t},e.prototype.example=function(){i.assert(1===arguments.length,"Missing example");var e=arguments.length<=0?void 0:arguments[0],t=this.clone();return t._examples.push(e),t},e.prototype.unit=function(e){i.assert(e&&"string"==typeof e,"Unit name must be a non-empty string");var t=this.clone();return t._unit=e,t},e.prototype._prepareEmptyValue=function(e){return"string"==typeof e&&this._flags.trim?e.trim():e},e.prototype._validate=function(e,t,r,n){var o=this,l=e;t=t||{key:"",path:[],parent:null,reference:n},this._settings&&(r=s.concat(r,this._settings));var u=[],p=function(){var n=void 0;if(void 0!==e)n=o._flags.raw?l:e;else if(r.noDefaults)n=e;else if(a.isRef(o._flags.default))n=o._flags.default(t.parent,r);else if("function"!=typeof o._flags.default||o._flags.func&&!o._flags.default.description)n=i.clone(o._flags.default);else{var s=void 0;null!==t.parent&&o._flags.default.length>0&&(s=[i.clone(t.parent),r]);var c=f._try(o._flags.default,s);n=c.value,c.error&&u.push(o.createError("any.default",{error:c.error},t,r))}if(u.length&&"function"==typeof o._flags.error){var p=o._flags.error.call(o,u);u="string"==typeof p?[o.createOverrideError("override",{reason:u},t,r,p)]:[].concat(p).map((function(e){return e instanceof Error?e:o.createOverrideError(e.type||"override",e.context,t,r,e.message,e.template)}))}return{value:o._flags.strip?void 0:n,finalValue:n,errors:u.length?u:null}};if(this._coerce){var h=this._coerce.call(this,e,t,r);if(h.errors)return e=h.value,u=u.concat(h.errors),p();e=h.value}this._flags.empty&&!this._flags.empty._validate(this._prepareEmptyValue(e),null,f.defaults).errors&&(e=void 0);var d=this._flags.presence||r.presence;if("optional"===d){if(void 0===e){if(!this._flags.hasOwnProperty("default")||void 0!==this._flags.default||"object"!==this._type)return p();e={}}}else{if("required"===d&&void 0===e)return u.push(this.createError("any.required",null,t,r)),p();if("forbidden"===d)return void 0===e||u.push(this.createError("any.unknown",null,t,r)),p()}if(this._valids.has(e,t,r,this._flags.insensitive))return p();if(this._invalids.has(e,t,r,this._flags.insensitive)&&(u.push(this.createError(""===e?"any.empty":"any.invalid",{value:e,invalids:this._invalids.values({stripUndefined:!0})},t,r)),r.abortEarly||void 0===e))return p();if(this._base){var v=this._base.call(this,e,t,r);if(v.errors)return e=v.value,u=u.concat(v.errors),p();if(v.value!==e){if(e=v.value,this._valids.has(e,t,r,this._flags.insensitive))return p();if(this._invalids.has(e,t,r,this._flags.insensitive)&&(u.push(this.createError(""===e?"any.empty":"any.invalid",{value:e,invalids:this._invalids.values({stripUndefined:!0})},t,r)),r.abortEarly))return p()}}if(this._flags.allowOnly&&(u.push(this.createError("any.allowOnly",{value:e,valids:this._valids.values({stripUndefined:!0})},t,r)),r.abortEarly))return p();for(var y=0;y<this._tests.length;++y){var g=this._tests[y].func.call(this,e,t,r);if(g instanceof c.Err){if(u.push(g),r.abortEarly)return p()}else e=g}return p()},e.prototype._validateWithOptions=function(e,t,r){t&&this.checkOptions(t);var n=s.concat(f.defaults,t),o=this._validate(e,null,n),i=c.process(o.errors,e);return r?r(i,o.value):{error:i,value:o.value,then:function(e,t){return i?Promise.reject(i).catch(t):Promise.resolve(o.value).then(e)},catch:function(e){return i?Promise.reject(i).catch(e):Promise.resolve(o.value)}}},e.prototype.validate=function(e,t,r){return"function"==typeof t?this._validateWithOptions(e,null,t):this._validateWithOptions(e,t,r)},e.prototype.describe=function(){var e=this,t={type:this._type},r=Object.keys(this._flags);if(r.length)if(["empty","default","lazy","label"].some((function(t){return e._flags.hasOwnProperty(t)}))){t.flags={};for(var n=0;n<r.length;++n){var o=r[n];"empty"===o?t.flags[o]=this._flags[o].describe():"default"===o?a.isRef(this._flags[o])?t.flags[o]=this._flags[o].toString():"function"==typeof this._flags[o]?t.flags[o]={description:this._flags[o].description,function:this._flags[o]}:t.flags[o]=this._flags[o]:"lazy"===o||"label"===o||(t.flags[o]=this._flags[o])}}else t.flags=this._flags;this._settings&&(t.options=i.clone(this._settings)),this._baseType&&(t.base=this._baseType.describe()),this._description&&(t.description=this._description),this._notes.length&&(t.notes=this._notes),this._tags.length&&(t.tags=this._tags),this._meta.length&&(t.meta=this._meta),this._examples.length&&(t.examples=this._examples),this._unit&&(t.unit=this._unit);var s=this._valids.values();s.length&&(t.valids=s.map((function(e){return a.isRef(e)?e.toString():e})));var c=this._invalids.values();c.length&&(t.invalids=c.map((function(e){return a.isRef(e)?e.toString():e}))),t.rules=[];for(var l=0;l<this._tests.length;++l){var u=this._tests[l],f={name:u.name};void 0!==u.arg&&(f.arg=a.isRef(u.arg)?u.arg.toString():u.arg);var p=u.options;if(p){if(p.hasRef){f.arg={};for(var h=Object.keys(u.arg),d=0;d<h.length;++d){var v=h[d],y=u.arg[v];f.arg[v]=a.isRef(y)?y.toString():y}}"string"==typeof p.description?f.description=p.description:"function"==typeof p.description&&(f.description=p.description(f.arg))}t.rules.push(f)}t.rules.length||delete t.rules;var g=this._getLabel();return g&&(t.label=g),t},e.prototype.label=function(e){i.assert(e&&"string"==typeof e,"Label name must be a non-empty string");var t=this.clone();return t._flags.label=e,t},e.prototype._getLabel=function(e){return this._flags.label||e},o(e,[{key:"schemaType",get:function(){return this._type}}]),e}(),f.Any.prototype.isImmutable=!0,f.Any.prototype.only=f.Any.prototype.equal=f.Any.prototype.valid,f.Any.prototype.disallow=f.Any.prototype.not=f.Any.prototype.invalid,f.Any.prototype.exist=f.Any.prototype.required,f._try=function(e,t){var r=void 0,n=void 0;try{n=e.apply(null,t)}catch(e){r=e}return{value:n,error:r}}},function(e,t,r){"use strict";(function(e){var n=r(33),o=r(34),i=r(35);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return l(this,e,t,r)}function l(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=p(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(t,r),o=(e=a(e,n)).write(t,r);return o!==n&&(e=e.slice(0,o)),e}(e,t,r):function(e,t){if(c.isBuffer(t)){var r=0|h(t.length);return 0===(e=a(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(u(t),e=a(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|h(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function d(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return B(e).length;default:if(n)return F(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,r);case"utf8":case"utf-8":return j(this,t,r);case"ascii":return I(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,o);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function m(e,t,r,n,o){var i,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var u=-1;for(i=r;i<a;i++)if(l(e,i)===l(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===c)return u*s}else-1!==u&&(i-=i-u),u=-1}else for(r+c>a&&(r=a-c),i=r;i>=0;i--){for(var f=!0,p=0;p<c;p++)if(l(e,i+p)!==l(t,p)){f=!1;break}if(f)return i}return-1}function b(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function w(e,t,r,n){return J(F(t,e.length-r),e,r,n)}function x(e,t,r,n){return J(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return x(e,t,r,n)}function _(e,t,r,n){return J(B(t),e,r,n)}function S(e,t,r,n){return J(function(e,t){for(var r,n,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function O(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function j(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,s,a,c,l=e[o],u=null,f=l>239?4:l>223?3:l>191?2:1;if(o+f<=r)switch(f){case 1:l<128&&(u=l);break;case 2:128==(192&(i=e[o+1]))&&(c=(31&l)<<6|63&i)>127&&(u=c);break;case 3:i=e[o+1],s=e[o+2],128==(192&i)&&128==(192&s)&&(c=(15&l)<<12|(63&i)<<6|63&s)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:i=e[o+1],s=e[o+2],a=e[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(c=(15&l)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(u=c)}null===u?(u=65533,f=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),o+=f}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}(n)}t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,r){return l(null,e,t,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,r){return function(e,t,r,n){return u(t),t<=0?a(e,t):void 0!==r?"string"==typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}(null,e,t,r)},c.allocUnsafe=function(e){return f(null,e)},c.allocUnsafeSlow=function(e){return f(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var s=e[r];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,o),o+=s.length}return n},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?j(this,0,e):v.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,r,n,o){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(i,s),l=this.slice(n,o),u=e.slice(t,r),f=0;f<a;++f)if(l[f]!==u[f]){i=l[f],s=u[f];break}return i<s?-1:s<i?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return x(this,e,t,r);case"latin1":case"binary":return E(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function I(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function T(e,t,r){var n,o=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>o)&&(r=o);for(var i="",s=t;s<r;++s)i+=(n=e[s])<16?"0"+n.toString(16):n.toString(16);return i}function L(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function k(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,r,n,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function C(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function P(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function D(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(e,t,r,n,i){return i||D(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function $(e,t,r,n,i){return i||D(e,0,r,8),o.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=c.prototype;else{var o=t-e;r=new c(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},c.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},c.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},c.prototype.readUInt8=function(e,t){return t||k(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||k(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||k(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||k(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){t||k(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||k(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||k(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||k(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||k(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):C(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):C(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);N(this,e,t,r,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);N(this,e,t,r,o-1,-o)}var i=r-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):C(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):C(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,r){return M(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return M(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return $(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return $(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var s=c.isBuffer(e)?e:F(new c(e,n).toString()),a=s.length;for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function F(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function B(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function J(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}}).call(t,r(5))},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(0),i=r(1);t.schema=function(e,t){return null!=t&&"object"===(void 0===t?"undefined":n(t))?t.isJoi?t:Array.isArray(t)?e.alternatives().try(t):t instanceof RegExp?e.string().regex(t):t instanceof Date?e.date().valid(t):e.object().keys(t):"string"==typeof t?e.string().valid(t):"number"==typeof t?e.number().valid(t):"boolean"==typeof t?e.boolean().valid(t):i.isRef(t)?e.valid(t):(o.assert(null===t,"Invalid schema content:",t),e.valid(null))},t.ref=function(e){return i.isRef(e)?e:i.create(e)}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(0),i=r(20),s={annotations:Symbol("joi-annotations"),stringify:function(e,r){var o=void 0===e?"undefined":n(e);if(null===e)return"null";if("string"===o)return e;if(e instanceof t.Err||"function"===o||"symbol"===o)return e.toString();if("object"===o){if(Array.isArray(e)){for(var i="",a=0;a<e.length;++a)i=i+(i.length?", ":"")+s.stringify(e[a],r);return r?"["+i+"]":i}return e.toString()}return JSON.stringify(e)}};t.Err=function(){function e(t,r,n,o,s,a,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isJoi=!0,this.type=t,this.context=r||{},this.context.key=n.path[n.path.length-1],this.context.label=n.key,this.path=n.path,this.options=o,this.flags=s,this.message=a,this.template=c;var l=this.options.language;this.flags.label?this.context.label=this.flags.label:!l||""!==this.context.label&&null!==this.context.label||(this.context.label=l.root||i.errors.root)}return e.prototype.toString=function(){var e=this;if(this.message)return this.message;var t=void 0;this.template&&(t=this.template);var r=this.options.language;if(void 0===(t=t||o.reach(r,this.type)||o.reach(i.errors,this.type)))return'Error code "'+this.type+'" is not defined, your custom type is missing the correct language definition';var n=o.reach(r,"messages.wrapArrays");if("boolean"!=typeof n&&(n=i.errors.messages.wrapArrays),null===t){var a=s.stringify(this.context.reason,n);return n?a.slice(1,-1):a}var c=/\{\{\!?label\}\}/.test(t),l=t.length>2&&"!"===t[0]&&"!"===t[1];if(l&&(t=t.slice(2)),!c&&!l){var u=o.reach(r,"key");t="string"==typeof u?u+t:o.reach(i.errors,"key")+t}return t.replace(/\{\{(\!?)([^}]+)\}\}/g,(function(t,r,i){var a=o.reach(e.context,i),c=s.stringify(a,n);return r&&e.options.escapeHtml?o.escapeHtml(c):c}))},e}(),t.create=function(e,r,n,o,i,s,a){return new t.Err(e,r,n,o,i,s,a)},t.process=function(e,t){if(!e||!e.length)return null;var r="",n=[],o=function e(t,o){for(var i=0;i<t.length;++i){var s=t[i];if(s instanceof Error)return s;if(s.flags.error&&"function"!=typeof s.flags.error)return s.flags.error;var a=void 0;if(void 0===o&&(a=s.toString(),r=r+(r?". ":"")+a),s.context.reason&&s.context.reason.length){var c=e(s.context.reason,s.path);if(c)return c}else n.push({message:a||s.toString(),path:s.path,type:s.type,context:s.context})}}(e);if(o)return o;var i=new Error(r);return i.isJoi=!0,i.name="ValidationError",i.details=n,i._object=t,i.annotate=s.annotate,i},s.safeStringify=function(e,t){return JSON.stringify(e,s.serializer(),t)},s.serializer=function(){var e=[],t=[],r=function(r,n){return t[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,t.indexOf(n)).join(".")+"]"};return function(o,i){if(t.length>0){var a=t.indexOf(this);~a?(t.length=a+1,e.length=a+1,e[a]=o):(t.push(this),e.push(o)),~t.indexOf(i)&&(i=r.call(this,o,i))}else t.push(i);if(i){var c=i[s.annotations];if(c){if(Array.isArray(i)){for(var l=[],u=0;u<i.length;++u)c.errors[u]&&l.push("_$idx$_"+c.errors[u].sort().join(", ")+"_$end$_"),l.push(i[u]);i=l}else{for(var f=Object.keys(c.errors),p=0;p<f.length;++p){var h=f[p];i[h+"_$key$_"+c.errors[h].sort().join(", ")+"_$end$_"]=i[h],i[h]=void 0}for(var d=Object.keys(c.missing),v=0;v<d.length;++v){var y=d[v];i["_$miss$_"+y+"|"+c.missing[y]+"_$end$_"]="__missing__"}}return i}}return i===1/0||i===-1/0||Number.isNaN(i)||"function"==typeof i||"symbol"===(void 0===i?"undefined":n(i))?"["+i.toString()+"]":i}},s.annotate=function(e){var t=e?"":"[31m",r=e?"":"[41m",i=e?"":"[0m";if("object"!==n(this._object))return this.details[0].message;for(var a=o.clone(this._object||{}),c=this.details.length-1;c>=0;--c)for(var l=c+1,u=this.details[c],f=u.path,p=a,h=0;;++h){var d=f[h];if(p.isImmutable&&(p=p.clone()),!(h+1<f.length&&p[d]&&"string"!=typeof p[d])){var v=p[s.annotations]=p[s.annotations]||{errors:{},missing:{}},y=p[d],g=d||u.context.label;void 0!==y?(v.errors[g]=v.errors[g]||[],v.errors[g].push(l)):v.missing[g]=l;break}p=p[d]}var m=s.safeStringify(a,2).replace(/_\$key\$_([, \d]+)_\$end\$_\"/g,(function(e,r){return'" '+t+"["+r+"]"+i})).replace(/\"_\$miss\$_([^\|]+)\|(\d+)_\$end\$_\"\: \"__missing__\"/g,(function(e,n,o){return r+'"'+n+'"'+i+t+" ["+o+"]: -- missing --"+i})).replace(/\s*\"_\$idx\$_([, \d]+)_\$end\$_\",?\n(.*)/g,(function(e,r,n){return"\n"+n+" "+t+"["+r+"]"+i})).replace(/"\[(NaN|Symbol.*|-?Infinity|function.*|\(.*)\]"/g,(function(e,t){return t}));m=m+"\n"+t;for(var b=0;b<this.details.length;++b)m=m+"\n["+(b+1)+"] "+this.details[b].message;return m+i}},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var c,l=[],u=!1,f=-1;function p(){u&&c&&(u=!1,c.length?l=c.concat(l):f=-1,l.length&&h())}function h(){if(!u){var e=a(p);u=!0;for(var t=l.length;t;){for(c=l,l=[];++f<t;)c&&c[f].run();f=-1,t=l.length}c=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new d(e,t)),1!==l.length||u||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o=r(0),i=r(2),s=r(4),a=r(6),c=r(26),l=r(1),u=r(11),f={alternatives:r(10),array:r(22),boolean:r(24),binary:r(23),date:r(12),func:r(25),number:r(27),object:r(13),string:r(28),callWithDefaults:function(e,t){var r;return o.assert(this,"Must be invoked on a Joi instance."),this._defaults&&(e=this._defaults(e)),e._currentJoi=this,(r=e)._init.apply(r,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t))},root:function(){var e=new i,t=e.clone();return i.prototype._currentJoi=t,t._currentJoi=t,t.any=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return o.assert(0===r.length,"Joi.any() does not allow arguments."),f.callWithDefaults.call(this,e,r)},t.alternatives=t.alt=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return f.callWithDefaults.call(this,f.alternatives,t)},t.array=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.assert(0===t.length,"Joi.array() does not allow arguments."),f.callWithDefaults.call(this,f.array,t)},t.boolean=t.bool=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.assert(0===t.length,"Joi.boolean() does not allow arguments."),f.callWithDefaults.call(this,f.boolean,t)},t.binary=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.assert(0===t.length,"Joi.binary() does not allow arguments."),f.callWithDefaults.call(this,f.binary,t)},t.date=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.assert(0===t.length,"Joi.date() does not allow arguments."),f.callWithDefaults.call(this,f.date,t)},t.func=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.assert(0===t.length,"Joi.func() does not allow arguments."),f.callWithDefaults.call(this,f.func,t)},t.number=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.assert(0===t.length,"Joi.number() does not allow arguments."),f.callWithDefaults.call(this,f.number,t)},t.object=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return f.callWithDefaults.call(this,f.object,t)},t.string=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.assert(0===t.length,"Joi.string() does not allow arguments."),f.callWithDefaults.call(this,f.string,t)},t.ref=function(){return l.create.apply(l,arguments)},t.isRef=function(e){return l.isRef(e)},t.validate=function(r){var n,o=arguments.length<=(n=(arguments.length<=1?0:arguments.length-1)-1+1)?void 0:arguments[n],i="function"==typeof o?o:null,s=(arguments.length<=1?0:arguments.length-1)-(i?1:0);if(0===s)return e.validate(r,i);var a=2===s?arguments.length<=2?void 0:arguments[2]:{};return t.compile(arguments.length<=1?void 0:arguments[1])._validateWithOptions(r,a,i)},t.describe=function(){return(arguments.length?t.compile(arguments.length<=0?void 0:arguments[0]):e).describe()},t.compile=function(e){try{return s.schema(this,e)}catch(e){throw e.hasOwnProperty("path")&&(e.message=e.message+"("+e.path+")"),e}},t.assert=function(e,r,n){t.attempt(e,r,n)},t.attempt=function(e,r,n){var o=t.validate(e,r),i=o.error;if(i){if(!n)throw"function"==typeof i.annotate&&(i.message=i.annotate()),i;if(!(n instanceof Error))throw"function"==typeof i.annotate&&(i.message=n+" "+i.annotate()),i;throw n}return o.value},t.reach=function(e,t){return o.assert(e&&e instanceof i,"you must provide a joi schema"),o.assert(Array.isArray(t)||"string"==typeof t,"path must be a string or an array of strings"),function e(t,r){if(!r.length)return t;var n=t._inner.children;if(n)for(var o=r.shift(),i=0;i<n.length;++i){var s=n[i];if(s.key===o)return e(s.schema,r)}}(e,"string"==typeof t?t?t.split("."):[]:t.slice())},t.lazy=function(e){return c.set(e)},t.defaults=function(e){var t=this;o.assert("function"==typeof e,"Defaults must be a function");var r=Object.create(this.any());return r=e(r),o.assert(r&&r instanceof this.constructor,"defaults() must return a schema"),n(r,this,r.clone()),r._defaults=function(r){return t._defaults&&(r=t._defaults(r),o.assert(r instanceof t.constructor,"defaults() must return a schema")),r=e(r),o.assert(r instanceof t.constructor,"defaults() must return a schema"),r},r},t.extend=function(){for(var e=this,r=arguments.length,c=Array(r),p=0;p<r;p++)c[p]=arguments[p];var h=o.flatten(c);o.assert(h.length>0,"You need to provide at least one extension"),this.assert(h,t.extensionsSchema);var d=Object.create(this.any());n(d,this);for(var v=function(r){var c=h[r];"function"==typeof c&&(c=c(d)),e.assert(c,t.extensionSchema);var p=(c.base||e.any()).clone(),v=p.constructor,y=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,o,i,s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return c.base&&n(s,p),s._type=c.name,c.language&&(s._settings=u.concat(s._settings,{language:(r={},o=c.name,i=c.language,o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r)})),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t}(v);if(c.coerce&&(y.prototype._coerce=function(e,t,r){if(v.prototype._coerce){var n=v.prototype._coerce.call(this,e,t,r);if(n.errors)return n;e=n.value}var o=c.coerce.call(this,e,t,r);return o instanceof a.Err?{value:e,errors:o}:{value:o}}),c.pre&&(y.prototype._base=function(e,t,r){if(v.prototype._base){var n=v.prototype._base.call(this,e,t,r);if(n.errors)return n;e=n.value}var o=c.pre.call(this,e,t,r);return o instanceof a.Err?{value:e,errors:o}:{value:o}}),c.rules)for(var g=function(t){var r=c.rules[t],n=r.params?r.params instanceof i?r.params._inner.children.map((function(e){return e.key})):Object.keys(r.params):[],a=r.params?s.schema(e,r.params):null;y.prototype[r.name]=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];if(t.length>n.length)throw new Error("Unexpected number of arguments");for(var c=!1,u={},f=0;f<n.length;++f)u[n[f]]=t[f],!c&&l.isRef(t[f])&&(c=!0);a&&(u=d.attempt(u,a));var p=void 0;if(p=r.validate?this._test(r.name,u,(function(e,t,n){return r.validate.call(this,u,e,t,n)}),{description:r.description,hasRef:c}):this.clone(),r.setup){var h=r.setup.call(p,u);void 0!==h&&(o.assert(h instanceof i,"Setup of extension Joi."+this._type+"()."+r.name+"() must return undefined or a Joi object"),p=h)}return p}},m=0;m<c.rules.length;++m)g(m);c.describe&&(y.prototype.describe=function(){var e=v.prototype.describe.call(this);return c.describe.call(this,e)});var b=new y;d[c.name]=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return f.callWithDefaults.call(this,b,t)}},y=0;y<h.length;++y)v(y);return d},t.extensionSchema=f.object.keys({base:f.object.type(i,"Joi object"),name:f.string.required(),coerce:f.func.arity(3),pre:f.func.arity(3),language:f.object,describe:f.func.arity(1),rules:f.array.items(f.object.keys({name:f.string.required(),setup:f.func.arity(1),validate:f.func.arity(4),params:[f.object.pattern(/.*/,f.object.type(i,"Joi object")),f.object.type(f.object.constructor,"Joi object")],description:[f.string,f.func.arity(1)]}).or("setup","validate"))}).strict(),t.extensionsSchema=f.array.items([f.object,f.func.arity(1)]).strict(),t.version=r(36).version,t}};e.exports=f.root()},function(e,t,r){"use strict";(function(t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var i=r(1),s=function(e,r){var o=void 0===e?"undefined":n(e);if("object"===o){if(e instanceof Date)return function(t){return t instanceof Date&&e.getTime()===t.getTime()};if(t.isBuffer(e))return function(r){return t.isBuffer(r)&&e.length===r.length&&e.toString("binary")===r.toString("binary")}}else if(r&&"string"===o){var i=e.toLowerCase();return function(e){return"string"==typeof e&&i===e.toLowerCase()}}return null};e.exports=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._set=new Set(t),this._hasRef=!1}return e.prototype.add=function(e,t){var r=i.isRef(e);return!r&&this.has(e,null,null,!1)||(void 0!==t&&i.push(t,e),this._set.add(e),this._hasRef|=r),this},e.prototype.merge=function(e,t){var r=!0,n=!1,o=void 0;try{for(var i,s=e._set[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var a=i.value;this.add(a)}}catch(e){n=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw o}}var c=!0,l=!1,u=void 0;try{for(var f,p=t._set[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var h=f.value;this.remove(h)}}catch(e){l=!0,u=e}finally{try{!c&&p.return&&p.return()}finally{if(l)throw u}}return this},e.prototype.remove=function(e){return this._set.delete(e),this},e.prototype.has=function(e,t,r,n){if(!this._set.size)return!1;var o=this._set.has(e);if(o)return o;var a=s(e,n);if(!a){if(t&&this._hasRef){var c=!0,l=!1,u=void 0;try{for(var f,p=this._set[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var h=f.value;if(i.isRef(h)&&(e===(h=h(t.reference||t.parent,r))||Array.isArray(h)&&h.includes(e)))return!0}}catch(e){l=!0,u=e}finally{try{!c&&p.return&&p.return()}finally{if(l)throw u}}}return!1}return this._has(e,t,r,a)},e.prototype._has=function(e,t,r,n){var o=!(!t||!this._hasRef),s=function(t){return e===t||n(t)},a=!0,c=!1,l=void 0;try{for(var u,f=this._set[Symbol.iterator]();!(a=(u=f.next()).done);a=!0){var p=u.value;if(o&&i.isRef(p)&&(p=p(t.reference||t.parent,r),Array.isArray(p))){if(p.find(s))return!0}else if(s(p))return!0}}catch(e){c=!0,l=e}finally{try{!a&&f.return&&f.return()}finally{if(c)throw l}}return!1},e.prototype.values=function(e){if(e&&e.stripUndefined){var t=[],r=!0,n=!1,o=void 0;try{for(var i,s=this._set[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var a=i.value;void 0!==a&&t.push(a)}}catch(e){n=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw o}}return t}return Array.from(this._set)},e.prototype.slice=function(){var t=new e(this._set);return t._hasRef=this._hasRef,t},e.prototype.concat=function(t){var r=new e([].concat(o(this._set),o(t._set)));return r._hasRef=!!(this._hasRef|t._hasRef),r},e}()}).call(t,r(3).Buffer)},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=r(0),i=r(2),s=r(4),a=r(1),c={};c.Alternatives=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r._type="alternatives",r._invalids.remove(null),r._inner.matches=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype._init=function(){return arguments.length?this.try.apply(this,arguments):this},t.prototype._base=function(e,t,r){for(var n=[],o=this._inner.matches.length,i=this._baseType,s=0;s<o;++s){var a=this._inner.matches[s];if(a.schema){var c=a.schema._validate(e,t,r);if(!c.errors)return c;n=n.concat(c.errors)}else{var l=a.peek||a.is,u=a.is?a.ref(t.reference||t.parent,r):e;if(l._validate(u,null,r,t.parent).errors){if(a.otherwise)return a.otherwise._validate(e,t,r)}else if(a.then)return a.then._validate(e,t,r);if(s===o-1&&i)return i._validate(e,t,r)}}return n.length?{errors:this.createError("alternatives.child",{reason:n},t,r)}:{errors:this.createError("alternatives.base",null,t,r)}},t.prototype.try=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];t=o.flatten(t),o.assert(t.length,"Cannot add other alternatives without at least one schema");for(var n=this.clone(),i=0;i<t.length;++i){var a=s.schema(this._currentJoi,t[i]);a._refs.length&&(n._refs=n._refs.concat(a._refs)),n._inner.matches.push({schema:a})}return n},t.prototype.when=function(e,t){var r=!1;o.assert(a.isRef(e)||"string"==typeof e||(r=e instanceof i),"Invalid condition:",e),o.assert(t,"Missing options"),o.assert("object"===(void 0===t?"undefined":n(t)),"Invalid options"),r?o.assert(!t.hasOwnProperty("is"),'"is" can not be used with a schema condition'):o.assert(t.hasOwnProperty("is"),'Missing "is" directive'),o.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of "then" or "otherwise"');var c=this.clone(),l=void 0;r||(l=s.schema(this._currentJoi,t.is),null!==t.is&&(a.isRef(t.is)||t.is instanceof i)||(l=l.required()));var u={ref:r?null:s.ref(e),peek:r?e:null,is:l,then:void 0!==t.then?s.schema(this._currentJoi,t.then):void 0,otherwise:void 0!==t.otherwise?s.schema(this._currentJoi,t.otherwise):void 0};return c._baseType&&(u.then=u.then&&c._baseType.concat(u.then),u.otherwise=u.otherwise&&c._baseType.concat(u.otherwise)),r||(a.push(c._refs,u.ref),c._refs=c._refs.concat(u.is._refs)),u.then&&u.then._refs&&(c._refs=c._refs.concat(u.then._refs)),u.otherwise&&u.otherwise._refs&&(c._refs=c._refs.concat(u.otherwise._refs)),c._inner.matches.push(u),c},t.prototype.describe=function(){for(var e=i.prototype.describe.call(this),t=[],r=0;r<this._inner.matches.length;++r){var n=this._inner.matches[r];if(n.schema)t.push(n.schema.describe());else{var o=n.is?{ref:n.ref.toString(),is:n.is.describe()}:{peek:n.peek.describe()};n.then&&(o.then=n.then.describe()),n.otherwise&&(o.otherwise=n.otherwise.describe()),t.push(o)}}return e.alternatives=t,e},t}(i),e.exports=new c.Alternatives},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(0);t.concat=function(e,t){if(!t)return e;for(var r=n({},e),i=Object.keys(t),s=0;s<i.length;++s){var a=i[s];"language"===a&&r.hasOwnProperty(a)?r[a]=o.applyToDefaults(r[a],t[a]):r[a]=t[a]}return r}},function(e,t,r){"use strict";var n,o=r(2),i=r(1),s=r(0),a={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};a.invalidDate=new Date(""),a.isIsoDate=(n=a.isoDate.toString(),function(e){return e&&e.toString()===n}),a.Date=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r._type="date",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype._base=function(e,t,r){var n={value:r.convert&&a.Date.toDate(e,this._flags.format,this._flags.timestamp,this._flags.multiplier)||e};if(n.value instanceof Date&&!isNaN(n.value.getTime()))n.errors=null;else if(r.convert){var o;o=a.isIsoDate(this._flags.format)?"isoDate":this._flags.timestamp?"timestamp."+this._flags.timestamp:"base",n.errors=this.createError("date."+o,null,t,r)}else n.errors=this.createError("date.strict",null,t,r);return n},t.toDate=function(e,t,r,n){if(e instanceof Date)return e;if("string"==typeof e||"number"==typeof e&&!isNaN(e)&&isFinite(e)){"string"==typeof e&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e));var o=void 0;if(o=t&&a.isIsoDate(t)?t.test(e)?new Date(e):a.invalidDate:r&&n?/^\s*$/.test(e)?a.invalidDate:new Date(e*n):new Date(e),!isNaN(o.getTime()))return o}return null},t.prototype.iso=function(){if(this._flags.format===a.isoDate)return this;var e=this.clone();return e._flags.format=a.isoDate,e},t.prototype.timestamp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"javascript",t=["javascript","unix"];if(s.assert(t.includes(e),'"type" must be one of "'+t.join('", "')+'"'),this._flags.timestamp===e)return this;var r=this.clone();return r._flags.timestamp=e,r._flags.multiplier="unix"===e?1e3:1,r},t.prototype._isIsoDate=function(e){return a.isoDate.test(e)},t}(o),a.compare=function(e,t){return function(r){var n="now"===r,o=i.isRef(r);return n||o||(r=a.Date.toDate(r)),s.assert(r,"Invalid date format"),this._test(e,r,(function(i,s,c){var l=void 0;if(n)l=Date.now();else if(o){if(!(l=a.Date.toDate(r(s.reference||s.parent,c))))return this.createError("date.ref",{ref:r.key},s,c);l=l.getTime()}else l=r.getTime();return t(i.getTime(),l)?i:this.createError("date."+e,{limit:new Date(l)},s,c)}))}},a.Date.prototype.min=a.compare("min",(function(e,t){return e>=t})),a.Date.prototype.max=a.compare("max",(function(e,t){return e<=t})),a.Date.prototype.greater=a.compare("greater",(function(e,t){return e>t})),a.Date.prototype.less=a.compare("less",(function(e,t){return e<t})),e.exports=new a.Date},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=r(0),i=r(31),s=r(2),a=r(6),c=r(4),l={};l.Object=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r._type="object",r._inner.children=null,r._inner.renames=[],r._inner.dependencies=[],r._inner.patterns=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype._init=function(){return arguments.length?this.keys.apply(this,arguments):this},t.prototype._base=function(e,t,r){var i=e,s=[],c=function(){return{value:i,errors:s.length?s:null}};"string"==typeof e&&r.convert&&(e=l.safeParse(e));var u=this._flags.func?"function":"object";if(!e||(void 0===e?"undefined":n(e))!==u||Array.isArray(e))return s.push(this.createError(u+".base",null,t,r)),c();if(!(this._inner.renames.length||this._inner.dependencies.length||this._inner.children||this._inner.patterns.length))return i=e,c();if(i===e){"object"===u?i=Object.create(Object.getPrototypeOf(e)):(i=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r)},i.prototype=o.clone(e.prototype));for(var f=Object.keys(e),p=0;p<f.length;++p)i[f[p]]=e[f[p]]}else i=e;for(var h={},d=0;d<this._inner.renames.length;++d){var v=this._inner.renames[d];if(v.isRegExp){for(var y=Object.keys(i),g=[],m=0;m<y.length;++m)v.from.test(y[m])&&g.push(y[m]);var b=g.every((function(e){return void 0===i[e]}));if(v.options.ignoreUndefined&&b)continue;if(!v.options.multiple&&h[v.to]&&(s.push(this.createError("object.rename.regex.multiple",{from:g,to:v.to},t,r)),r.abortEarly))return c();if(Object.prototype.hasOwnProperty.call(i,v.to)&&!v.options.override&&!h[v.to]&&(s.push(this.createError("object.rename.regex.override",{from:g,to:v.to},t,r)),r.abortEarly))return c();if(b?delete i[v.to]:i[v.to]=i[g[g.length-1]],h[v.to]=!0,!v.options.alias)for(var w=0;w<g.length;++w)delete i[g[w]]}else{if(v.options.ignoreUndefined&&void 0===i[v.from])continue;if(!v.options.multiple&&h[v.to]&&(s.push(this.createError("object.rename.multiple",{from:v.from,to:v.to},t,r)),r.abortEarly))return c();if(Object.prototype.hasOwnProperty.call(i,v.to)&&!v.options.override&&!h[v.to]&&(s.push(this.createError("object.rename.override",{from:v.from,to:v.to},t,r)),r.abortEarly))return c();void 0===i[v.from]?delete i[v.to]:i[v.to]=i[v.from],h[v.to]=!0,v.options.alias||delete i[v.from]}}if(!this._inner.children&&!this._inner.patterns.length&&!this._inner.dependencies.length)return c();var x=new Set(Object.keys(i));if(this._inner.children){for(var E=[],_=0;_<this._inner.children.length;++_){var S=this._inner.children[_],O=S.key,j=i[O];x.delete(O);var A={key:O,path:t.path.concat(O),parent:i,reference:t.reference},I=S.schema._validate(j,A,r);if(I.errors){if(s.push(this.createError("object.child",{key:O,child:S.schema._getLabel(O),reason:I.errors},A,r)),r.abortEarly)return c()}else S.schema._flags.strip||void 0===I.value&&I.value!==j?(E.push(O),i[O]=I.finalValue):void 0!==I.value&&(i[O]=I.value)}for(var R=0;R<E.length;++R)delete i[E[R]]}if(x.size&&this._inner.patterns.length){var T=!0,L=!1,k=void 0;try{for(var N,C=x[Symbol.iterator]();!(T=(N=C.next()).done);T=!0)for(var P=N.value,D={key:P,path:t.path.concat(P),parent:i,reference:t.reference},M=i[P],$=0;$<this._inner.patterns.length;++$){var U=this._inner.patterns[$];if(U.regex?U.regex.test(P):!U.schema.validate(P).error){x.delete(P);var F=U.rule._validate(M,D,r);if(F.errors&&(s.push(this.createError("object.child",{key:P,child:U.rule._getLabel(P),reason:F.errors},D,r)),r.abortEarly))return c();i[P]=F.value}}}catch(re){L=!0,k=re}finally{try{!T&&C.return&&C.return()}finally{if(L)throw k}}}if(x.size&&(this._inner.children||this._inner.patterns.length)){if(r.stripUnknown&&!0!==this._flags.allowUnknown||r.skipFunctions){var B=!(!r.stripUnknown||!0!==r.stripUnknown&&!r.stripUnknown.objects),J=!0,q=!1,V=void 0;try{for(var z,W=x[Symbol.iterator]();!(J=(z=W.next()).done);J=!0){var G=z.value;B?(delete i[G],x.delete(G)):"function"==typeof i[G]&&x.delete(G)}}catch(re){q=!0,V=re}finally{try{!J&&W.return&&W.return()}finally{if(q)throw V}}}if(void 0!==this._flags.allowUnknown?!this._flags.allowUnknown:!r.allowUnknown){var X=!0,H=!1,Y=void 0;try{for(var K,Z=x[Symbol.iterator]();!(X=(K=Z.next()).done);X=!0){var Q=K.value;s.push(this.createError("object.allowUnknown",{child:Q},{key:Q,path:t.path.concat(Q)},r,{}))}}catch(re){H=!0,Y=re}finally{try{!X&&Z.return&&Z.return()}finally{if(H)throw Y}}}}for(var ee=0;ee<this._inner.dependencies.length;++ee){var te=this._inner.dependencies[ee],re=l[te.type].call(this,null!==te.key&&i[te.key],te.peers,i,{key:te.key,path:null===te.key?t.path:t.path.concat(te.key)},r);if(re instanceof a.Err&&(s.push(re),r.abortEarly))return c()}return c()},t.prototype.keys=function(e){o.assert(null==e||"object"===(void 0===e?"undefined":n(e)),"Object schema must be a valid object"),o.assert(!(e&&e instanceof s),"Object schema cannot be a joi schema");var t=this.clone();if(!e)return t._inner.children=null,t;var r=Object.keys(e);if(!r.length)return t._inner.children=[],t;var a=new i;if(t._inner.children)for(var l=0;l<t._inner.children.length;++l){var u=t._inner.children[l];r.includes(u.key)||a.add(u,{after:u._refs,group:u.key})}for(var f=0;f<r.length;++f){var p=r[f],h=e[p];try{var d=c.schema(this._currentJoi,h);a.add({key:p,schema:d},{after:d._refs,group:p})}catch(e){throw e.hasOwnProperty("path")?e.path=p+"."+e.path:e.path=p,e}}return t._inner.children=a.nodes,t},t.prototype.append=function(e){return null==e||0===Object.keys(e).length?this:this.keys(e)},t.prototype.unknown=function(e){var t=!1!==e;if(this._flags.allowUnknown===t)return this;var r=this.clone();return r._flags.allowUnknown=t,r},t.prototype.length=function(e){return o.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,(function(t,r,n){return Object.keys(t).length===e?t:this.createError("object.length",{limit:e},r,n)}))},t.prototype.min=function(e){return o.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,(function(t,r,n){return Object.keys(t).length>=e?t:this.createError("object.min",{limit:e},r,n)}))},t.prototype.max=function(e){return o.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,(function(t,r,n){return Object.keys(t).length<=e?t:this.createError("object.max",{limit:e},r,n)}))},t.prototype.pattern=function(e,t){var r=e instanceof RegExp;o.assert(r||e instanceof s,"pattern must be a regex or schema"),o.assert(void 0!==t,"Invalid rule"),r&&(e=new RegExp(e.source,e.ignoreCase?"i":void 0));try{t=c.schema(this._currentJoi,t)}catch(e){throw e.hasOwnProperty("path")&&(e.message=e.message+"("+e.path+")"),e}var n=this.clone();return r?n._inner.patterns.push({regex:e,rule:t}):n._inner.patterns.push({schema:e,rule:t}),n},t.prototype.schema=function(){return this._test("schema",null,(function(e,t,r){return e instanceof s?e:this.createError("object.schema",null,t,r)}))},t.prototype.with=function(e,t){return o.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("with",e,t)},t.prototype.without=function(e,t){return o.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("without",e,t)},t.prototype.xor=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t=o.flatten(t),this._dependency("xor",null,t)},t.prototype.or=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t=o.flatten(t),this._dependency("or",null,t)},t.prototype.and=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t=o.flatten(t),this._dependency("and",null,t)},t.prototype.nand=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t=o.flatten(t),this._dependency("nand",null,t)},t.prototype.requiredKeys=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t=o.flatten(t),this.applyFunctionToChildren(t,"required")},t.prototype.optionalKeys=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t=o.flatten(t),this.applyFunctionToChildren(t,"optional")},t.prototype.forbiddenKeys=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t=o.flatten(t),this.applyFunctionToChildren(t,"forbidden")},t.prototype.rename=function(e,t,r){o.assert("string"==typeof e||e instanceof RegExp,"Rename missing the from argument"),o.assert("string"==typeof t,"Rename missing the to argument"),o.assert(t!==e,"Cannot rename key to same name:",e);for(var n=0;n<this._inner.renames.length;++n)o.assert(this._inner.renames[n].from!==e,"Cannot rename the same key multiple times");var i=this.clone();return i._inner.renames.push({from:e,to:t,options:o.applyToDefaults(l.renameDefaults,r||{}),isRegExp:e instanceof RegExp}),i},t.prototype.applyFunctionToChildren=function(e,t,r,n){e=[].concat(e),o.assert(e.length>0,"expected at least one children");var i=l.groupChildren(e),s=void 0;if(""in i?(s=this[t].apply(this,r),delete i[""]):s=this.clone(),s._inner.children){n=n?n+".":"";for(var a=0;a<s._inner.children.length;++a){var c=s._inner.children[a],u=i[c.key];u&&(s._inner.children[a]={key:c.key,_refs:c._refs,schema:c.schema.applyFunctionToChildren(u,t,r,n+c.key)},delete i[c.key])}}var f=Object.keys(i);return o.assert(0===f.length,"unknown key(s)",f.join(", ")),s},t.prototype._dependency=function(e,t,r){r=[].concat(r);for(var n=0;n<r.length;++n)o.assert("string"==typeof r[n],e,"peers must be a string or array of strings");var i=this.clone();return i._inner.dependencies.push({type:e,key:t,peers:r}),i},t.prototype.describe=function(e){var t=s.prototype.describe.call(this);if(t.rules)for(var r=0;r<t.rules.length;++r){var i=t.rules[r];i.arg&&"object"===n(i.arg)&&i.arg.schema&&i.arg.ref&&(i.arg={schema:i.arg.schema.describe(),ref:i.arg.ref.toString()})}if(this._inner.children&&!e){t.children={};for(var a=0;a<this._inner.children.length;++a){var c=this._inner.children[a];t.children[c.key]=c.schema.describe()}}if(this._inner.dependencies.length&&(t.dependencies=o.clone(this._inner.dependencies)),this._inner.patterns.length){t.patterns=[];for(var l=0;l<this._inner.patterns.length;++l){var u=this._inner.patterns[l];u.regex?t.patterns.push({regex:u.regex.toString(),rule:u.rule.describe()}):t.patterns.push({schema:u.schema.describe(),rule:u.rule.describe()})}}return this._inner.renames.length>0&&(t.renames=o.clone(this._inner.renames)),t},t.prototype.assert=function(e,t,r){e=c.ref(e),o.assert(e.isContext||e.depth>1,"Cannot use assertions for root level references - use direct key rules instead"),r=r||"pass the assertion test";try{t=c.schema(this._currentJoi,t)}catch(e){throw e.hasOwnProperty("path")&&(e.message=e.message+"("+e.path+")"),e}var n=e.path[e.path.length-1],i=e.path.join(".");return this._test("assert",{schema:t,ref:e},(function(s,a,c){if(!t._validate(e(s),null,c,s).errors)return s;var l=o.merge({},a);return l.key=n,l.path=e.path,this.createError("object.assert",{ref:i,message:r},l,c)}))},t.prototype.type=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.name;o.assert("function"==typeof e,"type must be a constructor function");var r={name:t,ctor:e};return this._test("type",r,(function(t,n,o){return t instanceof e?t:this.createError("object.type",{type:r.name},n,o)}))},t}(s),l.safeParse=function(e){try{return JSON.parse(e)}catch(e){}return e},l.renameDefaults={alias:!1,multiple:!1,override:!1},l.groupChildren=function(e){e.sort();for(var t={},r=0;r<e.length;++r){var n=e[r];o.assert("string"==typeof n,"children must be strings");var i=n.split(".")[0];(t[i]=t[i]||[]).push(n.substring(i.length+1))}return t},l.keysToLabels=function(e,t){var r=e._inner.children;if(!r)return t;var n=function(e){var t=r.find((function(t){return t.key===e}));return t?t.schema._getLabel(e):e};return Array.isArray(t)?t.map(n):n(t)},l.with=function(e,t,r,n,o){if(void 0===e)return e;for(var i=0;i<t.length;++i){var s=t[i];if(!Object.prototype.hasOwnProperty.call(r,s)||void 0===r[s])return this.createError("object.with",{main:n.key,mainWithLabel:l.keysToLabels(this,n.key),peer:s,peerWithLabel:l.keysToLabels(this,s)},n,o)}return e},l.without=function(e,t,r,n,o){if(void 0===e)return e;for(var i=0;i<t.length;++i){var s=t[i];if(Object.prototype.hasOwnProperty.call(r,s)&&void 0!==r[s])return this.createError("object.without",{main:n.key,mainWithLabel:l.keysToLabels(this,n.key),peer:s,peerWithLabel:l.keysToLabels(this,s)},n,o)}return e},l.xor=function(e,t,r,n,o){for(var i=[],s=0;s<t.length;++s){var a=t[s];Object.prototype.hasOwnProperty.call(r,a)&&void 0!==r[a]&&i.push(a)}if(1===i.length)return e;var c={peers:t,peersWithLabels:l.keysToLabels(this,t)};return 0===i.length?this.createError("object.missing",c,n,o):this.createError("object.xor",c,n,o)},l.or=function(e,t,r,n,o){for(var i=0;i<t.length;++i){var s=t[i];if(Object.prototype.hasOwnProperty.call(r,s)&&void 0!==r[s])return e}return this.createError("object.missing",{peers:t,peersWithLabels:l.keysToLabels(this,t)},n,o)},l.and=function(e,t,r,n,o){for(var i=[],s=[],a=t.length,c=0;c<a;++c){var u=t[c];Object.prototype.hasOwnProperty.call(r,u)&&void 0!==r[u]?s.push(u):i.push(u)}if(i.length!==a&&s.length!==a)return this.createError("object.and",{present:s,presentWithLabels:l.keysToLabels(this,s),missing:i,missingWithLabels:l.keysToLabels(this,i)},n,o)},l.nand=function(e,t,r,n,i){for(var s=[],a=0;a<t.length;++a){var c=t[a];Object.prototype.hasOwnProperty.call(r,c)&&void 0!==r[c]&&s.push(c)}var u=o.clone(t),f=u.splice(0,1)[0];return s.length===t.length?this.createError("object.nand",{main:f,mainWithLabel:l.keysToLabels(this,f),peers:u,peersWithLabels:l.keysToLabels(this,u)},n,i):null},e.exports=new l.Object},function(e,t,r){"use strict";var n={rfc3986:{},generate:function(){var e="|",t="0-9",r="[0-9]",o="a-zA-Z",i="["+o+"]";n.rfc3986.ipv4Cidr=r+e+"[1-2]"+r+"|3[0-2]",n.rfc3986.ipv6Cidr="(?:0?0?[0-9]|0?[1-9][0-9]|1[01][0-9]|12[0-8])";var s=t+"A-Fa-f",a="["+s+"]",c=o+t+"-\\._~",l="!\\$&'\\(\\)\\*\\+,;=",u="%"+s,f=c+u+l+":@",p="["+f+"]",h="(?:0?0?[0-9]|0?[1-9][0-9]|1"+r+r+"|2[0-4]"+r+"|25[0-5])";n.rfc3986.IPv4address="(?:"+h+"\\.){3}"+h;var d=a+"{1,4}",v="(?:"+d+":"+d+"|"+n.rfc3986.IPv4address+")",y="(?:"+d+":){6}"+v,g="::(?:"+d+":){5}"+v,m="(?:"+d+")?::(?:"+d+":){4}"+v,b="(?:(?:"+d+":){0,1}"+d+")?::(?:"+d+":){3}"+v,w="(?:(?:"+d+":){0,2}"+d+")?::(?:"+d+":){2}"+v,x="(?:(?:"+d+":){0,3}"+d+")?::"+d+":"+v,E="(?:(?:"+d+":){0,4}"+d+")?::"+v,_="(?:(?:"+d+":){0,5}"+d+")?::"+d,S="(?:(?:"+d+":){0,6}"+d+")?::";n.rfc3986.IPv6address="(?:"+y+e+g+e+m+e+b+e+w+e+x+e+E+e+_+e+S+")",n.rfc3986.IPvFuture="v"+a+"+\\.["+c+l+":]+",n.rfc3986.scheme=i+"["+o+t+"+-\\.]*";var O="["+c+u+l+"]{0,255}",j="(?:["+c+u+l+":]*@)?(?:\\[(?:"+n.rfc3986.IPv6address+e+n.rfc3986.IPvFuture+")\\]"+e+n.rfc3986.IPv4address+e+O+")(?::"+r+"*)?",A=p+"+",I="(?:\\/"+p+"*)*",R="\\/(?:"+A+I+")?",T=A+I,L="["+c+u+l+"@]+"+I;n.rfc3986.hierPart="(?:(?:\\/\\/"+j+I+")"+e+R+e+T+")",n.rfc3986.relativeRef="(?:(?:\\/\\/"+j+I+")"+e+R+e+L+"|)",n.rfc3986.query="["+f+"\\/\\?]*(?=#|$)",n.rfc3986.fragment="["+f+"\\/\\?]*"}};n.generate(),e.exports=n.rfc3986},function(e,t){},function(e,t,r){(function(e,n){var o=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(a(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,s=String(e).replace(o,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),c=n[r];r<i;c=n[++r])v(c)||!w(c)?s+=" "+c:s+=" "+a(c);return s},t.deprecate=function(r,o){if(m(e.process))return function(){return t.deprecate(r,o).apply(this,arguments)};if(!0===n.noDeprecation)return r;var i=!1;return function(){if(!i){if(n.throwDeprecation)throw new Error(o);n.traceDeprecation?console.trace(o):console.error(o),i=!0}return r.apply(this,arguments)}};var i,s={};function a(e,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&t._extend(n,r),m(n.showHidden)&&(n.showHidden=!1),m(n.depth)&&(n.depth=2),m(n.colors)&&(n.colors=!1),m(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),u(n,e,n.depth)}function c(e,t){var r=a.styles[t];return r?"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m":e}function l(e,t){return e}function u(e,r,n){if(e.customInspect&&r&&_(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,e);return g(o)||(o=u(e,o,n)),o}var i=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return y(t)?e.stylize(""+t,"number"):d(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}(e,r);if(i)return i;var s=Object.keys(r),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),E(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(r);if(0===s.length){if(_(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(x(r))return e.stylize(Date.prototype.toString.call(r),"date");if(E(r))return f(r)}var l,w="",S=!1,O=["{","}"];return h(r)&&(S=!0,O=["[","]"]),_(r)&&(w=" [Function"+(r.name?": "+r.name:"")+"]"),b(r)&&(w=" "+RegExp.prototype.toString.call(r)),x(r)&&(w=" "+Date.prototype.toUTCString.call(r)),E(r)&&(w=" "+f(r)),0!==s.length||S&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),l=S?function(e,t,r,n,o){for(var i=[],s=0,a=t.length;s<a;++s)A(t,String(s))?i.push(p(e,t,r,n,String(s),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(p(e,t,r,n,o,!0))})),i}(e,r,n,a,s):s.map((function(t){return p(e,r,n,a,t,S)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(l,w,O)):O[0]+w+O[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,o,i){var s,a,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),A(n,o)||(s="["+o+"]"),a||(e.seen.indexOf(c.value)<0?(a=v(r)?u(e,c.value,null):u(e,c.value,r-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),m(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function h(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function v(e){return null===e}function y(e){return"number"==typeof e}function g(e){return"string"==typeof e}function m(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===S(e)}function w(e){return"object"==typeof e&&null!==e}function x(e){return w(e)&&"[object Date]"===S(e)}function E(e){return w(e)&&("[object Error]"===S(e)||e instanceof Error)}function _(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function O(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(m(i)&&(i=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var r=n.pid;s[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else s[e]=function(){};return s[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=d,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=m,t.isRegExp=b,t.isObject=w,t.isDate=x,t.isError=E,t.isFunction=_,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(40);var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;console.log("%s - %s",(r=[O((e=new Date).getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":"),[e.getDate(),j[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r(39),t._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(t,r(5),r(7))},function(e,t,r){"use strict";(function(t){function n(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var i=r(16),s=Object.prototype.hasOwnProperty,a=Array.prototype.slice,c="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function u(e){return!o(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var f=e.exports=g,p=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(i.isFunction(e)){if(c)return e.name;var t=e.toString().match(p);return t&&t[1]}}function d(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function v(e){if(c||!i.isFunction(e))return i.inspect(e);var t=h(e);return"[Function"+(t?": "+t:"")+"]"}function y(e,t,r,n,o){throw new f.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:o})}function g(e,t){e||y(e,!0,t,"==",f.ok)}function m(e,t,r,s){if(e===t)return!0;if(o(e)&&o(t))return 0===n(e,t);if(i.isDate(e)&&i.isDate(t))return e.getTime()===t.getTime();if(i.isRegExp(e)&&i.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(u(e)&&u(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var c=(s=s||{actual:[],expected:[]}).actual.indexOf(e);return-1!==c&&c===s.expected.indexOf(t)||(s.actual.push(e),s.expected.push(t),function(e,t,r,n){if(null==e||null==t)return!1;if(i.isPrimitive(e)||i.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=b(e),s=b(t);if(o&&!s||!o&&s)return!1;if(o)return m(e=a.call(e),t=a.call(t),r);var c,l,u=E(e),f=E(t);if(u.length!==f.length)return!1;for(u.sort(),f.sort(),l=u.length-1;l>=0;l--)if(u[l]!==f[l])return!1;for(l=u.length-1;l>=0;l--)if(!m(e[c=u[l]],t[c],r,n))return!1;return!0}(e,t,r,s))}return r?e===t:e==t}function b(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function w(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function x(e,t,r,n){var o;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),o=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!o&&y(o,r,"Missing expected exception"+n);var s="string"==typeof n,a=!e&&o&&!r;if((!e&&i.isError(o)&&s&&w(o,r)||a)&&y(o,r,"Got unwanted exception"+n),e&&o&&r&&!w(o,r)||!e&&o)throw o}f.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return d(v(e.actual),128)+" "+e.operator+" "+d(v(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,o=h(t),i=n.indexOf("\n"+o);if(i>=0){var s=n.indexOf("\n",i+1);n=n.substring(s+1)}this.stack=n}}},i.inherits(f.AssertionError,Error),f.fail=y,f.ok=g,f.equal=function(e,t,r){e!=t&&y(e,t,r,"==",f.equal)},f.notEqual=function(e,t,r){e==t&&y(e,t,r,"!=",f.notEqual)},f.deepEqual=function(e,t,r){m(e,t,!1)||y(e,t,r,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(e,t,r){m(e,t,!0)||y(e,t,r,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(e,t,r){m(e,t,!1)&&y(e,t,r,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function e(t,r,n){m(t,r,!0)&&y(t,r,n,"notDeepStrictEqual",e)},f.strictEqual=function(e,t,r){e!==t&&y(e,t,r,"===",f.strictEqual)},f.notStrictEqual=function(e,t,r){e===t&&y(e,t,r,"!==",f.notStrictEqual)},f.throws=function(e,t,r){x(!0,e,t,r)},f.doesNotThrow=function(e,t,r){x(!1,e,t,r)},f.ifError=function(e){if(e)throw e};var E=Object.keys||function(e){var t=[];for(var r in e)s.call(e,r)&&t.push(r);return t}}).call(t,r(5))},function(e,t,r){"use strict";(function(e){var r={};t.escapeJavaScript=function(e){if(!e)return"";for(var t="",n=0;n<e.length;++n){var o=e.charCodeAt(n);r.isSafe(o)?t+=e[n]:t+=r.escapeJavaScriptChar(o)}return t},t.escapeHtml=function(e){if(!e)return"";for(var t="",n=0;n<e.length;++n){var o=e.charCodeAt(n);r.isSafe(o)?t+=e[n]:t+=r.escapeHtmlChar(o)}return t},t.escapeJson=function(e){if(!e)return"";var t=void 0;return e.replace(/[<>&\u2028\u2029]/g,(function(e){return 60===(t=e.charCodeAt(0))?"\\u003c":62===t?"\\u003e":38===t?"\\u0026":8232===t?"\\u2028":"\\u2029"}))},r.escapeJavaScriptChar=function(t){if(t>=256)return"\\u"+r.padLeft(""+t,4);var n=e.from(String.fromCharCode(t),"ascii").toString("hex");return"\\x"+r.padLeft(n,2)},r.escapeHtmlChar=function(t){var n=r.namedHtml[t];if(void 0!==n)return n;if(t>=256)return"&#"+t+";";var o=e.from(String.fromCharCode(t),"ascii").toString("hex");return"&#x"+r.padLeft(o,2)+";"},r.padLeft=function(e,t){for(;e.length<t;)e="0"+e;return e},r.isSafe=function(e){return void 0!==r.safeCharCodes[e]},r.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},r.safeCharCodes=function(){for(var e={},t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&(e[t]=null);return e}()}).call(t,r(3).Buffer)},function(e,t,r){"use strict";(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(38),i={hasOwn:Object.prototype.hasOwnProperty,indexOf:Array.prototype.indexOf,defaultThreshold:16,maxIPv6Groups:8,categories:{valid:1,dnsWarn:7,rfc5321:15,cfws:31,deprecated:63,rfc5322:127,error:255},diagnoses:{valid:0,rfc5321TLD:9,rfc5321TLDNumeric:10,rfc5321QuotedString:11,rfc5321AddressLiteral:12,cfwsComment:17,cfwsFWS:18,undesiredNonAscii:25,deprecatedLocalPart:33,deprecatedFWS:34,deprecatedQTEXT:35,deprecatedQP:36,deprecatedComment:37,deprecatedCTEXT:38,deprecatedIPv6:39,deprecatedCFWSNearAt:49,rfc5322Domain:65,rfc5322TooLong:66,rfc5322LocalTooLong:67,rfc5322DomainTooLong:68,rfc5322LabelTooLong:69,rfc5322DomainLiteral:70,rfc5322DomainLiteralOBSDText:71,rfc5322IPv6GroupCount:72,rfc5322IPv62x2xColon:73,rfc5322IPv6BadCharacter:74,rfc5322IPv6MaxGroups:75,rfc5322IPv6ColonStart:76,rfc5322IPv6ColonEnd:77,errExpectingDTEXT:129,errNoLocalPart:130,errNoDomain:131,errConsecutiveDots:132,errATEXTAfterCFWS:133,errATEXTAfterQS:134,errATEXTAfterDomainLiteral:135,errExpectingQPair:136,errExpectingATEXT:137,errExpectingQTEXT:138,errExpectingCTEXT:139,errBackslashEnd:140,errDotStart:141,errDotEnd:142,errDomainHyphenStart:143,errDomainHyphenEnd:144,errUnclosedQuotedString:145,errUnclosedComment:146,errUnclosedDomainLiteral:147,errFWSCRLFx2:148,errFWSCRLFEnd:149,errCRNoLF:150,errUnknownTLD:160,errDomainTooShort:161},components:{localpart:0,domain:1,literal:2,contextComment:3,contextFWS:4,contextQuotedString:5,contextQuotedPair:6}};i.specials=function(){var e=new Array(256);e.fill(!1);for(var t=0;t<13;++t)e['()<>[]:;@\\,."'.codePointAt(t)]=!0;return function(t){return e[t]}}(),i.c0Controls=function(){var e=new Array(256);e.fill(!1);for(var t=0;t<33;++t)e[t]=!0;return function(t){return e[t]}}(),i.c1Controls=function(){var e=new Array(256);e.fill(!1);for(var t=127;t<160;++t)e[t]=!0;return function(t){return e[t]}}(),i.regex={ipV4:/\b(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipV6:/^[a-fA-F\d]{0,4}$/},i.normalizeSupportsNul="\0"==="\0".normalize("NFC"),i.nulNormalize=function(e){return e.split("\0").map((function(e){return e.normalize("NFC")})).join("\0")},i.normalize=function(e){return!i.normalizeSupportsNul&&e.indexOf("\0")>=0?i.nulNormalize(e):e.normalize("NFC")},i.checkIpV6=function(e){return e.every((function(e){return i.regex.ipV6.test(e)}))},i.validDomain=function(e,t){return t.tldBlacklist?Array.isArray(t.tldBlacklist)?-1===i.indexOf.call(t.tldBlacklist,e):!i.hasOwn.call(t.tldBlacklist,e):Array.isArray(t.tldWhitelist)?-1!==i.indexOf.call(t.tldWhitelist,e):i.hasOwn.call(t.tldWhitelist,e)},t.validate=i.validate=function(t,r,s){r=r||{},t=i.normalize(t),"function"==typeof r&&(s=r,r={}),"function"!=typeof s&&(s=null);var a=void 0,c=void 0;if("number"==typeof r.errorLevel?(a=!0,c=r.errorLevel):(a=!!r.errorLevel,c=i.diagnoses.valid),r.tldWhitelist)if("string"==typeof r.tldWhitelist)r.tldWhitelist=[r.tldWhitelist];else if("object"!==n(r.tldWhitelist))throw new TypeError("expected array or object tldWhitelist");if(r.tldBlacklist)if("string"==typeof r.tldBlacklist)r.tldBlacklist=[r.tldBlacklist];else if("object"!==n(r.tldBlacklist))throw new TypeError("expected array or object tldBlacklist");if(r.minDomainAtoms&&(r.minDomainAtoms!==(0|+r.minDomainAtoms)||r.minDomainAtoms<0))throw new TypeError("expected positive integer minDomainAtoms");var l=i.diagnoses.valid,u=function(e){e>l&&(l=e)};void 0!==r.allowUnicode&&!r.allowUnicode&&/[^\x00-\x7f]/.test(t)&&u(i.diagnoses.undesiredNonAscii);for(var f={now:i.components.localpart,prev:i.components.localpart,stack:[i.components.localpart]},p="",h={local:"",domain:""},d={locals:[""],domains:[""]},v=0,y=0,g=0,m=void 0,b=!1,w=!1,x=t.length,E=void 0,_=0;_<x;_+=E.length){switch(E=String.fromCodePoint(t.codePointAt(_)),f.now){case i.components.localpart:switch(E){case"(":0===y?u(0===v?i.diagnoses.cfwsComment:i.diagnoses.deprecatedComment):(u(i.diagnoses.cfwsComment),w=!0),f.stack.push(f.now),f.now=i.components.contextComment;break;case".":0===y?u(0===v?i.diagnoses.errDotStart:i.diagnoses.errConsecutiveDots):(w&&u(i.diagnoses.deprecatedLocalPart),w=!1,y=0,++v,h.local+=E,d.locals[v]="");break;case'"':0===y?(u(0===v?i.diagnoses.rfc5321QuotedString:i.diagnoses.deprecatedLocalPart),h.local+=E,d.locals[v]+=E,y+=e.byteLength(E,"utf8"),w=!0,f.stack.push(f.now),f.now=i.components.contextQuotedString):u(i.diagnoses.errExpectingATEXT);break;case"\r":if(x===++_||"\n"!==t[_]){u(i.diagnoses.errCRNoLF);break}case" ":case"\t":0===y?u(0===v?i.diagnoses.cfwsFWS:i.diagnoses.deprecatedFWS):w=!0,f.stack.push(f.now),f.now=i.components.contextFWS,p=E;break;case"@":if(1!==f.stack.length)throw new Error("unexpected item on context stack");0===h.local.length?u(i.diagnoses.errNoLocalPart):0===y?u(i.diagnoses.errDotEnd):e.byteLength(h.local,"utf8")>64?u(i.diagnoses.rfc5322LocalTooLong):f.prev!==i.components.contextComment&&f.prev!==i.components.contextFWS||u(i.diagnoses.deprecatedCFWSNearAt),f.now=i.components.domain,f.stack[0]=i.components.domain,v=0,y=0,w=!1;break;default:if(w)switch(f.prev){case i.components.contextComment:case i.components.contextFWS:u(i.diagnoses.errATEXTAfterCFWS);break;case i.components.contextQuotedString:u(i.diagnoses.errATEXTAfterQS);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+f.prev)}else f.prev=f.now,m=E.codePointAt(0),(i.specials(m)||i.c0Controls(m)||i.c1Controls(m))&&u(i.diagnoses.errExpectingATEXT),h.local+=E,d.locals[v]+=E,y+=e.byteLength(E,"utf8")}break;case i.components.domain:switch(E){case"(":0===y?u(0===v?i.diagnoses.deprecatedCFWSNearAt:i.diagnoses.deprecatedComment):(w=!0,u(i.diagnoses.cfwsComment)),f.stack.push(f.now),f.now=i.components.contextComment;break;case".":var S=o.encode(d.domains[v]).length;0===y?u(0===v?i.diagnoses.errDotStart:i.diagnoses.errConsecutiveDots):b?u(i.diagnoses.errDomainHyphenEnd):S>63&&u(i.diagnoses.rfc5322LabelTooLong),w=!1,y=0,++v,d.domains[v]="",h.domain+=E;break;case"[":0===h.domain.length?(w=!0,y+=e.byteLength(E,"utf8"),f.stack.push(f.now),f.now=i.components.literal,h.domain+=E,d.domains[v]+=E,h.literal=""):u(i.diagnoses.errExpectingATEXT);break;case"\r":if(x===++_||"\n"!==t[_]){u(i.diagnoses.errCRNoLF);break}case" ":case"\t":0===y?u(0===v?i.diagnoses.deprecatedCFWSNearAt:i.diagnoses.deprecatedFWS):(u(i.diagnoses.cfwsFWS),w=!0),f.stack.push(f.now),f.now=i.components.contextFWS,p=E;break;default:if(w)switch(f.prev){case i.components.contextComment:case i.components.contextFWS:u(i.diagnoses.errATEXTAfterCFWS);break;case i.components.literal:u(i.diagnoses.errATEXTAfterDomainLiteral);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+f.prev)}m=E.codePointAt(0),b=!1,i.specials(m)||i.c0Controls(m)||i.c1Controls(m)?u(i.diagnoses.errExpectingATEXT):"-"===E?(0===y&&u(i.diagnoses.errDomainHyphenStart),b=!0):(m<48||m>122&&m<192||m>57&&m<65||m>90&&m<97)&&u(i.diagnoses.rfc5322Domain),h.domain+=E,d.domains[v]+=E,y+=e.byteLength(E,"utf8")}break;case i.components.literal:switch(E){case"]":if(l<i.categories.deprecated){var O=-1,j=h.literal,A=i.regex.ipV4.exec(j);if(A&&0!==(O=A.index)&&(j=j.slice(0,O)+"0:0"),0===O)u(i.diagnoses.rfc5321AddressLiteral);else if("ipv6:"!==j.slice(0,5).toLowerCase())u(i.diagnoses.rfc5322DomainLiteral);else{var I=j.slice(5),R=i.maxIPv6Groups,T=I.split(":");~(O=I.indexOf("::"))?O!==I.lastIndexOf("::")?u(i.diagnoses.rfc5322IPv62x2xColon):(0!==O&&O!==I.length-2||++R,T.length>R?u(i.diagnoses.rfc5322IPv6MaxGroups):T.length===R&&u(i.diagnoses.deprecatedIPv6)):T.length!==R&&u(i.diagnoses.rfc5322IPv6GroupCount),":"===I[0]&&":"!==I[1]?u(i.diagnoses.rfc5322IPv6ColonStart):":"===I[I.length-1]&&":"!==I[I.length-2]?u(i.diagnoses.rfc5322IPv6ColonEnd):i.checkIpV6(T)?u(i.diagnoses.rfc5321AddressLiteral):u(i.diagnoses.rfc5322IPv6BadCharacter)}}else u(i.diagnoses.rfc5322DomainLiteral);h.domain+=E,d.domains[v]+=E,y+=e.byteLength(E,"utf8"),f.prev=f.now,f.now=f.stack.pop();break;case"\\":u(i.diagnoses.rfc5322DomainLiteralOBSDText),f.stack.push(f.now),f.now=i.components.contextQuotedPair;break;case"\r":if(x===++_||"\n"!==t[_]){u(i.diagnoses.errCRNoLF);break}case" ":case"\t":u(i.diagnoses.cfwsFWS),f.stack.push(f.now),f.now=i.components.contextFWS,p=E;break;default:if(127!==(m=E.codePointAt(0))&&i.c1Controls(m)||0===m||"["===E){u(i.diagnoses.errExpectingDTEXT);break}(i.c0Controls(m)||127===m)&&u(i.diagnoses.rfc5322DomainLiteralOBSDText),h.literal+=E,h.domain+=E,d.domains[v]+=E,y+=e.byteLength(E,"utf8")}break;case i.components.contextQuotedString:switch(E){case"\\":f.stack.push(f.now),f.now=i.components.contextQuotedPair;break;case"\r":if(x===++_||"\n"!==t[_]){u(i.diagnoses.errCRNoLF);break}case"\t":h.local+=" ",d.locals[v]+=" ",y+=e.byteLength(E,"utf8"),u(i.diagnoses.cfwsFWS),f.stack.push(f.now),f.now=i.components.contextFWS,p=E;break;case'"':h.local+=E,d.locals[v]+=E,y+=e.byteLength(E,"utf8"),f.prev=f.now,f.now=f.stack.pop();break;default:127!==(m=E.codePointAt(0))&&i.c1Controls(m)||0===m||10===m?u(i.diagnoses.errExpectingQTEXT):(i.c0Controls(m)||127===m)&&u(i.diagnoses.deprecatedQTEXT),h.local+=E,d.locals[v]+=E,y+=e.byteLength(E,"utf8")}break;case i.components.contextQuotedPair:127!==(m=E.codePointAt(0))&&i.c1Controls(m)?u(i.diagnoses.errExpectingQPair):(m<31&&9!==m||127===m)&&u(i.diagnoses.deprecatedQP),f.prev=f.now,f.now=f.stack.pop();var L="\\"+E;switch(f.now){case i.components.contextComment:break;case i.components.contextQuotedString:h.local+=L,d.locals[v]+=L,y+=2;break;case i.components.literal:h.domain+=L,d.domains[v]+=L,y+=2;break;default:throw new Error("quoted pair logic invoked in an invalid context: "+f.now)}break;case i.components.contextComment:switch(E){case"(":f.stack.push(f.now),f.now=i.components.contextComment;break;case")":f.prev=f.now,f.now=f.stack.pop();break;case"\\":f.stack.push(f.now),f.now=i.components.contextQuotedPair;break;case"\r":if(x===++_||"\n"!==t[_]){u(i.diagnoses.errCRNoLF);break}case" ":case"\t":u(i.diagnoses.cfwsFWS),f.stack.push(f.now),f.now=i.components.contextFWS,p=E;break;default:if(0===(m=E.codePointAt(0))||10===m||127!==m&&i.c1Controls(m)){u(i.diagnoses.errExpectingCTEXT);break}(i.c0Controls(m)||127===m)&&u(i.diagnoses.deprecatedCTEXT)}break;case i.components.contextFWS:if("\r"===p){if("\r"===E){u(i.diagnoses.errFWSCRLFx2);break}++g>1?u(i.diagnoses.deprecatedFWS):g=1}switch(E){case"\r":x!==++_&&"\n"===t[_]||u(i.diagnoses.errCRNoLF);break;case" ":case"\t":break;default:"\r"===p&&u(i.diagnoses.errFWSCRLFEnd),g=0,f.prev=f.now,f.now=f.stack.pop(),--_}p=E;break;default:throw new Error("unknown context: "+f.now)}if(l>i.categories.rfc5322)break}if(l<i.categories.rfc5322){var k=o.encode(h.domain).length;if(f.now===i.components.contextQuotedString)u(i.diagnoses.errUnclosedQuotedString);else if(f.now===i.components.contextQuotedPair)u(i.diagnoses.errBackslashEnd);else if(f.now===i.components.contextComment)u(i.diagnoses.errUnclosedComment);else if(f.now===i.components.literal)u(i.diagnoses.errUnclosedDomainLiteral);else if("\r"===E)u(i.diagnoses.errFWSCRLFEnd);else if(0===h.domain.length)u(i.diagnoses.errNoDomain);else if(0===y)u(i.diagnoses.errDotEnd);else if(b)u(i.diagnoses.errDomainHyphenEnd);else if(k>255)u(i.diagnoses.rfc5322DomainTooLong);else if(e.byteLength(h.local,"utf8")+k+1>254)u(i.diagnoses.rfc5322TooLong);else if(y>63)u(i.diagnoses.rfc5322LabelTooLong);else if(r.minDomainAtoms&&d.domains.length<r.minDomainAtoms)u(i.diagnoses.errDomainTooShort);else if(r.tldWhitelist||r.tldBlacklist){var N=d.domains[v];i.validDomain(N,r)||u(i.diagnoses.errUnknownTLD)}}l<i.categories.dnsWarn&&d.domains[v].codePointAt(0)<=57&&u(i.diagnoses.rfc5321TLDNumeric),l<c&&(l=i.diagnoses.valid);var C=a?l:l<i.defaultThreshold;return s&&s(C),C},t.diagnoses=i.validate.diagnoses=function(){for(var e={},t=Object.keys(i.diagnoses),r=0;r<t.length;++r){var n=t[r];e[n]=i.diagnoses[n]}return e}(),t.normalize=i.normalize}).call(t,r(3).Buffer)},function(e,t,r){"use strict";t.errors={root:"value",key:'"{{!label}}" ',messages:{wrapArrays:!0},any:{unknown:"is not allowed",invalid:"contains an invalid value",empty:"is not allowed to be empty",required:"is required",allowOnly:"must be one of {{valids}}",default:"threw an error when running default method"},alternatives:{base:"not matching any of the allowed alternatives",child:null},array:{base:"must be an array",includes:"at position {{pos}} does not match any of the allowed types",includesSingle:'single value of "{{!label}}" does not match any of the allowed types',includesOne:"at position {{pos}} fails because {{reason}}",includesOneSingle:'single value of "{{!label}}" fails because {{reason}}',includesRequiredUnknowns:"does not contain {{unknownMisses}} required value(s)",includesRequiredKnowns:"does not contain {{knownMisses}}",includesRequiredBoth:"does not contain {{knownMisses}} and {{unknownMisses}} other required value(s)",excludes:"at position {{pos}} contains an excluded value",excludesSingle:'single value of "{{!label}}" contains an excluded value',min:"must contain at least {{limit}} items",max:"must contain less than or equal to {{limit}} items",length:"must contain {{limit}} items",ordered:"at position {{pos}} fails because {{reason}}",orderedLength:"at position {{pos}} fails because array must contain at most {{limit}} items",ref:'references "{{ref}}" which is not a positive integer',sparse:"must not be a sparse array",unique:"position {{pos}} contains a duplicate value"},boolean:{base:"must be a boolean"},binary:{base:"must be a buffer or a string",min:"must be at least {{limit}} bytes",max:"must be less than or equal to {{limit}} bytes",length:"must be {{limit}} bytes"},date:{base:"must be a number of milliseconds or valid date string",format:"must be a string with one of the following formats {{format}}",strict:"must be a valid date",min:'must be larger than or equal to "{{limit}}"',max:'must be less than or equal to "{{limit}}"',less:'must be less than "{{limit}}"',greater:'must be greater than "{{limit}}"',isoDate:"must be a valid ISO 8601 date",timestamp:{javascript:"must be a valid timestamp or number of milliseconds",unix:"must be a valid timestamp or number of seconds"},ref:'references "{{ref}}" which is not a date'},function:{base:"must be a Function",arity:"must have an arity of {{n}}",minArity:"must have an arity greater or equal to {{n}}",maxArity:"must have an arity lesser or equal to {{n}}",ref:"must be a Joi reference",class:"must be a class"},lazy:{base:"!!schema error: lazy schema must be set",schema:"!!schema error: lazy schema function must return a schema"},object:{base:"must be an object",child:'!!child "{{!child}}" fails because {{reason}}',min:"must have at least {{limit}} children",max:"must have less than or equal to {{limit}} children",length:"must have {{limit}} children",allowUnknown:'!!"{{!child}}" is not allowed',with:'!!"{{mainWithLabel}}" missing required peer "{{peerWithLabel}}"',without:'!!"{{mainWithLabel}}" conflict with forbidden peer "{{peerWithLabel}}"',missing:"must contain at least one of {{peersWithLabels}}",xor:"contains a conflict between exclusive peers {{peersWithLabels}}",or:"must contain at least one of {{peersWithLabels}}",and:"contains {{presentWithLabels}} without its required peers {{missingWithLabels}}",nand:'!!"{{mainWithLabel}}" must not exist simultaneously with {{peersWithLabels}}',assert:'!!"{{ref}}" validation failed because "{{ref}}" failed to {{message}}',rename:{multiple:'cannot rename child "{{from}}" because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename child "{{from}}" because override is disabled and target "{{to}}" exists',regex:{multiple:'cannot rename children {{from}} because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename children {{from}} because override is disabled and target "{{to}}" exists'}},type:'must be an instance of "{{type}}"',schema:"must be a Joi instance"},number:{base:"must be a number",min:"must be larger than or equal to {{limit}}",max:"must be less than or equal to {{limit}}",less:"must be less than {{limit}}",greater:"must be greater than {{limit}}",float:"must be a float or double",integer:"must be an integer",negative:"must be a negative number",positive:"must be a positive number",precision:"must have no more than {{limit}} decimal places",ref:'references "{{ref}}" which is not a number',multiple:"must be a multiple of {{multiple}}",port:"must be a valid port"},string:{base:"must be a string",min:"length must be at least {{limit}} characters long",max:"length must be less than or equal to {{limit}} characters long",length:"length must be {{limit}} characters long",alphanum:"must only contain alpha-numeric characters",token:"must only contain alpha-numeric and underscore characters",regex:{base:'with value "{{!value}}" fails to match the required pattern: {{pattern}}',name:'with value "{{!value}}" fails to match the {{name}} pattern',invert:{base:'with value "{{!value}}" matches the inverted pattern: {{pattern}}',name:'with value "{{!value}}" matches the inverted {{name}} pattern'}},email:"must be a valid email",uri:"must be a valid uri",uriRelativeOnly:"must be a valid relative uri",uriCustomScheme:"must be a valid uri with a scheme matching the {{scheme}} pattern",isoDate:"must be a valid ISO 8601 date",guid:"must be a valid GUID",hex:"must only contain hexadecimal characters",hexAlign:"hex decoded representation must be byte aligned",base64:"must be a valid base64 string",hostname:"must be a valid hostname",normalize:"must be unicode normalized in the {{form}} form",lowercase:"must only contain lowercase characters",uppercase:"must only contain uppercase characters",trim:"must not have leading or trailing whitespace",creditCard:"must be a credit card",ref:'references "{{ref}}" which is not a number',ip:"must be a valid ip address with a {{cidr}} CIDR",ipVersion:"must be a valid ip address of one of the following versions {{version}} with a {{cidr}} CIDR"}}},function(e,t,r){"use strict";var n=r(8);t.options=n.object({abortEarly:n.boolean(),convert:n.boolean(),allowUnknown:n.boolean(),skipFunctions:n.boolean(),stripUnknown:[n.boolean(),n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects")],language:n.object(),presence:n.string().only("required","optional","forbidden","ignore"),raw:n.boolean(),context:n.object(),strip:n.boolean(),noDefaults:n.boolean(),escapeHtml:n.boolean()}).strict()},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=r(2),i=r(4),s=r(1),a=r(0),c={fastSplice:function(e,t){for(var r=t;r<e.length;)e[r++]=e[r];--e.length}};c.Array=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r._type="array",r._inner.items=[],r._inner.ordereds=[],r._inner.inclusions=[],r._inner.exclusions=[],r._inner.requireds=[],r._flags.sparse=!1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype._base=function(e,t,r){var n={value:e};"string"==typeof e&&r.convert&&c.safeParse(e,n);var o=Array.isArray(n.value),i=o;if(r.convert&&this._flags.single&&!o&&(n.value=[n.value],o=!0),!o)return n.errors=this.createError("array.base",null,t,r),n;if((this._inner.inclusions.length||this._inner.exclusions.length||this._inner.requireds.length||this._inner.ordereds.length||!this._flags.sparse)&&(i&&(n.value=n.value.slice(0)),n.errors=this._checkItems.call(this,n.value,i,t,r),n.errors&&i&&r.convert&&this._flags.single)){var s=n.errors;n.value=[n.value],n.errors=this._checkItems.call(this,n.value,i,t,r),n.errors&&(n.errors=s,n.value=n.value[0])}return n},t.prototype._checkItems=function(e,t,r,n){for(var o=[],i=void 0,s=this._inner.requireds.slice(),a=this._inner.ordereds.slice(),l=this._inner.inclusions.concat(s),u=e.length,f=0;f<u;++f){i=!1;var p=e[f],h=!1,d={key:t?f:r.key,path:t?r.path.concat(f):r.path,parent:r.parent,reference:r.reference},v=void 0;if(this._flags.sparse||void 0!==p){for(var y=0;y<this._inner.exclusions.length;++y)if(!(v=this._inner.exclusions[y]._validate(p,d,{})).errors){if(o.push(this.createError(t?"array.excludes":"array.excludesSingle",{pos:f,value:p},{key:r.key,path:d.path},n)),i=!0,n.abortEarly)return o;a.shift();break}if(!i){if(this._inner.ordereds.length){if(a.length>0){var g=a.shift();if((v=g._validate(p,d,n)).errors){if(o.push(this.createError("array.ordered",{pos:f,reason:v.errors,value:p},{key:r.key,path:d.path},n)),n.abortEarly)return o}else if(g._flags.strip)c.fastSplice(e,f),--f,--u;else{if(!this._flags.sparse&&void 0===v.value){if(o.push(this.createError("array.sparse",null,{key:r.key,path:d.path,pos:f},n)),n.abortEarly)return o;continue}e[f]=v.value}continue}if(!this._inner.items.length){if(o.push(this.createError("array.orderedLength",{pos:f,limit:this._inner.ordereds.length},{key:r.key,path:d.path},n)),n.abortEarly)return o;continue}}for(var m=[],b=s.length,w=0;w<b;++w)if(!(v=m[w]=s[w]._validate(p,d,n)).errors){if(e[f]=v.value,h=!0,c.fastSplice(s,w),--w,--b,!this._flags.sparse&&void 0===v.value&&(o.push(this.createError("array.sparse",null,{key:r.key,path:d.path,pos:f},n)),n.abortEarly))return o;break}if(!h){var x=!(!n.stripUnknown||!0!==n.stripUnknown&&!n.stripUnknown.arrays);b=l.length;for(var E=0;E<b;++E){var _=l[E],S=s.indexOf(_);if(-1!==S)v=m[S];else if(!(v=_._validate(p,d,n)).errors){_._flags.strip?(c.fastSplice(e,f),--f,--u):this._flags.sparse||void 0!==v.value?e[f]=v.value:(o.push(this.createError("array.sparse",null,{key:r.key,path:d.path,pos:f},n)),i=!0),h=!0;break}if(1===b){if(x){c.fastSplice(e,f),--f,--u,h=!0;break}if(o.push(this.createError(t?"array.includesOne":"array.includesOneSingle",{pos:f,reason:v.errors,value:p},{key:r.key,path:d.path},n)),i=!0,n.abortEarly)return o;break}}if(!i&&this._inner.inclusions.length&&!h){if(x){c.fastSplice(e,f),--f,--u;continue}if(o.push(this.createError(t?"array.includes":"array.includesSingle",{pos:f,value:p},{key:r.key,path:d.path},n)),n.abortEarly)return o}}}}else{if(o.push(this.createError("array.sparse",null,{key:r.key,path:d.path,pos:f},n)),n.abortEarly)return o;a.shift()}}return s.length&&this._fillMissedErrors.call(this,o,s,r,n),a.length&&this._fillOrderedErrors.call(this,o,a,r,n),o.length?o:null},t.prototype.describe=function(){var e=o.prototype.describe.call(this);if(this._inner.ordereds.length){e.orderedItems=[];for(var t=0;t<this._inner.ordereds.length;++t)e.orderedItems.push(this._inner.ordereds[t].describe())}if(this._inner.items.length){e.items=[];for(var r=0;r<this._inner.items.length;++r)e.items.push(this._inner.items[r].describe())}return e},t.prototype.items=function(){for(var e=this,t=this.clone(),r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return a.flatten(n).forEach((function(r,n){try{r=i.schema(e._currentJoi,r)}catch(e){throw e.hasOwnProperty("path")?e.path=n+"."+e.path:e.path=n,e.message=e.message+"("+e.path+")",e}t._inner.items.push(r),"required"===r._flags.presence?t._inner.requireds.push(r):"forbidden"===r._flags.presence?t._inner.exclusions.push(r.optional()):t._inner.inclusions.push(r)})),t},t.prototype.ordered=function(){for(var e=this,t=this.clone(),r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return a.flatten(n).forEach((function(r,n){try{r=i.schema(e._currentJoi,r)}catch(e){throw e.hasOwnProperty("path")?e.path=n+"."+e.path:e.path=n,e.message=e.message+"("+e.path+")",e}t._inner.ordereds.push(r)})),t},t.prototype.min=function(e){var t=s.isRef(e);return a.assert(Number.isSafeInteger(e)&&e>=0||t,"limit must be a positive integer or reference"),this._test("min",e,(function(r,n,o){var i=void 0;if(t){if(i=e(n.reference||n.parent,o),!(Number.isSafeInteger(i)&&i>=0))return this.createError("array.ref",{ref:e.key},n,o)}else i=e;return r.length>=i?r:this.createError("array.min",{limit:e,value:r},n,o)}))},t.prototype.max=function(e){var t=s.isRef(e);return a.assert(Number.isSafeInteger(e)&&e>=0||t,"limit must be a positive integer or reference"),this._test("max",e,(function(r,n,o){var i=void 0;if(t){if(i=e(n.reference||n.parent,o),!(Number.isSafeInteger(i)&&i>=0))return this.createError("array.ref",{ref:e.key},n,o)}else i=e;return r.length<=i?r:this.createError("array.max",{limit:e,value:r},n,o)}))},t.prototype.length=function(e){var t=s.isRef(e);return a.assert(Number.isSafeInteger(e)&&e>=0||t,"limit must be a positive integer or reference"),this._test("length",e,(function(r,n,o){var i=void 0;if(t){if(i=e(n.reference||n.parent,o),!(Number.isSafeInteger(i)&&i>=0))return this.createError("array.ref",{ref:e.key},n,o)}else i=e;return r.length===i?r:this.createError("array.length",{limit:e,value:r},n,o)}))},t.prototype.unique=function(e){a.assert(void 0===e||"function"==typeof e||"string"==typeof e,"comparator must be a function or a string");var t={};return"string"==typeof e?t.path=e:"function"==typeof e&&(t.comparator=e),this._test("unique",t,(function(e,r,o){for(var i={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},s=t.comparator||a.deepEqual,c=0;c<e.length;++c){var l=t.path?a.reach(e[c],t.path):e[c],u=t.comparator?i.custom:i[void 0===l?"undefined":n(l)];if(u)if(u instanceof Map){for(var f=u.entries(),p=void 0;!(p=f.next()).done;)if(s(p.value[0],l)){var h={key:r.key,path:r.path.concat(c),parent:r.parent,reference:r.reference},d={pos:c,value:e[c],dupePos:p.value[1],dupeValue:e[p.value[1]]};return t.path&&(d.path=t.path),this.createError("array.unique",d,h,o)}u.set(l,c)}else{if(void 0!==u[l]){var v={key:r.key,path:r.path.concat(c),parent:r.parent,reference:r.reference},y={pos:c,value:e[c],dupePos:u[l],dupeValue:e[u[l]]};return t.path&&(y.path=t.path),this.createError("array.unique",y,v,o)}u[l]=c}}return e}))},t.prototype.sparse=function(e){var t=void 0===e||!!e;if(this._flags.sparse===t)return this;var r=this.clone();return r._flags.sparse=t,r},t.prototype.single=function(e){var t=void 0===e||!!e;if(this._flags.single===t)return this;var r=this.clone();return r._flags.single=t,r},t.prototype._fillMissedErrors=function(e,t,r,n){for(var o=[],i=0,s=0;s<t.length;++s){var a=t[s]._getLabel();a?o.push(a):++i}o.length?i?e.push(this.createError("array.includesRequiredBoth",{knownMisses:o,unknownMisses:i},{key:r.key,path:r.path},n)):e.push(this.createError("array.includesRequiredKnowns",{knownMisses:o},{key:r.key,path:r.path},n)):e.push(this.createError("array.includesRequiredUnknowns",{unknownMisses:i},{key:r.key,path:r.path},n))},t.prototype._fillOrderedErrors=function(e,t,r,n){for(var o=[],i=0;i<t.length;++i)"required"===a.reach(t[i],"_flags.presence")&&o.push(t[i]);o.length&&this._fillMissedErrors.call(this,e,o,r,n)},t}(o),c.safeParse=function(e,t){try{var r=JSON.parse(e);Array.isArray(r)&&(t.value=r)}catch(e){}},e.exports=new c.Array},function(e,t,r){"use strict";(function(t){var n=r(2),o=r(0),i={};i.Binary=function(e){function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return t._type="binary",t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(r,e),r.prototype._base=function(e,r,n){var o={value:e};if("string"==typeof e&&n.convert)try{o.value=t.from(e,this._flags.encoding)}catch(e){}return o.errors=t.isBuffer(o.value)?null:this.createError("binary.base",null,r,n),o},r.prototype.encoding=function(e){if(o.assert(t.isEncoding(e),"Invalid encoding:",e),this._flags.encoding===e)return this;var r=this.clone();return r._flags.encoding=e,r},r.prototype.min=function(e){return o.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,(function(t,r,n){return t.length>=e?t:this.createError("binary.min",{limit:e,value:t},r,n)}))},r.prototype.max=function(e){return o.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,(function(t,r,n){return t.length<=e?t:this.createError("binary.max",{limit:e,value:t},r,n)}))},r.prototype.length=function(e){return o.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,(function(t,r,n){return t.length===e?t:this.createError("binary.length",{limit:e,value:t},r,n)}))},r}(n),e.exports=new i.Binary}).call(t,r(3).Buffer)},function(e,t,r){"use strict";var n=r(2),o=r(0),i={Set:r(9)};i.Boolean=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r._type="boolean",r._flags.insensitive=!0,r._inner.truthySet=new i.Set,r._inner.falsySet=new i.Set,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype._base=function(e,t,r){var n={value:e};if("string"==typeof e&&r.convert){var o=this._flags.insensitive?e.toLowerCase():e;n.value="true"===o||"false"!==o&&e}return"boolean"!=typeof n.value&&(n.value=!!this._inner.truthySet.has(e,null,null,this._flags.insensitive)||!this._inner.falsySet.has(e,null,null,this._flags.insensitive)&&e),n.errors="boolean"==typeof n.value?null:this.createError("boolean.base",null,t,r),n},t.prototype.truthy=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=this.clone();t=o.flatten(t);for(var i=0;i<t.length;++i){var s=t[i];o.assert(void 0!==s,"Cannot call truthy with undefined"),n._inner.truthySet.add(s)}return n},t.prototype.falsy=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=this.clone();t=o.flatten(t);for(var i=0;i<t.length;++i){var s=t[i];o.assert(void 0!==s,"Cannot call falsy with undefined"),n._inner.falsySet.add(s)}return n},t.prototype.insensitive=function(e){var t=void 0===e||!!e;if(this._flags.insensitive===t)return this;var r=this.clone();return r._flags.insensitive=t,r},t.prototype.describe=function(){var e=n.prototype.describe.call(this);return e.truthy=[!0].concat(this._inner.truthySet.values()),e.falsy=[!1].concat(this._inner.falsySet.values()),e},t}(n),e.exports=new i.Boolean},function(e,t,r){"use strict";var n=r(0),o=r(13),i=r(1),s={};s.Func=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r._flags.func=!0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype.arity=function(e){return n.assert(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this._test("arity",e,(function(t,r,n){return t.length===e?t:this.createError("function.arity",{n:e},r,n)}))},t.prototype.minArity=function(e){return n.assert(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this._test("minArity",e,(function(t,r,n){return t.length>=e?t:this.createError("function.minArity",{n:e},r,n)}))},t.prototype.maxArity=function(e){return n.assert(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this._test("maxArity",e,(function(t,r,n){return t.length<=e?t:this.createError("function.maxArity",{n:e},r,n)}))},t.prototype.ref=function(){return this._test("ref",null,(function(e,t,r){return i.isRef(e)?e:this.createError("function.ref",null,t,r)}))},t.prototype.class=function(){return this._test("class",null,(function(e,t,r){return/^\s*class\s/.test(e.toString())?e:this.createError("function.class",null,t,r)}))},t}(o.constructor),e.exports=new s.Func},function(e,t,r){"use strict";var n=r(2),o=r(0),i={};i.Lazy=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r._type="lazy",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype._base=function(e,t,r){var o={value:e},i=this._flags.lazy;if(!i)return o.errors=this.createError("lazy.base",null,t,r),o;var s=i();return s instanceof n?s._validate(e,t,r):(o.errors=this.createError("lazy.schema",null,t,r),o)},t.prototype.set=function(e){o.assert("function"==typeof e,"You must provide a function as first argument");var t=this.clone();return t._flags.lazy=e,t},t}(n),e.exports=new i.Lazy},function(e,t,r){"use strict";var n=r(2),o=r(1),i=r(0),s={precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/};s.Number=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r._type="number",r._invalids.add(1/0),r._invalids.add(-1/0),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype._base=function(e,t,r){var n={errors:null,value:e};if("string"==typeof e&&r.convert){var o=parseFloat(e);n.value=isNaN(o)||!isFinite(e)?NaN:o}var i="number"==typeof n.value&&!isNaN(n.value);if(r.convert&&"precision"in this._flags&&i){var s=Math.pow(10,this._flags.precision);n.value=Math.round(n.value*s)/s}return n.errors=i?null:this.createError("number.base",null,t,r),n},t.prototype.multiple=function(e){var t=o.isRef(e);return t||(i.assert("number"==typeof e&&isFinite(e),"multiple must be a number"),i.assert(e>0,"multiple must be greater than 0")),this._test("multiple",e,(function(r,n,o){var i=t?e(n.reference||n.parent,o):e;return!t||"number"==typeof i&&isFinite(i)?r%i==0?r:this.createError("number.multiple",{multiple:e,value:r},n,o):this.createError("number.ref",{ref:e.key},n,o)}))},t.prototype.integer=function(){return this._test("integer",void 0,(function(e,t,r){return Number.isSafeInteger(e)?e:this.createError("number.integer",{value:e},t,r)}))},t.prototype.negative=function(){return this._test("negative",void 0,(function(e,t,r){return e<0?e:this.createError("number.negative",{value:e},t,r)}))},t.prototype.positive=function(){return this._test("positive",void 0,(function(e,t,r){return e>0?e:this.createError("number.positive",{value:e},t,r)}))},t.prototype.precision=function(e){i.assert(Number.isSafeInteger(e),"limit must be an integer"),i.assert(!("precision"in this._flags),"precision already set");var t=this._test("precision",e,(function(t,r,n){var o=t.toString().match(s.precisionRx);return Math.max((o[1]?o[1].length:0)-(o[2]?parseInt(o[2],10):0),0)<=e?t:this.createError("number.precision",{limit:e,value:t},r,n)}));return t._flags.precision=e,t},t.prototype.port=function(){return this._test("port",void 0,(function(e,t,r){return!Number.isSafeInteger(e)||e<0||e>65535?this.createError("number.port",{value:e},t,r):e}))},t}(n),s.compare=function(e,t){return function(r){var n=o.isRef(r),s="number"==typeof r&&!isNaN(r);return i.assert(s||n,"limit must be a number or reference"),this._test(e,r,(function(o,i,s){var a=void 0;if(n){if("number"!=typeof(a=r(i.reference||i.parent,s))||isNaN(a))return this.createError("number.ref",{ref:r.key},i,s)}else a=r;return t(o,a)?o:this.createError("number."+e,{limit:a,value:o},i,s)}))}},s.Number.prototype.min=s.compare("min",(function(e,t){return e>=t})),s.Number.prototype.max=s.compare("max",(function(e,t){return e<=t})),s.Number.prototype.greater=s.compare("greater",(function(e,t){return e>t})),s.Number.prototype.less=s.compare("less",(function(e,t){return e<t})),e.exports=new s.Number},function(e,t,r){"use strict";(function(t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=r(15),i=r(0),s=void 0,a=r(2),c=r(1),l=r(12),u=r(30),f=r(29),p={uriRegex:u.createUriRegex(),ipRegex:f.createIpRegex(["ipv4","ipv6","ipvfuture"],"optional"),guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},cidrPresences:["required","optional","forbidden"],normalizationForms:["NFC","NFD","NFKC","NFKD"]};p.String=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r._type="string",r._invalids.add(""),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype._base=function(e,t,r){if("string"==typeof e&&r.convert){if(this._flags.normalize&&(e=e.normalize(this._flags.normalize)),this._flags.case&&(e="upper"===this._flags.case?e.toLocaleUpperCase():e.toLocaleLowerCase()),this._flags.trim&&(e=e.trim()),this._inner.replacements)for(var n=0;n<this._inner.replacements.length;++n){var o=this._inner.replacements[n];e=e.replace(o.pattern,o.replacement)}if(this._flags.truncate)for(var i=0;i<this._tests.length;++i){var s=this._tests[i];if("max"===s.name){e=e.slice(0,s.arg);break}}this._flags.byteAligned&&e.length%2!=0&&(e="0"+e)}return{value:e,errors:"string"==typeof e?null:this.createError("string.base",{value:e},t,r)}},t.prototype.insensitive=function(){if(this._flags.insensitive)return this;var e=this.clone();return e._flags.insensitive=!0,e},t.prototype.creditCard=function(){return this._test("creditCard",void 0,(function(e,t,r){for(var n=e.length,o=0,i=1;n--;){var s=e.charAt(n)*i;o+=s-9*(s>9),i^=3}return o%10==0&&o>0?e:this.createError("string.creditCard",{value:e},t,r)}))},t.prototype.regex=function(e,t){i.assert(e instanceof RegExp,"pattern must be a RegExp");var r={pattern:new RegExp(e.source,e.ignoreCase?"i":void 0)};"string"==typeof t?r.name=t:"object"===(void 0===t?"undefined":n(t))&&(r.invert=!!t.invert,t.name&&(r.name=t.name));var o=["string.regex",r.invert?".invert":"",r.name?".name":".base"].join("");return this._test("regex",r,(function(e,t,n){return r.pattern.test(e)^r.invert?e:this.createError(o,{name:r.name,pattern:r.pattern,value:e},t,n)}))},t.prototype.alphanum=function(){return this._test("alphanum",void 0,(function(e,t,r){return/^[a-zA-Z0-9]+$/.test(e)?e:this.createError("string.alphanum",{value:e},t,r)}))},t.prototype.token=function(){return this._test("token",void 0,(function(e,t,r){return/^\w+$/.test(e)?e:this.createError("string.token",{value:e},t,r)}))},t.prototype.email=function(e){return e&&(i.assert("object"===(void 0===e?"undefined":n(e)),"email options must be an object"),i.assert(void 0===e.checkDNS,"checkDNS option is not supported"),i.assert(void 0===e.tldWhitelist||"object"===n(e.tldWhitelist),"tldWhitelist must be an array or object"),i.assert(void 0===e.minDomainAtoms||Number.isSafeInteger(e.minDomainAtoms)&&e.minDomainAtoms>0,"minDomainAtoms must be a positive integer"),i.assert(void 0===e.errorLevel||"boolean"==typeof e.errorLevel||Number.isSafeInteger(e.errorLevel)&&e.errorLevel>=0,"errorLevel must be a non-negative integer or boolean")),this._test("email",e,(function(t,n,o){s=s||r(19);try{var i=s.validate(t,e);if(!0===i||0===i)return t}catch(e){}return this.createError("string.email",{value:t},n,o)}))},t.prototype.ip=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=p.ipRegex;i.assert("object"===(void 0===e?"undefined":n(e)),"options must be an object"),e.cidr?(i.assert("string"==typeof e.cidr,"cidr must be a string"),e.cidr=e.cidr.toLowerCase(),i.assert(i.contain(p.cidrPresences,e.cidr),"cidr must be one of "+p.cidrPresences.join(", ")),e.version||"optional"===e.cidr||(t=f.createIpRegex(["ipv4","ipv6","ipvfuture"],e.cidr))):e.cidr="optional";var r=void 0;if(e.version){Array.isArray(e.version)||(e.version=[e.version]),i.assert(e.version.length>=1,"version must have at least 1 version specified"),r=[];for(var o=0;o<e.version.length;++o){var s=e.version[o];i.assert("string"==typeof s,"version at position "+o+" must be a string"),s=s.toLowerCase(),i.assert(f.versions[s],"version at position "+o+" must be one of "+Object.keys(f.versions).join(", ")),r.push(s)}r=i.unique(r),t=f.createIpRegex(r,e.cidr)}return this._test("ip",e,(function(n,o,i){return t.test(n)?n:r?this.createError("string.ipVersion",{value:n,cidr:e.cidr,version:r},o,i):this.createError("string.ip",{value:n,cidr:e.cidr},o,i)}))},t.prototype.uri=function(e){var t="",r=!1,o=!1,s=p.uriRegex;if(e){if(i.assert("object"===(void 0===e?"undefined":n(e)),"options must be an object"),e.scheme){i.assert(e.scheme instanceof RegExp||"string"==typeof e.scheme||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array"),Array.isArray(e.scheme)||(e.scheme=[e.scheme]),i.assert(e.scheme.length>=1,"scheme must have at least 1 scheme specified");for(var a=0;a<e.scheme.length;++a){var c=e.scheme[a];i.assert(c instanceof RegExp||"string"==typeof c,"scheme at position "+a+" must be a RegExp or String"),t+=t?"|":"",c instanceof RegExp?t+=c.source:(i.assert(/[a-zA-Z][a-zA-Z0-9+-\.]*/.test(c),"scheme at position "+a+" must be a valid scheme"),t+=i.escapeRegex(c))}}e.allowRelative&&(r=!0),e.relativeOnly&&(o=!0)}return(t||r||o)&&(s=u.createUriRegex(t,r,o)),this._test("uri",e,(function(e,r,n){return s.test(e)?e:o?this.createError("string.uriRelativeOnly",{value:e},r,n):t?this.createError("string.uriCustomScheme",{scheme:t,value:e},r,n):this.createError("string.uri",{value:e},r,n)}))},t.prototype.isoDate=function(){return this._test("isoDate",void 0,(function(e,t,r){if(l._isIsoDate(e)){if(!r.convert)return e;var n=new Date(e);if(!isNaN(n.getTime()))return n.toISOString()}return this.createError("string.isoDate",{value:e},t,r)}))},t.prototype.guid=function(e){var t="";if(e&&e.version){Array.isArray(e.version)||(e.version=[e.version]),i.assert(e.version.length>=1,"version must have at least 1 valid version specified");for(var r=new Set,n=0;n<e.version.length;++n){var o=e.version[n];i.assert("string"==typeof o,"version at position "+n+" must be a string"),o=o.toLowerCase();var s=p.guidVersions[o];i.assert(s,"version at position "+n+" must be one of "+Object.keys(p.guidVersions).join(", ")),i.assert(!r.has(s),"version at position "+n+" must not be a duplicate."),t+=s,r.add(s)}}var a=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}([:-]?)[0-9A-F]{4}\\2?["+(t||"0-9A-F")+"][0-9A-F]{3}\\2?["+(t?"89AB":"0-9A-F")+"][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$","i");return this._test("guid",e,(function(e,t,r){var n=a.exec(e);return n?p.guidBrackets[n[1]]!==n[n.length-1]?this.createError("string.guid",{value:e},t,r):e:this.createError("string.guid",{value:e},t,r)}))},t.prototype.hex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.assert("object"===(void 0===e?"undefined":n(e)),"hex options must be an object"),i.assert(void 0===e.byteAligned||"boolean"==typeof e.byteAligned,"byteAligned must be boolean");var t=!0===e.byteAligned,r=/^[a-f0-9]+$/i,o=this._test("hex",r,(function(e,n,o){return r.test(e)?t&&e.length%2!=0?this.createError("string.hexAlign",{value:e},n,o):e:this.createError("string.hex",{value:e},n,o)}));return t&&(o._flags.byteAligned=!0),o},t.prototype.base64=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.assert("object"===(void 0===e?"undefined":n(e)),"base64 options must be an object"),i.assert(void 0===e.paddingRequired||"boolean"==typeof e.paddingRequired,"paddingRequired must be boolean");var t=(!1===e.paddingRequired?e.paddingRequired:(e.paddingRequired,1))?/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/:/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/;return this._test("base64",t,(function(e,r,n){return t.test(e)?e:this.createError("string.base64",{value:e},r,n)}))},t.prototype.hostname=function(){var e=/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/;return this._test("hostname",void 0,(function(t,r,n){return t.length<=255&&e.test(t)||o.isIPv6(t)?t:this.createError("string.hostname",{value:t},r,n)}))},t.prototype.normalize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NFC";i.assert(i.contain(p.normalizationForms,e),"normalization form must be one of "+p.normalizationForms.join(", "));var t=this._test("normalize",e,(function(t,r,n){return n.convert||t===t.normalize(e)?t:this.createError("string.normalize",{value:t,form:e},r,n)}));return t._flags.normalize=e,t},t.prototype.lowercase=function(){var e=this._test("lowercase",void 0,(function(e,t,r){return r.convert||e===e.toLocaleLowerCase()?e:this.createError("string.lowercase",{value:e},t,r)}));return e._flags.case="lower",e},t.prototype.uppercase=function(){var e=this._test("uppercase",void 0,(function(e,t,r){return r.convert||e===e.toLocaleUpperCase()?e:this.createError("string.uppercase",{value:e},t,r)}));return e._flags.case="upper",e},t.prototype.trim=function(){var e=this._test("trim",void 0,(function(e,t,r){return r.convert||e===e.trim()?e:this.createError("string.trim",{value:e},t,r)}));return e._flags.trim=!0,e},t.prototype.replace=function(e,t){"string"==typeof e&&(e=new RegExp(i.escapeRegex(e),"g")),i.assert(e instanceof RegExp,"pattern must be a RegExp"),i.assert("string"==typeof t,"replacement must be a String");var r=this.clone();return r._inner.replacements||(r._inner.replacements=[]),r._inner.replacements.push({pattern:e,replacement:t}),r},t.prototype.truncate=function(e){var t=void 0===e||!!e;if(this._flags.truncate===t)return this;var r=this.clone();return r._flags.truncate=t,r},t}(a),p.compare=function(e,r){return function(n,o){var s=c.isRef(n);return i.assert(Number.isSafeInteger(n)&&n>=0||s,"limit must be a positive integer or reference"),i.assert(!o||t.isEncoding(o),"Invalid encoding:",o),this._test(e,n,(function(t,i,a){var c=void 0;if(s){if(c=n(i.reference||i.parent,a),!Number.isSafeInteger(c))return this.createError("string.ref",{ref:n.key},i,a)}else c=n;return r(t,c,o)?t:this.createError("string."+e,{limit:c,value:t,encoding:o},i,a)}))}},p.String.prototype.min=p.compare("min",(function(e,r,n){return(n?t.byteLength(e,n):e.length)>=r})),p.String.prototype.max=p.compare("max",(function(e,r,n){return(n?t.byteLength(e,n):e.length)<=r})),p.String.prototype.length=p.compare("length",(function(e,r,n){return(n?t.byteLength(e,n):e.length)===r})),p.String.prototype.uuid=p.String.prototype.guid,e.exports=new p.String}).call(t,r(3).Buffer)},function(e,t,r){"use strict";var n=r(14),o={Ip:{cidrs:{ipv4:{required:"\\/(?:"+n.ipv4Cidr+")",optional:"(?:\\/(?:"+n.ipv4Cidr+"))?",forbidden:""},ipv6:{required:"\\/"+n.ipv6Cidr,optional:"(?:\\/"+n.ipv6Cidr+")?",forbidden:""},ipvfuture:{required:"\\/"+n.ipv6Cidr,optional:"(?:\\/"+n.ipv6Cidr+")?",forbidden:""}},versions:{ipv4:n.IPv4address,ipv6:n.IPv6address,ipvfuture:n.IPvFuture}}};o.Ip.createIpRegex=function(e,t){for(var r=void 0,n=0;n<e.length;++n){var i=e[n];r?r+="|"+o.Ip.versions[i]+o.Ip.cidrs[i][t]:r="^(?:"+o.Ip.versions[i]+o.Ip.cidrs[i][t]}return new RegExp(r+")$")},e.exports=o.Ip},function(e,t,r){"use strict";var n=r(14),o={Uri:{createUriRegex:function(e,t,r){var o=n.scheme,i=void 0;if(r)i="(?:"+n.relativeRef+")";else{e&&(o="(?:"+e+")");var s="(?:"+o+":"+n.hierPart+")";i=t?"(?:"+s+"|"+n.relativeRef+")":s}return new RegExp("^"+i+"(?:\\?"+n.query+")?(?:#"+n.fragment+")?$")}}};e.exports=o.Uri},function(e,t,r){"use strict";var n=r(0),o={};e.exports=o.Topo=function(){this._items=[],this.nodes=[]},o.Topo.prototype.add=function(e,t){var r=this,o=[].concat((t=t||{}).before||[]),i=[].concat(t.after||[]),s=t.group||"?",a=t.sort||0;n.assert(-1===o.indexOf(s),"Item cannot come before itself:",s),n.assert(-1===o.indexOf("?"),"Item cannot come before unassociated items"),n.assert(-1===i.indexOf(s),"Item cannot come after itself:",s),n.assert(-1===i.indexOf("?"),"Item cannot come after unassociated items"),[].concat(e).forEach((function(e,t){var n={seq:r._items.length,sort:a,before:o,after:i,group:s,node:e};r._items.push(n)}));var c=this._sort();return n.assert(!c,"item","?"!==s?"added into group "+s:"","created a dependencies error"),this.nodes},o.Topo.prototype.merge=function(e){e=[].concat(e);for(var t=0;t<e.length;++t){var r=e[t];if(r)for(var i=0;i<r._items.length;++i){var s=n.shallow(r._items[i]);this._items.push(s)}}this._items.sort(o.mergeSort);for(var a=0;a<this._items.length;++a)this._items[a].seq=a;var c=this._sort();return n.assert(!c,"merge created a dependencies error"),this.nodes},o.mergeSort=function(e,t){return e.sort===t.sort?0:e.sort<t.sort?-1:1},o.Topo.prototype._sort=function(){for(var e={},t=Object.create(null),r=Object.create(null),n=0;n<this._items.length;++n){var o=this._items[n],i=o.seq,s=o.group;r[s]=r[s]||[],r[s].push(i),e[i]=o.before;for(var a=o.after,c=0;c<a.length;++c)t[a[c]]=(t[a[c]]||[]).concat(i)}for(var l=Object.keys(e),u=0;u<l.length;++u){for(var f=l[u],p=[],h=Object.keys(e[f]),d=0;d<h.length;++d){var v=e[f][h[d]];r[v]=r[v]||[];for(var y=0;y<r[v].length;++y)p.push(r[v][y])}e[f]=p}for(var g=Object.keys(t),m=0;m<g.length;++m){var b=g[m];if(r[b])for(var w=0;w<r[b].length;++w){var x=r[b][w];e[x]=e[x].concat(t[b])}}var E=void 0,_={};l=Object.keys(e);for(var S=0;S<l.length;++S){var O=l[S];E=e[O];for(var j=0;j<E.length;++j)_[E[j]]=(_[E[j]]||[]).concat(O)}for(var A={},I=[],R=0;R<this._items.length;++R){var T=R;if(_[R]){T=null;for(var L=0;L<this._items.length;++L)if(!0!==A[L]){_[L]||(_[L]=[]);for(var k=_[L].length,N=0,C=0;C<k;++C)A[_[L][C]]&&++N;if(N===k){T=L;break}}}null!==T&&(A[T]=!0,I.push(T))}if(I.length!==this._items.length)return new Error("Invalid dependencies");for(var P={},D=0;D<this._items.length;++D){var M=this._items[D];P[M.seq]=M}var $=[];this._items=I.map((function(e){var t=P[e];return $.push(t.node),t})),this.nodes=$}},function(e,t,r){"use strict";var n=r(8);e.exports=n},function(e,t,r){"use strict";t.byteLength=function(e){return 3*e.length/4-c(e)},t.toByteArray=function(e){var t,r,n,s,a,l=e.length;s=c(e),a=new i(3*l/4-s),r=s>0?l-4:l;var u=0;for(t=0;t<r;t+=4)n=o[e.charCodeAt(t)]<<18|o[e.charCodeAt(t+1)]<<12|o[e.charCodeAt(t+2)]<<6|o[e.charCodeAt(t+3)],a[u++]=n>>16&255,a[u++]=n>>8&255,a[u++]=255&n;return 2===s?(n=o[e.charCodeAt(t)]<<2|o[e.charCodeAt(t+1)]>>4,a[u++]=255&n):1===s&&(n=o[e.charCodeAt(t)]<<10|o[e.charCodeAt(t+1)]<<4|o[e.charCodeAt(t+2)]>>2,a[u++]=n>>8&255,a[u++]=255&n),a},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i="",s=[],a=16383,c=0,u=r-o;c<u;c+=a)s.push(l(e,c,c+a>u?u:c+a));return 1===o?(t=e[r-1],i+=n[t>>2],i+=n[t<<4&63],i+="=="):2===o&&(t=(e[r-2]<<8)+e[r-1],i+=n[t>>10],i+=n[t>>4&63],i+=n[t<<2&63],i+="="),s.push(i),s.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=s[a],o[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function l(e,t,r){for(var o,i,s=[],a=t;a<r;a+=3)o=(e[a]<<16)+(e[a+1]<<8)+e[a+2],s.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,o){var i,s,a=8*o-n-1,c=(1<<a)-1,l=c>>1,u=-7,f=r?o-1:0,p=r?-1:1,h=e[t+f];for(f+=p,i=h&(1<<-u)-1,h>>=-u,u+=a;u>0;i=256*i+e[t+f],f+=p,u-=8);for(s=i&(1<<-u)-1,i>>=-u,u+=n;u>0;s=256*s+e[t+f],f+=p,u-=8);if(0===i)i=1-l;else{if(i===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),i-=l}return(h?-1:1)*s*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var s,a,c,l=8*i-o-1,u=(1<<l)-1,f=u>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,d=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+f>=1?p/c:p*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=u?(a=0,s=u):s+f>=1?(a=(t*c-1)*Math.pow(2,o),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;e[r+h]=255&a,h+=d,a/=256,o-=8);for(s=s<<o|a,l+=o;l>0;e[r+h]=255&s,h+=d,s/=256,l-=8);e[r+h-d]|=128*v}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t){e.exports={_args:[["joi@13.4.0","/Users/jeff/projects/joi-browser"]],_development:!0,_from:"joi@13.4.0",_id:"joi@13.4.0",_inBundle:!1,_integrity:"sha512-JuK4GjEu6j7zr9FuVe2MAseZ6si/8/HaY0qMAejfDFHp7jcH4OKE937mIHM5VT4xDS0q7lpQbszbxKV9rm0yUg==",_location:"/joi",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"joi@13.4.0",name:"joi",escapedName:"joi",rawSpec:"13.4.0",saveSpec:null,fetchSpec:"13.4.0"},_requiredBy:["#DEV:/"],_resolved:"https://registry.npmjs.org/joi/-/joi-13.4.0.tgz",_spec:"13.4.0",_where:"/Users/jeff/projects/joi-browser",bugs:{url:"https://github.com/hapijs/joi/issues"},dependencies:{hoek:"5.x.x",isemail:"3.x.x",topo:"3.x.x"},description:"Object schema validation",devDependencies:{code:"5.x.x",hapitoc:"1.x.x",lab:"15.x.x"},engines:{node:">=8.9.0"},homepage:"https://github.com/hapijs/joi",keywords:["hapi","schema","validation"],license:"BSD-3-Clause",main:"lib/index.js",name:"joi",repository:{type:"git",url:"git://github.com/hapijs/joi.git"},scripts:{test:"lab -t 100 -a code -L","test-cov-html":"lab -r html -o coverage.html -a code","test-debug":"lab -a code",toc:"hapitoc",version:"npm run toc && git add API.md README.md"},version:"13.4.0"}},function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return n.exec(e).slice(1)};function i(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,n="/"===s.charAt(0))}return(n?"/":"")+(t=r(i(t.split("/"),(function(e){return!!e})),!n).join("/"))||"."},t.normalize=function(e){var n=t.isAbsolute(e),o="/"===s(e,-1);return(e=r(i(e.split("/"),(function(e){return!!e})),!n).join("/"))||n||(e="."),e&&o&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var o=n(e.split("/")),i=n(r.split("/")),s=Math.min(o.length,i.length),a=s,c=0;c<s;c++)if(o[c]!==i[c]){a=c;break}var l=[];for(c=a;c<o.length;c++)l.push("..");return(l=l.concat(i.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},t.basename=function(e,t){var r=o(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){return o(e)[3]};var s=function(e,t,r){return e.substr(t,r)}}).call(t,r(7))},function(e,t,r){(function(e,n){var o;!function(i){"object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType;var s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var a,c=2147483647,l=36,u=26,f=38,p=700,h=/^xn--/,d=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=l-1,m=Math.floor,b=String.fromCharCode;function w(e){throw new RangeError(y[e])}function x(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function E(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+x((e=e.replace(v,".")).split("."),t).join(".")}function _(e){for(var t,r,n=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(r=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--):n.push(t);return n}function S(e){return x(e,(function(e){var t="";return e>65535&&(t+=b((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+b(e)})).join("")}function O(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function j(e,t,r){var n=0;for(e=r?m(e/p):e>>1,e+=m(e/t);e>g*u>>1;n+=l)e=m(e/g);return m(n+(g+1)*e/(e+f))}function A(e){var t,r,n,o,i,s,a,f,p,h,d,v=[],y=e.length,g=0,b=128,x=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&w("not-basic"),v.push(e.charCodeAt(n));for(o=r>0?r+1:0;o<y;){for(i=g,s=1,a=l;o>=y&&w("invalid-input"),((f=(d=e.charCodeAt(o++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:l)>=l||f>m((c-g)/s))&&w("overflow"),g+=f*s,!(f<(p=a<=x?1:a>=x+u?u:a-x));a+=l)s>m(c/(h=l-p))&&w("overflow"),s*=h;x=j(g-i,t=v.length+1,0==i),m(g/t)>c-b&&w("overflow"),b+=m(g/t),g%=t,v.splice(g++,0,b)}return S(v)}function I(e){var t,r,n,o,i,s,a,f,p,h,d,v,y,g,x,E=[];for(v=(e=_(e)).length,t=128,r=0,i=72,s=0;s<v;++s)(d=e[s])<128&&E.push(b(d));for(n=o=E.length,o&&E.push("-");n<v;){for(a=c,s=0;s<v;++s)(d=e[s])>=t&&d<a&&(a=d);for(a-t>m((c-r)/(y=n+1))&&w("overflow"),r+=(a-t)*y,t=a,s=0;s<v;++s)if((d=e[s])<t&&++r>c&&w("overflow"),d==t){for(f=r,p=l;!(f<(h=p<=i?1:p>=i+u?u:p-i));p+=l)x=f-h,g=l-h,E.push(b(O(h+x%g,0))),f=m(x/g);E.push(b(O(f,0))),i=j(r,y,n==o),r=0,++n}++r,++t}return E.join("")}a={version:"1.4.1",ucs2:{decode:_,encode:S},decode:A,encode:I,toASCII:function(e){return E(e,(function(e){return d.test(e)?"xn--"+I(e):e}))},toUnicode:function(e){return E(e,(function(e){return h.test(e)?A(e.slice(4).toLowerCase()):e}))}},void 0===(o=function(){return a}.call(t,r,t,e))||(e.exports=o)}()}).call(t,r(41)(e),r(5))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}])},e.exports=t()},72906:(e,t,r)=>{"use strict";const n=r(30501),o=r(43839),{extendContextLoader:i,strictDocumentLoader:s}=r(64828),{serializeError:a}=r(63726),c=r(99907);function l(e){Object.defineProperty(e,"toJSON",{value:function(){return a(this)},configurable:!0,writable:!0})}e.exports=class{async add(e,{suite:t,purpose:r,documentLoader:n,expansionMap:a}={}){if(!t)throw new TypeError('"options.suite" is required.');if(!r)throw new TypeError('"options.purpose" is required.');n=n?i(n):s,void 0===a?a=c:!1===a&&(a=void 0);const l={...e};delete l.proof;const u=await t.createProof({document:l,purpose:r,documentLoader:n,expansionMap:a});return o.addValue(e,"proof",u),e}async verify(e,{suite:t,purpose:r,documentLoader:a,expansionMap:u}={}){if(!t)throw new TypeError('"options.suite" is required.');if(!r)throw new TypeError('"options.purpose" is required.');const f=Array.isArray(t)?t:[t];if(0===f.length)throw new TypeError("At least one suite is required.");a=a?i(a):s,void 0===u?u=c:!1===u&&(u=void 0);try{e={...e};const{proofSet:t,document:i}=await async function({document:e}){let t;if(t=o.getValues(e,"proof"),delete e.proof,0===t.length)throw new Error("No matching proofs found in the given document.");const r=e["@context"]||n.SECURITY_CONTEXT_URL;return t=t.map((e=>({"@context":r,...e}))),{proofSet:t,document:e}}({document:e,documentLoader:a,expansionMap:u});e=i;const s=await async function({document:e,suites:t,proofSet:r,purpose:n,documentLoader:o,expansionMap:i}){const s=Array.isArray(n)?n:[n],a=new Map,c=new Map,u=new Map;if(await Promise.all(s.map((n=>async function({purposeToProofs:e,proofToSuite:t,purpose:r,proofSet:n,suites:o,suiteMatchQueue:i,document:s,documentLoader:a,expansionMap:c}){for(const l of n){if(!await r.match(l,{document:s,documentLoader:a,expansionMap:c}))continue;let n=!1;for(const e of o){let r=i.get(e);r||i.set(e,r=new Map);let o=r.get(l);if(o||(o=e.matchProof({proof:l,document:s,documentLoader:a,expansionMap:c}),r.set(l,o)),await o){n=!0,t.set(l,e);break}}if(n){const t=e.get(r);t?t.push(l):e.set(r,[l])}}}({purposeToProofs:a,proofToSuite:c,purpose:n,proofSet:r,suites:t,suiteMatchQueue:u,document:e,documentLoader:o,expansionMap:i})))),a.size<s.length)return[];const f=new Map;return await Promise.all([...c.entries()].map((async([t,r])=>{let n;try{let s;const a={validate:async(e,{verificationMethod:t})=>(s=t,{valid:!0})},{verified:c,verificationMethod:l,error:u}=await r.verifyProof({proof:t,document:e,purpose:a,documentLoader:o,expansionMap:i});s||(s=l),n={proof:t,verified:c,verificationMethod:s,error:u}}catch(e){n={proof:t,verified:!1,error:e}}n.error&&l(n.error),f.set(t,n)}))),await Promise.all([...a.entries()].map((async([t,r])=>{for(const n of r){const r=f.get(n);if(!r.verified)continue;const{verificationMethod:s}=r,a=c.get(n);let u;try{u=await t.validate(n,{document:e,suite:a,verificationMethod:s,documentLoader:o,expansionMap:i})}catch(e){u={valid:!1,error:e}}r.purposeResult?Array.isArray(r.purposeResult)?r.purposeResult.push(u):r.purposeResult=[r.purposeResult,u]:r.purposeResult=u,u.valid||(l(u.error),r.error||(r.verified=!1,r.error=u.error))}}))),[...f.values()]}({document:e,suites:f,proofSet:t,purpose:r,documentLoader:a,expansionMap:u});if(0===s.length){const e=new Error("Did not verify any proofs; insufficient proofs matched the acceptable suite(s) and required purpose(s).");throw e.name="NotFoundError",e}const c=s.some((e=>e.verified));if(!c){const e=[].concat(...s.filter((e=>e.error)).map((e=>e.error))),t={verified:c,results:s};return e.length>0&&(t.error=e),t}return{verified:c,results:s}}catch(e){return l(e),{verified:!1,error:e}}}}},4115:e=>{"use strict";class t extends Error{constructor(e){super("Verification error(s)."),this.name="VerificationError",this.errors=[].concat(e)}}e.exports=t},30501:(e,t,r)=>{"use strict";const{constants:n}=r(12241);e.exports={SECURITY_CONTEXT_URL:n.SECURITY_CONTEXT_V2_URL,SECURITY_CONTEXT_V1_URL:n.SECURITY_CONTEXT_V1_URL,SECURITY_CONTEXT_V2_URL:n.SECURITY_CONTEXT_V2_URL,SECURITY_PROOF_URL:"https://w3id.org/security#proof",SECURITY_SIGNATURE_URL:"https://w3id.org/security#signature"}},90950:(e,t,r)=>{"use strict";const n=r(30501),{contexts:o}=r(12241);e.exports=new Map([[n.SECURITY_CONTEXT_V1_URL,o.get(n.SECURITY_CONTEXT_V1_URL)],[n.SECURITY_CONTEXT_V2_URL,o.get(n.SECURITY_CONTEXT_V2_URL)]])},64828:(e,t,r)=>{"use strict";const n=r(90950),o={};e.exports=o,o.extendContextLoader=e=>async t=>{const r=n.get(t);return void 0!==r?{contextUrl:null,documentUrl:t,document:r,tag:"static"}:e(t)},o.strictDocumentLoader=o.extendContextLoader((e=>{throw new Error(`${e} not found.`)}))},99907:e=>{"use strict";e.exports=e=>{if(e.unmappedProperty)throw new Error('The property "'+e.unmappedProperty+'" in the input was not defined in the context.')}},98756:(e,t,r)=>{"use strict";const n={};e.exports=n;const o=r(30501);Object.assign(n,o);const i=r(72906),s=r(4115);n.sign=async function(e,{suite:t,purpose:r,documentLoader:n,expansionMap:o,addSuiteContext:s=!0}={}){if("object"!=typeof e)throw new TypeError('The "document" parameter must be an object.');t.ensureSuiteContext({document:e,addSuiteContext:s});try{return await(new i).add(e,{suite:t,purpose:r,documentLoader:n,expansionMap:o})}catch(e){if(!n&&"jsonld.InvalidUrl"===e.name){const{details:{url:t}}=e,r=new Error(`A URL "${t}" could not be fetched; you need to pass "documentLoader" or resolve the URL before calling "sign".`);throw r.cause=e,r}throw e}},n.verify=async function(e,{suite:t,purpose:r,documentLoader:n,expansionMap:o}={}){if("object"!=typeof e)throw new TypeError('The "document" parameter must be an object.');const a=await(new i).verify(e,{suite:t,purpose:r,documentLoader:n,expansionMap:o}),{error:c}=a;if(c)if(n||"jsonld.InvalidUrl"!==c.name)a.error=new s(c);else{const{details:{url:e}}=c,t=new Error(`A URL "${e}" could not be fetched; you need to pass "documentLoader" or resolve the URL before calling "verify".`);a.error=new s(t)}return a},n.suites=r(46972).suites,n.purposes=r(99590).purposes,Object.assign(n,r(64828))},99590:(e,t,r)=>{"use strict";const n={};e.exports=n,n.purposes={AssertionProofPurpose:r(84532),AuthenticationProofPurpose:r(99143),ControllerProofPurpose:r(68e3),ProofPurpose:r(42139)}},84532:(e,t,r)=>{"use strict";const n=r(68e3);e.exports=class extends n{constructor({term:e="assertionMethod",controller:t,date:r,maxTimestampDelta:n=1/0}={}){super({term:e,controller:t,date:r,maxTimestampDelta:n})}}},99143:(e,t,r)=>{"use strict";const n=r(68e3);e.exports=class extends n{constructor({term:e="authentication",controller:t,challenge:r,date:n,domain:o,maxTimestampDelta:i=1/0}={}){if(super({term:e,controller:t,date:n,maxTimestampDelta:i}),"string"!=typeof r)throw new TypeError('"challenge" must be a string.');if(void 0!==o&&"string"!=typeof o)throw new TypeError('"domain" must be a string.');this.challenge=r,this.domain=o}async validate(e,{verificationMethod:t,documentLoader:r,expansionMap:n}){try{if(e.challenge!==this.challenge)throw new Error(`The challenge is not as expected; challenge="${e.challenge}", expected="${this.challenge}"`);if(void 0!==this.domain&&e.domain!==this.domain)throw new Error(`The domain is not as expected; domain="${e.domain}", expected="${this.domain}"`);return super.validate(e,{verificationMethod:t,documentLoader:r,expansionMap:n})}catch(e){return{valid:!1,error:e}}}async update(e,{document:t,suite:r,documentLoader:n,expansionMap:o}){return(e=await super.update(e,{document:t,suite:r,documentLoader:n,expansionMap:o})).challenge=this.challenge,void 0!==this.domain&&(e.domain=this.domain),e}}},68e3:(e,t,r)=>{"use strict";const n=r(30501),o=r(43839),i=r(42139),s="https://www.w3.org/ns/did/v1",a=["assertionMethod","authentication","capabilityInvocation","capabilityDelegation","keyAgreement","verificationMethod"];e.exports=class extends i{constructor({term:e,controller:t,date:r,maxTimestampDelta:n=1/0}={}){if(super({term:e,date:r,maxTimestampDelta:n}),void 0!==t){if("object"!=typeof t)throw new TypeError('"controller" must be an object.');this.controller=t}this._termDefinedByDIDContext=a.includes(e)}async validate(e,{verificationMethod:t,documentLoader:r,expansionMap:i}){try{const a=await super.validate(e,{verificationMethod:t,documentLoader:r,expansionMap:i});if(!a.valid)throw a.error;const{id:c}=t,{term:l,_termDefinedByDIDContext:u}=this;if(this.controller)a.controller=this.controller;else{const{controller:e}=t;let i;if(e)if("object"==typeof e)i=e.id;else{if("string"!=typeof e)throw new TypeError('"controller" must be a string representing a URL.');i=e}let{document:f}=await r(i);!(u&&f["@context"]===s||Array.isArray(f["@context"])&&f["@context"][0]===s)&&(f=await o.frame(f,{"@context":n.SECURITY_CONTEXT_URL,id:i,[l]:{"@embed":"@never",id:c}},{documentLoader:r,compactToRelative:!1})),a.controller=f}const f=o.getValues(a.controller,l);if(a.valid=f.some((e=>e===c||"object"==typeof e&&e.id===c)),!a.valid)throw new Error(`Verification method "${t.id}" not authorized by controller for proof purpose "${this.term}".`);return a}catch(e){return{valid:!1,error:e}}}}},42139:e=>{"use strict";e.exports=class{constructor({term:e,date:t,maxTimestampDelta:r=1/0}={}){if(void 0===e)throw new Error('"term" is required.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxTimestampDelta" must be a number.');if(this.term=e,void 0!==t&&(this.date=new Date(t),isNaN(this.date)))throw TypeError(`"date" "${t}" is not a valid date.`);this.maxTimestampDelta=r}async validate(e,{}){try{if(this.maxTimestampDelta!==1/0){const t=(this.date||new Date).getTime(),r=1e3*this.maxTimestampDelta,n=new Date(e.created).getTime();if(!(n>=t-r&&n<=t+r))throw new Error("The proof's created timestamp is out of range.")}return{valid:!0}}catch(e){return{valid:!1,error:e}}}async update(e,{}){return e.proofPurpose=this.term,e}async match(e,{}){return e.proofPurpose===this.term}}},2957:e=>{"use strict";const t=self&&(self.crypto||self.msCrypto);e.exports={async sha256digest({string:e}){const r=(new TextEncoder).encode(e);return new Uint8Array(await t.subtle.digest("SHA-256",r))}}},46972:(e,t,r)=>{"use strict";const n={};e.exports=n,n.suites={LinkedDataProof:r(40024),LinkedDataSignature:r(84555)}},40024:e=>{"use strict";e.exports=class{constructor({type:e}={}){if("string"!=typeof e)throw new TypeError('A LinkedDataProof must have a "type".');this.type=e}async createProof({}){throw new Error('"createProof" must be implemented in a derived class.')}async verifyProof({}){throw new Error('"verifyProof" must be implemented in a derived class.')}async matchProof({proof:e}){return e.type===this.type}}},84555:(e,t,r)=>{"use strict";const n=r(30501),o=r(43839),i=r(29499),{sha256digest:s}=r(2957),a=r(40024);e.exports=class extends a{constructor({type:e,proof:t,LDKeyClass:r,date:n,key:o,signer:i,verifier:s,useNativeCanonize:a,contextUrl:c}={}){super({type:e}),this.LDKeyClass=r,this.contextUrl=c,this.proof=t;const l=function({key:e,signer:t,verifier:r}){const n={};if(e){if(n.key=e,n.verificationMethod=e.id,"function"==typeof e.signer&&(n.signer=e.signer()),"function"==typeof e.verifier&&(n.verifier=e.verifier()),!n.signer&&!n.verifier)throw new TypeError('The "key" parameter must contain a "signer" or "verifier" method.')}else n.verificationMethod=t&&t.id||r&&r.id,n.signer=t,n.verifier=r;if(n.signer&&"function"!=typeof n.signer.sign)throw new TypeError("A signer API has not been specified.");if(n.verifier&&"function"!=typeof n.verifier.verify)throw new TypeError("A verifier API has not been specified.");return n}({key:o,signer:i,verifier:s});if(this.verificationMethod=l.verificationMethod,this.key=l.key,this.signer=l.signer,this.verifier=l.verifier,n&&(this.date=new Date(n),isNaN(this.date)))throw TypeError(`"date" "${n}" is not a valid date.`);this.useNativeCanonize=a,this._hashCache=null}async createProof({document:e,purpose:t,documentLoader:r,expansionMap:n}){let o;o=this.proof?{...this.proof}:{},o.type=this.type;let s=this.date;void 0===o.created&&void 0===s&&(s=new Date),s&&"string"!=typeof s&&(s=i.w3cDate(s)),s&&(o.created=s),o.verificationMethod=this.verificationMethod,o=await this.updateProof({document:e,proof:o,purpose:t,documentLoader:r,expansionMap:n}),o=await t.update(o,{document:e,suite:this,documentLoader:r,expansionMap:n});const a=await this.createVerifyData({document:e,proof:o,documentLoader:r,expansionMap:n});return o=await this.sign({verifyData:a,document:e,proof:o,documentLoader:r,expansionMap:n}),o}async updateProof({proof:e}){return e}async verifyProof({proof:e,document:t,documentLoader:r,expansionMap:n}){try{const o=await this.createVerifyData({document:t,proof:e,documentLoader:r,expansionMap:n}),i=await this.getVerificationMethod({proof:e,document:t,documentLoader:r,expansionMap:n});if(!await this.verifySignature({verifyData:o,verificationMethod:i,document:t,proof:e,documentLoader:r,expansionMap:n}))throw new Error("Invalid signature.");return{verified:!0,verificationMethod:i}}catch(e){return{verified:!1,error:e}}}async canonize(e,{documentLoader:t,expansionMap:r,skipExpansion:n}){return o.canonize(e,{algorithm:"URDNA2015",format:"application/n-quads",documentLoader:t,expansionMap:r,skipExpansion:n,useNative:this.useNativeCanonize})}async canonizeProof(e,{document:t,documentLoader:r,expansionMap:o}){return delete(e={"@context":t["@context"]||n.SECURITY_CONTEXT_URL,...e}).jws,delete e.signatureValue,delete e.proofValue,this.canonize(e,{documentLoader:r,expansionMap:o,skipExpansion:!1})}async createVerifyData({document:e,proof:t,documentLoader:r,expansionMap:n}){let o;const{_hashCache:a}=this;a&&a.document===e?o=a.hash:this._hashCache={document:e,hash:o=this.canonize(e,{documentLoader:r,expansionMap:n}).then((e=>s({string:e})))};const[c,l]=await Promise.all([this.canonizeProof(t,{document:e,documentLoader:r,expansionMap:n}).then((e=>s({string:e}))),o]);return i.concat(c,l)}async getVerificationMethod({proof:e,documentLoader:t}){let{verificationMethod:r}=e;if("object"==typeof r&&(r=r.id),!r)throw new Error('No "verificationMethod" found in proof.');const i=await o.frame(r,{"@context":n.SECURITY_CONTEXT_URL,"@embed":"@always",id:r},{documentLoader:t,compactToRelative:!1});if(!i)throw new Error(`Verification method ${r} not found.`);if(void 0!==i.revoked)throw new Error("The verification method has been revoked.");return i}async sign(){throw new Error("Must be implemented by a derived class.")}async verifySignature(){throw new Error("Must be implemented by a derived class.")}ensureSuiteContext({document:e,addSuiteContext:t}){const{contextUrl:r}=this;if(function({document:e,contextUrl:t}){const r=e["@context"];return r===t||Array.isArray(r)&&r.includes(t)}({document:e,contextUrl:r}))return;if(!t)throw new TypeError(`The document to be signed must contain this suite's @context, "${r}".`);const n=e["@context"]||[];e["@context"]=Array.isArray(n)?[...n,r]:[n,r]}}},29499:e=>{"use strict";const t={};e.exports=t,t.w3cDate=e=>{null==e?e=new Date:"number"!=typeof e&&"string"!=typeof e||(e=new Date(e));const t=e.toISOString();return t.substr(0,t.length-5)+"Z"},t.concat=(e,t)=>{const r=new Uint8Array(e.length+t.length);return r.set(e,0),r.set(t,e.length),r}},91965:(e,t,r)=>{"use strict";const{isArray:n,isObject:o,isString:i}=r(62100),{asArray:s}=r(26984),{prependBase:a}=r(5994),c=r(39033),l=r(12921);function u(e){throw new c("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function f({context:e,base:t}){if(!e)return;const r=e["@context"];if(i(r))e["@context"]=a(t,r);else if(n(r))for(let e=0;e<r.length;++e){const n=r[e];i(n)?r[e]=a(t,n):o(n)&&f({context:{"@context":n},base:t})}else if(o(r))for(const e in r)f({context:r[e],base:t})}e.exports=class{constructor({sharedCache:e}){this.perOpCache=new Map,this.sharedCache=e}async resolve({activeCtx:e,context:t,documentLoader:r,base:a,cycles:c=new Set}){t&&o(t)&&t["@context"]&&(t=t["@context"]),t=s(t);const f=[];for(const s of t){if(i(s)){let t=this._get(s);t||(t=await this._resolveRemoteContext({activeCtx:e,url:s,documentLoader:r,base:a,cycles:c})),n(t)?f.push(...t):f.push(t);continue}if(null===s){f.push(new l({document:null}));continue}o(s)||u(t);const p=JSON.stringify(s);let h=this._get(p);h||(h=new l({document:s}),this._cacheResolvedContext({key:p,resolved:h,tag:"static"})),f.push(h)}return f}_get(e){let t=this.perOpCache.get(e);if(!t){const r=this.sharedCache.get(e);r&&(t=r.get("static"),t&&this.perOpCache.set(e,t))}return t}_cacheResolvedContext({key:e,resolved:t,tag:r}){if(this.perOpCache.set(e,t),void 0!==r){let n=this.sharedCache.get(e);n||(n=new Map,this.sharedCache.set(e,n)),n.set(r,t)}return t}async _resolveRemoteContext({activeCtx:e,url:t,documentLoader:r,base:n,cycles:o}){t=a(n,t);const{context:i,remoteDoc:s}=await this._fetchContext({activeCtx:e,url:t,documentLoader:r,cycles:o});f({context:i,base:n=s.documentUrl||t});const c=await this.resolve({activeCtx:e,context:i,documentLoader:r,base:n,cycles:o});return this._cacheResolvedContext({key:t,resolved:c,tag:s.tag}),c}async _fetchContext({activeCtx:e,url:t,documentLoader:r,cycles:s}){if(s.size>10)throw new c("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"loading remote context failed":"context overflow",max:10});if(s.has(t))throw new c("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"recursive context inclusion":"context overflow",url:t});let a,l;s.add(t);try{l=await r(t),a=l.document||null,i(a)&&(a=JSON.parse(a))}catch(e){throw new c("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:t,cause:e})}if(!o(a))throw new c("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:t});return a="@context"in a?{"@context":a["@context"]}:{"@context":{}},l.contextUrl&&(n(a["@context"])||(a["@context"]=[a["@context"]]),a["@context"].push(l.contextUrl)),{context:a,remoteDoc:l}}}},39033:e=>{"use strict";e.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",r={}){super(e),this.name=t,this.message=e,this.details=r}}},7292:e=>{"use strict";e.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,r)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},84658:(e,t,r)=>{"use strict";e.exports=r(168).NQuads},18320:e=>{"use strict";e.exports=class{constructor(){this._requests={}}wrapLoader(e){const t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t)return Promise.resolve(t);t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}}},12921:(e,t,r)=>{"use strict";const n=r(1220);e.exports=class{constructor({document:e}){this.document=e,this.cache=new n({max:10})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}}},42948:(e,t,r)=>{"use strict";const n=r(39033),{isArray:o,isObject:i,isString:s,isUndefined:a}=r(62100),{isList:c,isValue:l,isGraph:u,isSimpleGraph:f,isSubjectReference:p}=r(47066),{expandIri:h,getContextValue:d,isKeyword:v,process:y,processingMode:g}=r(64659),{removeBase:m,prependBase:b}=r(5994),{addValue:w,asArray:x,compareShortestLeast:E}=r(26984),_={};function S(e,t,r){if("@nest"!==h(e,t,{vocab:!0},r))throw new n("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=_,_.compact=async({activeCtx:e,activeProperty:t=null,element:r,options:h={},compactionMap:m=(()=>{})})=>{if(o(r)){let n=[];for(let o=0;o<r.length;++o){let i=await _.compact({activeCtx:e,activeProperty:t,element:r[o],options:h,compactionMap:m});null===i&&(i=await m({unmappedValue:r[o],activeCtx:e,activeProperty:t,parent:r,index:o,options:h}),void 0===i)||n.push(i)}return h.compactArrays&&1===n.length&&0===(d(e,t,"@container")||[]).length&&(n=n[0]),n}const b=d(e,t,"@context");if(a(b)||(e=await y({activeCtx:e,localCtx:b,propagate:!0,overrideProtected:!0,options:h})),i(r)){if(h.link&&"@id"in r&&h.link.hasOwnProperty(r["@id"])){const e=h.link[r["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===r)return e[t].compacted}if(l(r)||p(r)){const n=_.compactValue({activeCtx:e,activeProperty:t,value:r,options:h});return h.link&&p(r)&&(h.link.hasOwnProperty(r["@id"])||(h.link[r["@id"]]=[]),h.link[r["@id"]].push({expanded:r,compacted:n})),n}if(c(r)&&(d(e,t,"@container")||[]).includes("@list"))return _.compact({activeCtx:e,activeProperty:t,element:r["@list"],options:h,compactionMap:m});const b="@reverse"===t,E={},O=e;l(r)||p(r)||(e=e.revertToPreviousContext());const j=d(O,t,"@context");a(j)||(e=await y({activeCtx:e,localCtx:j,propagate:!0,overrideProtected:!0,options:h})),h.link&&"@id"in r&&(h.link.hasOwnProperty(r["@id"])||(h.link[r["@id"]]=[]),h.link[r["@id"]].push({expanded:r,compacted:E}));let A=r["@type"]||[];A.length>1&&(A=Array.from(A).sort());const I=e;for(const t of A){const r=_.compactIri({activeCtx:I,iri:t,relativeTo:{vocab:!0}}),n=d(O,r,"@context");a(n)||(e=await y({activeCtx:e,localCtx:n,options:h,propagate:!1}))}const R=Object.keys(r).sort();for(const a of R){const p=r[a];if("@id"!==a)if("@type"!==a)if("@reverse"!==a)if("@preserve"!==a)if("@index"!==a)if("@graph"!==a&&"@list"!==a&&"@included"!==a&&v(a)){const t=_.compactIri({activeCtx:e,iri:a,relativeTo:{vocab:!0}});w(E,t,p)}else{if(!o(p))throw new n("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===p.length){const t=_.compactIri({activeCtx:e,iri:a,value:p,relativeTo:{vocab:!0},reverse:b}),r=e.mappings.has(t)?e.mappings.get(t)["@nest"]:null;let n=E;r&&(S(e,r,h),i(E[r])||(E[r]={}),n=E[r]),w(n,t,p,{propertyIsArray:!0})}for(const t of p){const r=_.compactIri({activeCtx:e,iri:a,value:t,relativeTo:{vocab:!0},reverse:b}),n=e.mappings.has(r)?e.mappings.get(r)["@nest"]:null;let p=E;n&&(S(e,n,h),i(E[n])||(E[n]={}),p=E[n]);const v=d(e,r,"@container")||[],y=u(t),g=c(t);let O;g?O=t["@list"]:y&&(O=t["@graph"]);let j=await _.compact({activeCtx:e,activeProperty:r,element:g||y?O:t,options:h,compactionMap:m});if(g){if(o(j)||(j=[j]),v.includes("@list")){w(p,r,j,{valueIsArray:!0,allowDuplicate:!0});continue}j={[_.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:j},"@index"in t&&(j[_.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])}if(y)if(v.includes("@graph")&&(v.includes("@id")||v.includes("@index")&&f(t))){let n;p.hasOwnProperty(r)?n=p[r]:p[r]=n={};const o=(v.includes("@id")?t["@id"]:t["@index"])||_.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});w(n,o,j,{propertyIsArray:!h.compactArrays||v.includes("@set")})}else v.includes("@graph")&&f(t)?(o(j)&&j.length>1&&(j={"@included":j}),w(p,r,j,{propertyIsArray:!h.compactArrays||v.includes("@set")})):(o(j)&&1===j.length&&h.compactArrays&&(j=j[0]),j={[_.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:j},"@id"in t&&(j[_.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(j[_.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]),w(p,r,j,{propertyIsArray:!h.compactArrays||v.includes("@set")}));else if(v.includes("@language")||v.includes("@index")||v.includes("@id")||v.includes("@type")){let n,o;if(p.hasOwnProperty(r)?n=p[r]:p[r]=n={},v.includes("@language"))l(j)&&(j=j["@value"]),o=t["@language"];else if(v.includes("@index")){const n=d(e,r,"@index")||"@index",i=_.compactIri({activeCtx:e,iri:n,relativeTo:{vocab:!0}});if("@index"===n)o=t["@index"],delete j[i];else{let e;if([o,...e]=x(j[n]||[]),s(o))switch(e.length){case 0:delete j[n];break;case 1:j[n]=e[0];break;default:j[n]=e}else o=null}}else if(v.includes("@id")){const t=_.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});o=j[t],delete j[t]}else if(v.includes("@type")){const n=_.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let i;switch([o,...i]=x(j[n]||[]),i.length){case 0:delete j[n];break;case 1:j[n]=i[0];break;default:j[n]=i}1===Object.keys(j).length&&"@id"in t&&(j=await _.compact({activeCtx:e,activeProperty:r,element:{"@id":t["@id"]},options:h,compactionMap:m}))}o||(o=_.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),w(n,o,j,{propertyIsArray:v.includes("@set")})}else{const e=!h.compactArrays||v.includes("@set")||v.includes("@list")||o(j)&&0===j.length||"@list"===a||"@graph"===a;w(p,r,j,{propertyIsArray:e})}}}else{if((d(e,t,"@container")||[]).includes("@index"))continue;const r=_.compactIri({activeCtx:e,iri:a,relativeTo:{vocab:!0}});w(E,r,p)}else{const r=await _.compact({activeCtx:e,activeProperty:t,element:p,options:h,compactionMap:m});o(r)&&0===r.length||w(E,a,r)}else{const t=await _.compact({activeCtx:e,activeProperty:"@reverse",element:p,options:h,compactionMap:m});for(const r in t)if(e.mappings.has(r)&&e.mappings.get(r).reverse){const n=t[r],o=(d(e,r,"@container")||[]).includes("@set")||!h.compactArrays;w(E,r,n,{propertyIsArray:o}),delete t[r]}if(Object.keys(t).length>0){const r=_.compactIri({activeCtx:e,iri:a,relativeTo:{vocab:!0}});w(E,r,t)}}else{let t=x(p).map((e=>_.compactIri({activeCtx:O,iri:e,relativeTo:{vocab:!0}})));1===t.length&&(t=t[0]);const r=_.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),n=(d(e,r,"@container")||[]).includes("@set")&&g(e,1.1)||o(t)&&0===p.length;w(E,r,t,{propertyIsArray:n})}else{let t=x(p).map((t=>_.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:!1},base:h.base})));1===t.length&&(t=t[0]),E[_.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t}}return E}return r},_.compactIri=({activeCtx:e,iri:t,value:r=null,relativeTo:o={vocab:!1},reverse:s=!1,base:a=null})=>{if(null===t)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const f=e.getInverse();if(v(t)&&t in f&&"@none"in f[t]&&"@type"in f[t]["@none"]&&"@none"in f[t]["@none"]["@type"])return f[t]["@none"]["@type"]["@none"];if(o.vocab&&t in f){const n=e["@language"]||"@none",o=[];i(r)&&"@index"in r&&!("@graph"in r)&&o.push("@index","@index@set"),i(r)&&"@preserve"in r&&(r=r["@preserve"][0]),u(r)?("@index"in r&&o.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&o.push("@graph@id","@graph@id@set"),o.push("@graph","@graph@set","@set"),"@index"in r||o.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||o.push("@graph@id","@graph@id@set")):i(r)&&!l(r)&&o.push("@id","@id@set","@type","@set@type");let a="@language",f="@null";if(s)a="@type",f="@reverse",o.push("@set");else if(c(r)){"@index"in r||o.push("@list");const e=r["@list"];if(0===e.length)a="@any",f="@none";else{let t=0===e.length?n:null,r=null;for(let n=0;n<e.length;++n){const o=e[n];let i="@none",s="@none";if(l(o)?"@direction"in o?i=`${(o["@language"]||"").toLowerCase()}_${o["@direction"]}`:"@language"in o?i=o["@language"].toLowerCase():"@type"in o?s=o["@type"]:i="@null":s="@id",null===t?t=i:i!==t&&l(o)&&(t="@none"),null===r?r=s:s!==r&&(r="@none"),"@none"===t&&"@none"===r)break}t=t||"@none",r=r||"@none","@none"!==r?(a="@type",f=r):f=t}}else{if(l(r))if("@language"in r&&!("@index"in r)){o.push("@language","@language@set"),f=r["@language"];const e=r["@direction"];e&&(f=`${f}_${e}`)}else"@direction"in r&&!("@index"in r)?f=`_${r["@direction"]}`:"@type"in r&&(a="@type",f=r["@type"]);else a="@type",f="@id";o.push("@set")}o.push("@none"),i(r)&&!("@index"in r)&&o.push("@index","@index@set"),l(r)&&1===Object.keys(r).length&&o.push("@language","@language@set");const p=function(e,t,r,n,o,s){null===s&&(s="@null");const a=[];if(("@id"===s||"@reverse"===s)&&i(r)&&"@id"in r){"@reverse"===s&&a.push("@reverse");const t=_.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===r["@id"]?a.push.apply(a,["@vocab","@id"]):a.push.apply(a,["@id","@vocab"])}else{a.push(s);const e=a.find((e=>e.includes("_")));e&&a.push(e.replace(/^[^_]+_/,"_"))}a.push("@none");const c=e.inverse[t];for(const e of n){if(!(e in c))continue;const t=c[e][o];for(const e of a)if(e in t)return t[e]}return null}(e,t,r,o,a,f);if(null!==p)return p}if(o.vocab&&"@vocab"in e){const r=e["@vocab"];if(0===t.indexOf(r)&&t!==r){const n=t.substr(r.length);if(!e.mappings.has(n))return n}}let p=null;const h=[];let d=e.fastCurieMap;const y=t.length-1;for(let e=0;e<y&&t[e]in d;++e)d=d[t[e]],""in d&&h.push(d[""][0]);for(let n=h.length-1;n>=0;--n){const o=h[n],i=o.terms;for(const n of i){const i=n+":"+t.substr(o.iri.length);e.mappings.get(n)._prefix&&(!e.mappings.has(i)||null===r&&e.mappings.get(i)["@id"]===t)&&(null===p||E(i,p)<0)&&(p=i)}}if(null!==p)return p;for(const[r,o]of e.mappings)if(o&&o._prefix&&t.startsWith(r+":"))throw new n(`Absolute IRI "${t}" confused with prefix "${r}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});return o.vocab?t:"@base"in e?e["@base"]?m(b(a,e["@base"]),t):t:m(a,t)},_.compactValue=({activeCtx:e,activeProperty:t,value:r,options:n})=>{if(l(r)){const n=d(e,t,"@type"),o=d(e,t,"@language"),i=d(e,t,"@direction"),a=d(e,t,"@container")||[],c="@index"in r&&!a.includes("@index");if(!c&&"@none"!==n){if(r["@type"]===n)return r["@value"];if("@language"in r&&r["@language"]===o&&"@direction"in r&&r["@direction"]===i)return r["@value"];if("@language"in r&&r["@language"]===o)return r["@value"];if("@direction"in r&&r["@direction"]===i)return r["@value"]}const l=Object.keys(r).length,u=1===l||2===l&&"@index"in r&&!c,f="@language"in e,p=s(r["@value"]),h=e.mappings.has(t)&&null===e.mappings.get(t)["@language"];if(u&&"@none"!==n&&(!f||!p||h))return r["@value"];const v={};return c&&(v[_.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?v[_.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=_.compactIri({activeCtx:e,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(v[_.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),"@direction"in r&&(v[_.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=r["@direction"]),v[_.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],v}const o=h(e,t,{vocab:!0},n),i=d(e,t,"@type"),a=_.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:"@vocab"===i},base:n.base});return"@id"===i||"@vocab"===i||"@graph"===o?a:{[_.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:a}}},87364:e=>{"use strict";const t="http://www.w3.org/1999/02/22-rdf-syntax-ns#",r="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:t,RDF_LIST:t+"List",RDF_FIRST:t+"first",RDF_REST:t+"rest",RDF_NIL:t+"nil",RDF_TYPE:t+"type",RDF_PLAIN_LITERAL:t+"PlainLiteral",RDF_XML_LITERAL:t+"XMLLiteral",RDF_JSON_LITERAL:t+"JSON",RDF_OBJECT:t+"object",RDF_LANGSTRING:t+"langString",XSD:r,XSD_BOOLEAN:r+"boolean",XSD_DOUBLE:r+"double",XSD_INTEGER:r+"integer",XSD_STRING:r+"string"}},64659:(e,t,r)=>{"use strict";const n=r(26984),o=r(39033),{isArray:i,isObject:s,isString:a,isUndefined:c}=r(62100),{isAbsolute:l,isRelative:u,prependBase:f}=r(5994),{asArray:p,compareShortestLeast:h}=r(26984),d=new Map,v=/^@[a-zA-Z]+$/,y={};function g(e,t,r,n,o,i){if(null===t||!a(t)||y.isKeyword(t))return t;if(t.match(v))return null;if(n&&n.hasOwnProperty(t)&&!0!==o.get(t)&&y.createTermDefinition({activeCtx:e,localCtx:n,term:t,defined:o,options:i}),(r=r||{}).vocab){const r=e.mappings.get(t);if(null===r)return null;if(s(r)&&"@id"in r)return r["@id"]}const c=t.indexOf(":");if(c>0){const r=t.substr(0,c),s=t.substr(c+1);if("_"===r||0===s.indexOf("//"))return t;n&&n.hasOwnProperty(r)&&y.createTermDefinition({activeCtx:e,localCtx:n,term:r,defined:o,options:i});const a=e.mappings.get(r);if(a&&a._prefix)return a["@id"]+s;if(l(t))return t}if(r.vocab&&"@vocab"in e)return e["@vocab"]+t;if(r.base&&"@base"in e){if(e["@base"])return f(f(i.base,e["@base"]),t)}else if(r.base)return f(i.base,t);return t}function m(e,t){if(!e||"object"!=typeof e||!t||"object"!=typeof t)return e===t;const r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!m(e[r],t[r]))return!1;return!0}const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(const r in e){let n=e[r],o=t[r];if("@container"===r&&Array.isArray(n)&&Array.isArray(o)&&(n=n.slice().sort(),o=o.slice().sort()),!m(n,o))return!1}return!0}e.exports=y,y.process=async({activeCtx:e,localCtx:t,options:r,propagate:c=!0,overrideProtected:h=!1,cycles:d=new Set})=>{if(s(t)&&"@context"in t&&i(t["@context"])&&(t=t["@context"]),0===p(t).length)return e;const v=await r.contextResolver.resolve({activeCtx:e,context:t,documentLoader:r.documentLoader,base:r.base});s(v[0].document)&&"boolean"==typeof v[0].document["@propagate"]&&(c=v[0].document["@propagate"]);let m=e;c||m.previousContext||(m=m.clone(),m.previousContext=e);for(const i of v){let{document:c}=i;if(e=m,null===c){if(!h&&0!==Object.keys(e.protected).length){const s=r&&r.protectedMode||"error";if("error"===s)throw new o("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===s){console.warn("WARNING: invalid context nullification");const t=i.getProcessed(e);if(t){m=e=t;continue}const o=e;m=e=y.getInitialContext(r).clone();for(const[t,r]of Object.entries(o.protected))r&&(e.mappings[t]=n.clone(o.mappings[t]));e.protected=n.clone(o.protected),i.setProcessed(o,m);continue}throw new o("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,protectedMode:s})}m=e=y.getInitialContext(r).clone();continue}const p=i.getProcessed(e);if(p){m=e=p;continue}if(s(c)&&"@context"in c&&(c=c["@context"]),!s(c))throw new o("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:c});m=m.clone();const v=new Map;if("@version"in c){if(1.1!==c["@version"])throw new o("Unsupported JSON-LD version: "+c["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:c});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new o("@version: "+c["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:c});m.processingMode="json-ld-1.1",m["@version"]=c["@version"],v.set("@version",!0)}if(m.processingMode=m.processingMode||e.processingMode,"@base"in c){let e=c["@base"];if(null===e||l(e));else{if(!u(e))throw new o('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:c});e=f(m["@base"],e)}m["@base"]=e,v.set("@base",!0)}if("@vocab"in c){const e=c["@vocab"];if(null===e)delete m["@vocab"];else{if(!a(e))throw new o('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:c});if(!l(e)&&y.processingMode(m,1))throw new o('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:c});m["@vocab"]=g(m,e,{vocab:!0,base:!0},void 0,void 0,r)}v.set("@vocab",!0)}if("@language"in c){const e=c["@language"];if(null===e)delete m["@language"];else{if(!a(e))throw new o('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:c});m["@language"]=e.toLowerCase()}v.set("@language",!0)}if("@direction"in c){const t=c["@direction"];if("json-ld-1.0"===e.processingMode)throw new o("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:c});if(null===t)delete m["@direction"];else{if("ltr"!==t&&"rtl"!==t)throw new o('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:c});m["@direction"]=t}v.set("@direction",!0)}if("@propagate"in c){const r=c["@propagate"];if("json-ld-1.0"===e.processingMode)throw new o("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:c});if("boolean"!=typeof r)throw new o("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});v.set("@propagate",!0)}if("@import"in c){const n=c["@import"];if("json-ld-1.0"===e.processingMode)throw new o("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:c});if(!a(n))throw new o("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const i=await r.contextResolver.resolve({activeCtx:e,context:n,documentLoader:r.documentLoader,base:r.base});if(1!==i.length)throw new o("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const s=i[0].getProcessed(e);if(s)c=s;else{const r=i[0].document;if("@import"in r)throw new o("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const e in r)c.hasOwnProperty(e)||(c[e]=r[e]);i[0].setProcessed(e,c)}v.set("@import",!0)}v.set("@protected",c["@protected"]||!1);for(const e in c)if(y.createTermDefinition({activeCtx:m,localCtx:c,term:e,defined:v,options:r,overrideProtected:h}),s(c[e])&&"@context"in c[e]){const t=c[e]["@context"];let n=!0;if(a(t)){const e=f(r.base,t);d.has(e)?n=!1:d.add(e)}if(n)try{await y.process({activeCtx:m.clone(),localCtx:c[e]["@context"],overrideProtected:!0,options:r,cycles:d})}catch(t){throw new o("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:c[e]["@context"],term:e})}}i.setProcessed(e,m)}return m},y.createTermDefinition=({activeCtx:e,localCtx:t,term:r,defined:n,options:c,overrideProtected:u=!1})=>{if(n.has(r)){if(n.get(r))return;throw new o("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}let f;if(n.set(r,!1),t.hasOwnProperty(r)&&(f=t[r]),"@type"===r&&s(f)&&"@set"===(f["@container"]||"@set")&&y.processingMode(e,1.1)){const e=["@container","@id","@protected"],n=Object.keys(f);if(0===n.length||n.some((t=>!e.includes(t))))throw new o("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r})}else{if(y.isKeyword(r))throw new o("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});if(r.match(v))return void console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:r});if(""===r)throw new o("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const p=e.mappings.get(r);e.mappings.has(r)&&e.mappings.delete(r);let h=!1;if((a(f)||null===f)&&(h=!0,f={"@id":f}),!s(f))throw new o("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const d={};e.mappings.set(r,d),d.reverse=!1;const b=["@container","@id","@language","@reverse","@type"];y.processingMode(e,1.1)&&b.push("@context","@direction","@index","@nest","@prefix","@protected");for(const e in f)if(!b.includes(e))throw new o("Invalid JSON-LD syntax; a term definition must not contain "+e,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const w=r.indexOf(":");if(d._termHasColon=w>0,"@reverse"in f){if("@id"in f)throw new o("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in f)throw new o("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const i=f["@reverse"];if(!a(i))throw new o("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(!y.isKeyword(i)&&i.match(v))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:i}),void(p?e.mappings.set(r,p):e.mappings.delete(r));const s=g(e,i,{vocab:!0,base:!1},t,n,c);if(!l(s))throw new o("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});d["@id"]=s,d.reverse=!0}else if("@id"in f){let i=f["@id"];if(i&&!a(i))throw new o("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(null===i)d["@id"]=null;else{if(!y.isKeyword(i)&&i.match(v))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:i}),void(p?e.mappings.set(r,p):e.mappings.delete(r));if(i!==r){if(i=g(e,i,{vocab:!0,base:!1},t,n,c),!l(i)&&!y.isKeyword(i))throw new o("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(r.match(/(?::[^:])|\//)&&g(e,r,{vocab:!0,base:!1},t,new Map(n).set(r,!0),c)!==i)throw new o("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});d["@id"]=i,d._prefix=h&&!d._termHasColon&&i.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in d))if(d._termHasColon){const o=r.substr(0,w);if(t.hasOwnProperty(o)&&y.createTermDefinition({activeCtx:e,localCtx:t,term:o,defined:n,options:c}),e.mappings.has(o)){const t=r.substr(w+1);d["@id"]=e.mappings.get(o)["@id"]+t}else d["@id"]=r}else if("@type"===r)d["@id"]=r;else{if(!("@vocab"in e))throw new o("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});d["@id"]=e["@vocab"]+r}if((!0===f["@protected"]||!0===n.get("@protected")&&!1!==f["@protected"])&&(e.protected[r]=!0,d.protected=!0),n.set(r,!0),"@type"in f){let r=f["@type"];if(!a(r))throw new o("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@json"===r||"@none"===r){if(y.processingMode(e,1))throw new o(`Invalid JSON-LD syntax; an @context @type value must not be "${r}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if("@id"!==r&&"@vocab"!==r){if(r=g(e,r,{vocab:!0,base:!1},t,n,c),!l(r))throw new o("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===r.indexOf("_:"))throw new o("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}d["@type"]=r}if("@container"in f){const r=a(f["@container"])?[f["@container"]]:f["@container"]||[],n=["@list","@set","@index","@language"];let s=!0;const c=r.includes("@set");if(y.processingMode(e,1.1)){if(n.push("@graph","@id","@type"),r.includes("@list")){if(1!==r.length)throw new o("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(r.includes("@graph")){if(r.some((e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e)))throw new o("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else s&=r.length<=(c?2:1);if(r.includes("@type")&&(d["@type"]=d["@type"]||"@id",!["@id","@vocab"].includes(d["@type"])))throw new o("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else s&=!i(f["@container"]),s&=r.length<=1;if(s&=r.every((e=>n.includes(e))),s&=!(c&&r.includes("@list")),!s)throw new o("Invalid JSON-LD syntax; @context @container value must be one of the following: "+n.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(d.reverse&&!r.every((e=>["@index","@set"].includes(e))))throw new o("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});d["@container"]=r}if("@index"in f){if(!("@container"in f)||!d["@container"].includes("@index"))throw new o(`Invalid JSON-LD syntax; @index without @index in @container: "${f["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!a(f["@index"])||0===f["@index"].indexOf("@"))throw new o(`Invalid JSON-LD syntax; @index must expand to an IRI: "${f["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});d["@index"]=f["@index"]}if("@context"in f&&(d["@context"]=f["@context"]),"@language"in f&&!("@type"in f)){let e=f["@language"];if(null!==e&&!a(e))throw new o("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),d["@language"]=e}if("@prefix"in f){if(r.match(/:|\//))throw new o("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(y.isKeyword(d["@id"]))throw new o("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!=typeof f["@prefix"])throw new o("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});d._prefix=!0===f["@prefix"]}if("@direction"in f){const e=f["@direction"];if(null!==e&&"ltr"!==e&&"rtl"!==e)throw new o('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});d["@direction"]=e}if("@nest"in f){const e=f["@nest"];if(!a(e)||"@nest"!==e&&0===e.indexOf("@"))throw new o("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});d["@nest"]=e}const x=d["@id"];if("@context"===x||"@preserve"===x)throw new o("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(p&&p.protected&&!u&&(e.protected[r]=!0,d.protected=!0,!m(p,d))){const e=c&&c.protectedMode||"error";if("error"===e)throw new o(`Invalid JSON-LD syntax; tried to redefine "${r}" which is a protected term.`,"jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:r});if("warn"===e)return void console.warn("WARNING: protected term redefinition",{term:r});throw new o("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,term:r,protectedMode:e})}},y.expandIri=(e,t,r,n)=>g(e,t,r,void 0,void 0,n),y.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),r=d.get(t);if(r)return r;const o={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){const e=this;if(e.inverse)return e.inverse;const t=e.inverse={},r=e.fastCurieMap={},n={},o=(e["@language"]||"@none").toLowerCase(),a=e["@direction"],c=e.mappings,l=[...c.keys()].sort(h);for(const e of l){const i=c.get(e);if(null===i)continue;let l=i["@container"]||"@none";if(l=[].concat(l).sort().join(""),null===i["@id"])continue;const u=p(i["@id"]);for(const c of u){let u=t[c];const f=y.isKeyword(c);if(u)f||i._termHasColon||n[c].push(e);else if(t[c]=u={},!f&&!i._termHasColon){n[c]=[e];const t={iri:c,terms:n[c]};c[0]in r?r[c[0]].push(t):r[c[0]]=[t]}if(u[l]||(u[l]={"@language":{},"@type":{},"@any":{}}),u=u[l],s(e,u["@any"],"@none"),i.reverse)s(e,u["@type"],"@reverse");else if("@none"===i["@type"])s(e,u["@any"],"@none"),s(e,u["@language"],"@none"),s(e,u["@type"],"@none");else if("@type"in i)s(e,u["@type"],i["@type"]);else if("@language"in i&&"@direction"in i){const t=i["@language"],r=i["@direction"];s(e,u["@language"],t&&r?`${t}_${r}`.toLowerCase():t?t.toLowerCase():r?`_${r}`:"@null")}else"@language"in i?s(e,u["@language"],(i["@language"]||"@null").toLowerCase()):"@direction"in i?i["@direction"]?s(e,u["@language"],`_${i["@direction"]}`):s(e,u["@language"],"@none"):a?(s(e,u["@language"],`_${a}`),s(e,u["@language"],"@none"),s(e,u["@type"],"@none")):(s(e,u["@language"],o),s(e,u["@language"],"@none"),s(e,u["@type"],"@none"))}}for(const e in r)i(r,e,1);return t},clone:function(){const e={};return e.mappings=n.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=n.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone()),e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]),"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e},revertToPreviousContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===d.size&&d.clear(),d.set(t,o),o;function i(e,t,r){const n=e[t],o=e[t]={};let s,a;for(const e of n)s=e.iri,a=r>=s.length?"":s[r],a in o?o[a].push(e):o[a]=[e];for(const e in o)""!==e&&i(o,e,r+1)}function s(e,t,r){t.hasOwnProperty(r)||(t[r]=e)}},y.getContextValue=(e,t,r)=>{if(null===t){if("@context"===r)return;return null}if(e.mappings.has(t)){const n=e.mappings.get(t);if(c(r))return n;if(n.hasOwnProperty(r))return n[r]}return"@language"===r&&r in e||"@direction"===r&&r in e?e[r]:"@context"!==r?null:void 0},y.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode,y.isKeyword=e=>{if(!a(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},90241:(e,t,r)=>{"use strict";const{parseLinkHeader:n,buildHeaders:o}=r(26984),{LINK_HEADER_CONTEXT:i}=r(87364),s=r(39033),a=r(18320),{prependBase:c}=r(5994),l=/(^|(\r\n))link:/i;e.exports=({secure:e,headers:t={},xhr:r}={headers:{}})=>(t=o(t),(new a).wrapLoader((async function o(a){if(0!==a.indexOf("http:")&&0!==a.indexOf("https:"))throw new s('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:a});if(e&&0!==a.indexOf("https"))throw new s('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:a});let u;try{u=await function(e,t,r){const n=new(e=e||XMLHttpRequest);return new Promise(((e,o)=>{n.onload=()=>e(n),n.onerror=e=>o(e),n.open("GET",t,!0);for(const e in r)n.setRequestHeader(e,r[e]);n.send()}))}(r,a,t)}catch(e){throw new s("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:a,cause:e})}if(u.status>=400)throw new s("URL could not be dereferenced: "+u.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:a,httpStatusCode:u.status});let f={contextUrl:null,documentUrl:a,document:u.response},p=null;const h=u.getResponseHeader("Content-Type");let d;if(l.test(u.getAllResponseHeaders())&&(d=u.getResponseHeader("Link")),d&&"application/ld+json"!==h){const e=n(d),t=e[i];if(Array.isArray(t))throw new s("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:a});t&&(f.contextUrl=t.target),p=e.alternate,p&&"application/ld+json"==p.type&&!(h||"").match(/^application\/(\w*\+)?json$/)&&(f=await o(c(a,p.target)))}return f})))},16433:(e,t,r)=>{"use strict";const n=r(39033),{isArray:o,isObject:i,isEmptyObject:s,isString:a,isUndefined:c}=r(62100),{isList:l,isValue:u,isGraph:f,isSubject:p}=r(47066),{expandIri:h,getContextValue:d,isKeyword:v,process:y,processingMode:g}=r(64659),{isAbsolute:m}=r(5994),{addValue:b,asArray:w,getValues:x,validateTypeValue:E}=r(26984),_={};e.exports=_;const S=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;async function O({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:f,expandedParent:x,options:j={},insideList:R,typeKey:T,typeScopedContext:L,expansionMap:k}){const N=Object.keys(f).sort(),C=[];let P;const D=f[T]&&"@json"===h(e,o(f[T])?f[T][0]:f[T],{vocab:!0},j);for(const O of N){let T,N=f[O];if("@context"===O)continue;let M=h(e,O,{vocab:!0},j);if((null===M||!m(M)&&!v(M))&&(M=k({unmappedProperty:O,activeCtx:e,activeProperty:t,parent:f,options:j,insideList:R,value:N,expandedParent:x}),void 0===M))continue;if(v(M)){if("@reverse"===r)throw new n("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:N});if(M in x&&"@included"!==M&&"@type"!==M)throw new n("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:M})}if("@id"===M){if(!a(N)){if(!j.isFrame)throw new n('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:N});if(i(N)){if(!s(N))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:N})}else{if(!o(N))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:N});if(!N.every((e=>a(e))))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:N})}}b(x,"@id",w(N).map((t=>a(t)?h(e,t,{base:!0},j):t)),{propertyIsArray:j.isFrame});continue}if("@type"===M){i(N)&&(N=Object.fromEntries(Object.entries(N).map((([e,t])=>[h(L,e,{vocab:!0}),w(t).map((e=>h(L,e,{base:!0,vocab:!0})))])))),E(N,j.isFrame),b(x,"@type",w(N).map((e=>a(e)?h(L,e,{base:!0,vocab:!0},j):e)),{propertyIsArray:j.isFrame});continue}if("@included"===M&&g(e,1.1)){const r=w(await _.expand({activeCtx:e,activeProperty:t,element:N,options:j,expansionMap:k}));if(!r.every((e=>p(e))))throw new n("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:N});b(x,"@included",r,{propertyIsArray:!0});continue}if("@graph"===M&&!i(N)&&!o(N))throw new n('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:N});if("@value"===M){P=N,D&&g(e,1.1)?x["@value"]=N:b(x,"@value",N,{propertyIsArray:j.isFrame});continue}if("@language"===M){if(null===N)continue;if(!a(N)&&!j.isFrame)throw new n('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:N});N=w(N).map((e=>a(e)?e.toLowerCase():e));for(const e of N)a(e)&&!e.match(S)&&console.warn(`@language must be valid BCP47: ${e}`);b(x,"@language",N,{propertyIsArray:j.isFrame});continue}if("@direction"===M){if(!a(N)&&!j.isFrame)throw new n('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:N});N=w(N);for(const e of N)if(a(e)&&"ltr"!==e&&"rtl"!==e)throw new n('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:N});b(x,"@direction",N,{propertyIsArray:j.isFrame});continue}if("@index"===M){if(!a(N))throw new n('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:N});b(x,"@index",N);continue}if("@reverse"===M){if(!i(N))throw new n('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:N});if(T=await _.expand({activeCtx:e,activeProperty:"@reverse",element:N,options:j,expansionMap:k}),"@reverse"in T)for(const e in T["@reverse"])b(x,e,T["@reverse"][e],{propertyIsArray:!0});let t=x["@reverse"]||null;for(const e in T){if("@reverse"===e)continue;null===t&&(t=x["@reverse"]={}),b(t,e,[],{propertyIsArray:!0});const r=T[e];for(let o=0;o<r.length;++o){const i=r[o];if(u(i)||l(i))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:T});b(t,e,i,{propertyIsArray:!0})}}continue}if("@nest"===M){C.push(O);continue}let $=e;const U=d(e,O,"@context");c(U)||($=await y({activeCtx:e,localCtx:U,propagate:!0,overrideProtected:!0,options:j}));const F=d($,O,"@container")||[];if(F.includes("@language")&&i(N))T=A($,N,d($,O,"@direction"),j);else if(F.includes("@index")&&i(N)){const t=F.includes("@graph"),r=d($,O,"@index")||"@index",n="@index"!==r&&h(e,r,{vocab:!0},j);T=await I({activeCtx:$,options:j,activeProperty:O,value:N,expansionMap:k,asGraph:t,indexKey:r,propertyIndex:n})}else if(F.includes("@id")&&i(N)){const e=F.includes("@graph");T=await I({activeCtx:$,options:j,activeProperty:O,value:N,expansionMap:k,asGraph:e,indexKey:"@id"})}else if(F.includes("@type")&&i(N))T=await I({activeCtx:$.revertToPreviousContext(),options:j,activeProperty:O,value:N,expansionMap:k,asGraph:!1,indexKey:"@type"});else{const n="@list"===M;if(n||"@set"===M){let e=t;n&&"@graph"===r&&(e=null),T=await _.expand({activeCtx:$,activeProperty:e,element:N,options:j,insideList:n,expansionMap:k})}else T="@json"===d(e,O,"@type")?{"@type":"@json","@value":N}:await _.expand({activeCtx:$,activeProperty:O,element:N,options:j,insideList:!1,expansionMap:k})}if(null!==T||"@value"===M||(T=k({unmappedValue:N,expandedProperty:M,activeCtx:$,activeProperty:t,parent:f,options:j,insideList:R,key:O,expandedParent:x}),void 0!==T))if("@list"!==M&&!l(T)&&F.includes("@list")&&(T={"@list":w(T)}),F.includes("@graph")&&!F.some((e=>"@id"===e||"@index"===e))&&(T=w(T).map((e=>({"@graph":w(e)})))),$.mappings.has(O)&&$.mappings.get(O).reverse){const e=x["@reverse"]=x["@reverse"]||{};T=w(T);for(let t=0;t<T.length;++t){const r=T[t];if(u(r)||l(r))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:T});b(e,M,r,{propertyIsArray:!0})}}else b(x,M,T,{propertyIsArray:!0})}if("@value"in x)if("@json"===x["@type"]&&g(e,1.1));else if((i(P)||o(P))&&!j.isFrame)throw new n('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:P});for(const s of C){const a=o(f[s])?f[s]:[f[s]];for(const o of a){if(!i(o)||Object.keys(o).some((t=>"@value"===h(e,t,{vocab:!0},j))))throw new n("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:o});await O({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:o,expandedParent:x,options:j,insideList:R,typeScopedContext:L,typeKey:T,expansionMap:k})}}}function j({activeCtx:e,activeProperty:t,value:r,options:n}){if(null==r)return null;const o=h(e,t,{vocab:!0},n);if("@id"===o)return h(e,r,{base:!0},n);if("@type"===o)return h(e,r,{vocab:!0,base:!0},n);const i=d(e,t,"@type");if(("@id"===i||"@graph"===o)&&a(r))return{"@id":h(e,r,{base:!0},n)};if("@vocab"===i&&a(r))return{"@id":h(e,r,{vocab:!0,base:!0},n)};if(v(o))return r;const s={};if(i&&!["@id","@vocab","@none"].includes(i))s["@type"]=i;else if(a(r)){const r=d(e,t,"@language");null!==r&&(s["@language"]=r);const n=d(e,t,"@direction");null!==n&&(s["@direction"]=n)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),s["@value"]=r,s}function A(e,t,r,i){const s=[],c=Object.keys(t).sort();for(const l of c){const c=h(e,l,{vocab:!0},i);let u=t[l];o(u)||(u=[u]);for(const e of u){if(null===e)continue;if(!a(e))throw new n("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const o={"@value":e};"@none"!==c&&(o["@language"]=l.toLowerCase()),r&&(o["@direction"]=r),s.push(o)}}return s}async function I({activeCtx:e,options:t,activeProperty:r,value:i,expansionMap:s,asGraph:a,indexKey:l,propertyIndex:p}){const v=[],g=Object.keys(i).sort(),m="@type"===l;for(let w of g){if(m){const r=d(e,w,"@context");c(r)||(e=await y({activeCtx:e,localCtx:r,propagate:!1,options:t}))}let g,x=i[w];o(x)||(x=[x]),x=await _.expand({activeCtx:e,activeProperty:r,element:x,options:t,insideList:!1,insideIndex:!0,expansionMap:s}),g=p?"@none"===w?"@none":j({activeCtx:e,activeProperty:l,value:w,options:t}):h(e,w,{vocab:!0},t),"@id"===l?w=h(e,w,{base:!0},t):m&&(w=g);for(let e of x){if(a&&!f(e)&&(e={"@graph":[e]}),"@type"===l)"@none"===g||(e["@type"]?e["@type"]=[w].concat(e["@type"]):e["@type"]=[w]);else{if(u(e)&&!["@language","@type","@index"].includes(l))throw new n(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${l}".`,"jsonld.SyntaxError",{code:"invalid value object",value:e});p?"@none"!==g&&b(e,p,g,{propertyIsArray:!0,prependValue:!0}):"@none"===g||l in e||(e[l]=w)}v.push(e)}}return v}_.expand=async({activeCtx:e,activeProperty:t=null,element:r,options:l={},insideList:u=!1,insideIndex:f=!1,typeScopedContext:p=null,expansionMap:v=(()=>{})})=>{if(null==r)return null;if("@default"===t&&(l=Object.assign({},l,{isFrame:!1})),!o(r)&&!i(r)){if(!u&&(null===t||"@graph"===h(e,t,{vocab:!0},l))){const n=await v({unmappedValue:r,activeCtx:e,activeProperty:t,options:l,insideList:u});return void 0===n?null:n}return j({activeCtx:e,activeProperty:t,value:r,options:l})}if(o(r)){let n=[];const i=d(e,t,"@container")||[];u=u||i.includes("@list");for(let i=0;i<r.length;++i){let s=await _.expand({activeCtx:e,activeProperty:t,element:r[i],options:l,expansionMap:v,insideIndex:f,typeScopedContext:p});u&&o(s)&&(s={"@list":s}),null===s&&(s=await v({unmappedValue:r[i],activeCtx:e,activeProperty:t,parent:r,index:i,options:l,expandedParent:n,insideList:u}),void 0===s)||(o(s)?n=n.concat(s):n.push(s))}return n}const b=h(e,t,{vocab:!0},l),E=d(e,t,"@context");p=p||(e.previousContext?e:null);let S=Object.keys(r).sort(),A=!f;if(A&&p&&S.length<=2&&!S.includes("@context"))for(const t of S){const r=h(p,t,{vocab:!0},l);if("@value"===r){A=!1,e=p;break}if("@id"===r&&1===S.length){A=!1;break}}A&&(e=e.revertToPreviousContext()),c(E)||(e=await y({activeCtx:e,localCtx:E,propagate:!0,overrideProtected:!0,options:l})),"@context"in r&&(e=await y({activeCtx:e,localCtx:r["@context"],options:l})),p=e;let I=null;for(const t of S)if("@type"===h(e,t,{vocab:!0},l)){I=I||t;const n=r[t],o=Array.isArray(n)?n.length>1?n.slice().sort():n:[n];for(const t of o){const r=d(p,t,"@context");c(r)||(e=await y({activeCtx:e,localCtx:r,options:l,propagate:!1}))}}let R={};await O({activeCtx:e,activeProperty:t,expandedActiveProperty:b,element:r,expandedParent:R,options:l,insideList:u,typeKey:I,typeScopedContext:p,expansionMap:v}),S=Object.keys(R);let T=S.length;if("@value"in R){if("@type"in R&&("@language"in R||"@direction"in R))throw new n('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:R});let o=T-1;if("@type"in R&&(o-=1),"@index"in R&&(o-=1),"@language"in R&&(o-=1),"@direction"in R&&(o-=1),0!==o)throw new n('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:R});const i=null===R["@value"]?[]:w(R["@value"]),c=x(R,"@type");if(g(e,1.1)&&c.includes("@json")&&1===c.length);else if(0===i.length){const n=await v({unmappedValue:R,activeCtx:e,activeProperty:t,element:r,options:l,insideList:u});R=void 0!==n?n:null}else{if(!i.every((e=>a(e)||s(e)))&&"@language"in R)throw new n("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:R});if(!c.every((e=>m(e)&&!(a(e)&&0===e.indexOf("_:"))||s(e))))throw new n('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:R})}}else if("@type"in R&&!o(R["@type"]))R["@type"]=[R["@type"]];else if("@set"in R||"@list"in R){if(T>1&&(2!==T||!("@index"in R)))throw new n('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:R});"@set"in R&&(R=R["@set"],S=Object.keys(R),T=S.length)}else if(1===T&&"@language"in R){const n=await v(R,{unmappedValue:R,activeCtx:e,activeProperty:t,element:r,options:l,insideList:u});R=void 0!==n?n:null}if(i(R)&&!l.keepFreeFloatingNodes&&!u&&(null===t||"@graph"===b)&&(0===T||"@value"in R||"@list"in R||1===T&&"@id"in R)){const n=await v({unmappedValue:R,activeCtx:e,activeProperty:t,element:r,options:l,insideList:u});R=void 0!==n?n:null}return R}},21070:(e,t,r)=>{"use strict";const{isSubjectReference:n}=r(47066),{createMergedNodeMap:o}=r(49163),i={};e.exports=i,i.flatten=e=>{const t=o(e),r=[],i=Object.keys(t).sort();for(let e=0;e<i.length;++e){const o=t[i[e]];n(o)||r.push(o)}return r}},44114:(e,t,r)=>{"use strict";const{isKeyword:n}=r(64659),o=r(47066),i=r(62100),s=r(26984),a=r(5994),c=r(39033),{createNodeMap:l,mergeNodeMapGraphs:u}=r(49163),f={};function p(e){const t={};for(const r in e)void 0!==e[r]&&(t["@"+r]=[e[r]]);return[t]}function h(e,t,r){for(let n=r.length-1;n>=0;--n){const o=r[n];if(o.graph===t&&o.subject["@id"]===e["@id"])return!0}return!1}function d(e,t,r){const n="@"+r;let o=n in e?e[n][0]:t[r];if("embed"===r)if(!0===o)o="@once";else if(!1===o)o="@never";else if("@always"!==o&&"@never"!==o&&"@link"!==o&&"@first"!==o&&"@last"!==o&&"@once"!==o)throw new c("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return o}function v(e){if(!i.isArray(e)||1!==e.length||!i.isObject(e[0]))throw new c("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0])for(const t of s.asArray(e[0]["@id"]))if(!i.isObject(t)&&!a.isAbsolute(t)||i.isString(t)&&0===t.indexOf("_:"))throw new c("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e});if("@type"in e[0])for(const t of s.asArray(e[0]["@type"]))if(!i.isObject(t)&&!a.isAbsolute(t)||i.isString(t)&&0===t.indexOf("_:"))throw new c("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}function y(e,t,r,a){let c=!0,l=!1;for(const u in r){let f=!1;const p=s.getValues(t,u),h=0===s.getValues(r,u).length;if("@id"===u){if(i.isEmptyObject(r["@id"][0]||{})?f=!0:r["@id"].length>=0&&(f=r["@id"].includes(p[0])),!a.requireAll)return f}else if("@type"===u){if(c=!1,h){if(p.length>0)return!1;f=!0}else if(1===r["@type"].length&&i.isEmptyObject(r["@type"][0]))f=p.length>0;else for(const e of r["@type"])f=!(!i.isObject(e)||!("@default"in e))||f||p.some((t=>t===e));if(!a.requireAll)return f}else{if(n(u))continue;{const t=s.getValues(r,u)[0];let n=!1;if(t&&(v([t]),n="@default"in t),c=!1,0===p.length&&n)continue;if(p.length>0&&h)return!1;if(void 0===t){if(p.length>0)return!1;f=!0}else if(o.isList(t)){const r=t["@list"][0];if(o.isList(p[0])){const t=p[0]["@list"];o.isValue(r)?f=t.some((e=>x(r,e))):(o.isSubject(r)||o.isSubjectReference(r))&&(f=t.some((t=>w(e,r,t,a))))}}else f=o.isValue(t)?p.some((e=>x(t,e))):o.isSubjectReference(t)?p.some((r=>w(e,t,r,a))):!!i.isObject(t)&&p.length>0}}if(!f&&a.requireAll)return!1;l=l||f}return c||l}function g(e,t){const r=e.uniqueEmbeds[e.graph],n=r[t],o=n.parent,a=n.property,c={"@id":t};if(i.isArray(o)){for(let e=0;e<o.length;++e)if(s.compareValues(o[e],c)){o[e]=c;break}}else{const e=i.isArray(o[a]);s.removeValue(o,a,c,{propertyIsArray:e}),s.addValue(o,a,c,{propertyIsArray:e})}const l=e=>{const t=Object.keys(r);for(const n of t)n in r&&i.isObject(r[n].parent)&&r[n].parent["@id"]===e&&(delete r[n],l(n))};l(t)}function m(e,t){if(i.isArray(e))return e.map((e=>m(e,t)));if(i.isObject(e)){if("@preserve"in e)return e["@preserve"][0];if(o.isValue(e))return e;if(o.isList(e))return e["@list"]=m(e["@list"],t),e;if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(-1!==n)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e)"@id"===r&&t.bnodesToClear.includes(e[r])?delete e["@id"]:e[r]=m(e[r],t)}return e}function b(e,t,r){i.isObject(e)?s.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function w(e,t,r,n){if(!("@id"in r))return!1;const o=e.subjects[r["@id"]];return o&&y(e,o,t,n)}function x(e,t){const r=t["@value"],n=t["@type"],o=t["@language"],s=e["@value"]?i.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],a=e["@type"]?i.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],c=e["@language"]?i.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===s.length&&0===a.length&&0===c.length||!(!s.includes(r)&&!i.isEmptyObject(s[0]))&&!!(!n&&0===a.length||a.includes(n)||n&&i.isEmptyObject(a[0]))&&!!(!o&&0===c.length||c.includes(o)||o&&i.isEmptyObject(c[0]))}e.exports=f,f.frameMergedOrDefault=(e,t,r)=>{const n={options:r,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},o=new s.IdentifierIssuer("_:b");l(e,n.graphMap,"@default",o),r.merged&&(n.graphMap["@merged"]=u(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];const i=[];return f.frame(n,Object.keys(n.subjects).sort(),t,i),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter((e=>1===n.bnodeMap[e].length))),r.link={},m(i,r)},f.frame=(e,t,r,a,l=null)=>{v(r),r=r[0];const u=e.options,m={embed:d(r,u,"embed"),explicit:d(r,u,"explicit"),requireAll:d(r,u,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const w=e.link[e.graph],E=function(e,t,r,n){const o={};for(const i of t){const t=e.graphMap[e.graph][i];y(e,t,r,n)&&(o[i]=t)}return o}(e,t,r,m),_=Object.keys(E).sort();for(const v of _){const y=E[v];if(null===l?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===m.embed&&v in w){b(a,l,w[v]);continue}const _={"@id":v};if(0===v.indexOf("_:")&&s.addValue(e.bnodeMap,v,_,{propertyIsArray:!0}),w[v]=_,("@first"===m.embed||"@last"===m.embed)&&e.is11)throw new c("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:r});if(e.embedded||!e.uniqueEmbeds[e.graph].hasOwnProperty(v))if(!e.embedded||"@never"!==m.embed&&!h(y,e.graph,e.subjectStack))if(!e.embedded||"@first"!=m.embed&&"@once"!=m.embed||!e.uniqueEmbeds[e.graph].hasOwnProperty(v)){if("@last"===m.embed&&v in e.uniqueEmbeds[e.graph]&&g(e,v),e.uniqueEmbeds[e.graph][v]={parent:a,property:l},e.subjectStack.push({subject:y,graph:e.graph}),v in e.graphMap){let t=!1,n=null;"@graph"in r?(n=r["@graph"][0],t=!("@merged"===v||"@default"===v),i.isObject(n)||(n={})):(t="@merged"!==e.graph,n={}),t&&f.frame({...e,graph:v,embedded:!1},Object.keys(e.graphMap[v]).sort(),[n],_,"@graph")}"@included"in r&&f.frame({...e,embedded:!1},t,r["@included"],_,"@included");for(const t of Object.keys(y).sort())if(n(t)){if(_[t]=s.clone(y[t]),"@type"===t)for(const t of y["@type"])0===t.indexOf("_:")&&s.addValue(e.bnodeMap,t,_,{propertyIsArray:!0})}else if(!m.explicit||t in r)for(const n of y[t]){const i=t in r?r[t]:p(m);if(o.isList(n)){const i=r[t]&&r[t][0]&&r[t][0]["@list"]?r[t][0]["@list"]:p(m),a={"@list":[]};b(_,t,a);const c=n["@list"];for(const t of c)o.isSubjectReference(t)?f.frame({...e,embedded:!0},[t["@id"]],i,a,"@list"):b(a,"@list",s.clone(t))}else o.isSubjectReference(n)?f.frame({...e,embedded:!0},[n["@id"]],i,_,t):x(i[0],n)&&b(_,t,s.clone(n))}for(const e of Object.keys(r).sort()){if("@type"===e){if(!i.isObject(r[e][0])||!("@default"in r[e][0]))continue}else if(n(e))continue;const t=r[e][0]||{};if(!d(t,u,"omitDefault")&&!(e in _)){let r="@null";"@default"in t&&(r=s.clone(t["@default"])),i.isArray(r)||(r=[r]),_[e]=[{"@preserve":r}]}}for(const t of Object.keys(r["@reverse"]||{}).sort()){const n=r["@reverse"][t];for(const r of Object.keys(e.subjects))s.getValues(e.subjects[r],t).some((e=>e["@id"]===v))&&(_["@reverse"]=_["@reverse"]||{},s.addValue(_["@reverse"],t,[],{propertyIsArray:!0}),f.frame({...e,embedded:!0},[r],n,_["@reverse"][t],l))}b(a,l,_),e.subjectStack.pop()}else b(a,l,_);else b(a,l,_)}},f.cleanupNull=(e,t)=>{if(i.isArray(e))return e.map((e=>f.cleanupNull(e,t))).filter((e=>e));if("@null"===e)return null;if(i.isObject(e)){if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(-1!==n)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e)e[r]=f.cleanupNull(e[r],t)}return e}},14139:(e,t,r)=>{"use strict";const n=r(39033),o=r(47066),i=r(62100),s=r(26984),{RDF_LIST:a,RDF_FIRST:c,RDF_REST:l,RDF_NIL:u,RDF_TYPE:f,RDF_JSON_LITERAL:p,XSD_BOOLEAN:h,XSD_DOUBLE:d,XSD_INTEGER:v,XSD_STRING:y}=r(87364),g=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,m={};function b(e,t,r){if(e.termType.endsWith("Node"))return{"@id":e.value};const o={"@value":e.value};if(e.language)o["@language"]=e.language;else{let s=e.datatype.value;if(s||(s=y),s===p){s="@json";try{o["@value"]=JSON.parse(o["@value"])}catch(e){throw new n("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:o["@value"],cause:e})}}if(t){if(s===h)"true"===o["@value"]?o["@value"]=!0:"false"===o["@value"]&&(o["@value"]=!1);else if(i.isNumeric(o["@value"]))if(s===v){const e=parseInt(o["@value"],10);e.toFixed(0)===o["@value"]&&(o["@value"]=e)}else s===d&&(o["@value"]=parseFloat(o["@value"]));[h,v,d,y].includes(s)||(o["@type"]=s)}else if("i18n-datatype"===r&&s.startsWith("https://www.w3.org/ns/i18n#")){const[,e,t]=s.split(/[#_]/);e.length>0&&(o["@language"]=e,e.match(g)||console.warn(`@language must be valid BCP47: ${e}`)),o["@direction"]=t}else s!==y&&(o["@type"]=s)}return o}e.exports=m,m.fromRDF=async(e,{useRdfType:t=!1,useNativeTypes:r=!1,rdfDirection:n=null})=>{const p={},h={"@default":p},d={};for(const o of e){const e="DefaultGraph"===o.graph.termType?"@default":o.graph.value;e in h||(h[e]={}),"@default"===e||e in p||(p[e]={"@id":e});const i=h[e],a=o.subject.value,c=o.predicate.value,l=o.object;a in i||(i[a]={"@id":a});const v=i[a],y=l.termType.endsWith("Node");if(y&&!(l.value in i)&&(i[l.value]={"@id":l.value}),c===f&&!t&&y){s.addValue(v,"@type",l.value,{propertyIsArray:!0});continue}const g=b(l,r,n);if(s.addValue(v,c,g,{propertyIsArray:!0}),y)if(l.value===u){const e=i[l.value];"usages"in e||(e.usages=[]),e.usages.push({node:v,property:c,value:g})}else l.value in d?d[l.value]=!1:d[l.value]={node:v,property:c,value:g}}for(const e in h){const t=h[e];if(!(u in t))continue;const r=t[u];if(r.usages){for(let e of r.usages){let r=e.node,n=e.property,s=e.value;const u=[],f=[];let p=Object.keys(r).length;for(;n===l&&i.isObject(d[r["@id"]])&&i.isArray(r[c])&&1===r[c].length&&i.isArray(r[l])&&1===r[l].length&&(3===p||4===p&&i.isArray(r["@type"])&&1===r["@type"].length&&r["@type"][0]===a)&&(u.push(r[c][0]),f.push(r["@id"]),e=d[r["@id"]],r=e.node,n=e.property,s=e.value,p=Object.keys(r).length,o.isBlankNode(r)););delete s["@id"],s["@list"]=u.reverse();for(const e of f)delete t[e]}delete r.usages}}const v=[],y=Object.keys(p).sort();for(const e of y){const t=p[e];if(e in h){const r=t["@graph"]=[],n=h[e],i=Object.keys(n).sort();for(const e of i){const t=n[e];o.isSubjectReference(t)||r.push(t)}}o.isSubjectReference(t)||v.push(t)}return v}},47066:(e,t,r)=>{"use strict";const n=r(62100),o={};e.exports=o,o.isSubject=e=>!(!n.isObject(e)||"@value"in e||"@set"in e||"@list"in e)&&(Object.keys(e).length>1||!("@id"in e)),o.isSubjectReference=e=>n.isObject(e)&&1===Object.keys(e).length&&"@id"in e,o.isValue=e=>n.isObject(e)&&"@value"in e,o.isList=e=>n.isObject(e)&&"@list"in e,o.isGraph=e=>n.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter((e=>"@id"!==e&&"@index"!==e)).length,o.isSimpleGraph=e=>o.isGraph(e)&&!("@id"in e),o.isBlankNode=e=>!!n.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e))},43839:(e,t,r)=>{const n=r(168),o=r(34089),i=r(26984),s=r(91965),a=i.IdentifierIssuer,c=r(39033),l=r(1220),u=r(84658),{expand:f}=r(16433),{flatten:p}=r(21070),{fromRDF:h}=r(14139),{toRDF:d}=r(70923),{frameMergedOrDefault:v,cleanupNull:y}=r(44114),{isArray:g,isObject:m,isString:b}=r(62100),{isSubjectReference:w}=r(47066),{expandIri:x,getInitialContext:E,process:_,processingMode:S}=r(64659),{compact:O,compactIri:j}=r(42948),{createNodeMap:A,createMergedNodeMap:I,mergeNodeMaps:R}=r(49163),T=function(e){const t={},T=new l({max:100});function L(t,{documentLoader:r=e.documentLoader,...n}){return Object.assign({},{documentLoader:r},n,t)}return e.compact=async function(t,r,n){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===r)throw new c("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;let o;(n=L(n,{base:b(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new a("_:b"),contextResolver:new s({sharedCache:T})})).link&&(n.skipExpansion=!0),n.compactToRelative||delete n.base,o=n.skipExpansion?t:await e.expand(t,n);const l=await e.processContext(E(n),r,n);let u=await O({activeCtx:l,element:o,options:n,compactionMap:n.compactionMap});n.compactArrays&&!n.graph&&g(u)?1===u.length?u=u[0]:0===u.length&&(u={}):n.graph&&m(u)&&(u=[u]),m(r)&&"@context"in r&&(r=r["@context"]),r=i.clone(r),g(r)||(r=[r]);const f=r;r=[];for(let e=0;e<f.length;++e)(!m(f[e])||Object.keys(f[e]).length>0)&&r.push(f[e]);const p=r.length>0;if(1===r.length&&(r=r[0]),g(u)){const e=j({activeCtx:l,iri:"@graph",relativeTo:{vocab:!0}}),t=u;u={},p&&(u["@context"]=r),u[e]=t}else if(m(u)&&p){const e=u;u={"@context":r};for(const t in e)u[t]=e[t]}return u},e.expand=async function(t,r){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");!1===(r=L(r,{keepFreeFloatingNodes:!1,contextResolver:new s({sharedCache:T})})).expansionMap&&(r.expansionMap=void 0);const n={},o=[];if("expandContext"in r){const e=i.clone(r.expandContext);m(e)&&"@context"in e?n.expandContext=e:n.expandContext={"@context":e},o.push(n.expandContext)}let a;if(b(t)){const i=await e.get(t,r);a=i.documentUrl,n.input=i.document,i.contextUrl&&(n.remoteContext={"@context":i.contextUrl},o.push(n.remoteContext))}else n.input=i.clone(t);"base"in r||(r.base=a||"");let c=E(r);for(const e of o)c=await _({activeCtx:c,localCtx:e,options:r});let l=await f({activeCtx:c,element:n.input,options:r,expansionMap:r.expansionMap});return m(l)&&"@graph"in l&&1===Object.keys(l).length?l=l["@graph"]:null===l&&(l=[]),g(l)||(l=[l]),l},e.flatten=async function(t,r,n){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");r="function"==typeof r?null:r||null,n=L(n,{base:b(t)?t:"",contextResolver:new s({sharedCache:T})});const o=await e.expand(t,n),i=p(o);return null===r?i:(n.graph=!0,n.skipExpansion=!0,await e.compact(i,r,n))},e.frame=async function(t,r,n){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(n=L(n,{base:b(t)?t:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new s({sharedCache:T})}),b(r)){const t=await e.get(r,n);if(r=t.document,t.contextUrl){let e=r["@context"];e?g(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,r["@context"]=e}}const o=r&&r["@context"]||{},i=await e.processContext(E(n),o,n);n.hasOwnProperty("omitGraph")||(n.omitGraph=S(i,1.1)),n.hasOwnProperty("pruneBlankNodeIdentifiers")||(n.pruneBlankNodeIdentifiers=S(i,1.1));const a=await e.expand(t,n),c={...n};c.isFrame=!0,c.keepFreeFloatingNodes=!0;const l=await e.expand(r,c),u=Object.keys(r).map((e=>x(i,e,{vocab:!0})));c.merged=!u.includes("@graph"),c.is11=S(i,1.1);const f=v(a,l,c);c.graph=!n.omitGraph,c.skipExpansion=!0,c.link={},c.framing=!0;let p=await e.compact(f,o,c);return c.link={},p=y(p,c),p},e.link=async function(t,r,n){const o={};return r&&(o["@context"]=r),o["@embed"]="@link",e.frame(t,o,n)},e.normalize=e.canonize=async function(t,r){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(r=L(r,{base:b(t)?t:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new s({sharedCache:T})}))){if("application/n-quads"!==r.inputFormat&&"application/nquads"!==r.inputFormat)throw new c("Unknown canonicalization input format.","jsonld.CanonizeError");const e=u.parse(t);return n.canonize(e,r)}const o={...r};delete o.format,o.produceGeneralizedRdf=!1;const i=await e.toRDF(t,o);return n.canonize(i,r)},e.fromRDF=async function(e,r){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");r=L(r,{format:b(e)?"application/n-quads":void 0});const{format:n}=r;let{rdfParser:o}=r;if(n){if(o=o||t[n],!o)throw new c("Unknown input format.","jsonld.UnknownFormat",{format:n})}else o=()=>e;const i=await o(e);return h(i,r)},e.toRDF=async function(t,r){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let n;n=(r=L(r,{base:b(t)?t:"",skipExpansion:!1,contextResolver:new s({sharedCache:T})})).skipExpansion?t:await e.expand(t,r);const o=d(n,r);if(r.format){if("application/n-quads"===r.format||"application/nquads"===r.format)return u.serialize(o);throw new c("Unknown output format.","jsonld.UnknownFormat",{format:r.format})}return o},e.createNodeMap=async function(t,r){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");r=L(r,{base:b(t)?t:"",contextResolver:new s({sharedCache:T})});const n=await e.expand(t,r);return I(n,r)},e.merge=async function(t,r,n){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!g(t))throw new TypeError('Could not merge, "docs" must be an array.');r="function"==typeof r?null:r||null,n=L(n,{contextResolver:new s({sharedCache:T})});const o=await Promise.all(t.map((t=>{const r={...n};return e.expand(t,r)})));let c=!0;"mergeNodes"in n&&(c=n.mergeNodes);const l=n.issuer||new a("_:b"),u={"@default":{}};for(let e=0;e<o.length;++e){const t=i.relabelBlankNodes(o[e],{issuer:new a("_:b"+e+"-")}),r=c||0===e?u:{"@default":{}};if(A(t,r,"@default",l),r!==u)for(const e in r){const t=r[e];if(!(e in u)){u[e]=t;continue}const n=u[e];for(const e in t)e in n||(n[e]=t[e])}}const f=R(u),p=[],h=Object.keys(f).sort();for(let e=0;e<h.length;++e){const t=f[h[e]];w(t)||p.push(t)}return null===r?p:(n.graph=!0,n.skipExpansion=!0,await e.compact(p,r,n))},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=t}),e.documentLoader=async e=>{throw new c("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},e.get=async function(t,r){let n;n="function"==typeof r.documentLoader?r.documentLoader:e.documentLoader;const o=await n(t);try{if(!o.document)throw new c("No remote document found at the given URL.","jsonld.NullRemoteDocument");b(o.document)&&(o.document=JSON.parse(o.document))}catch(e){throw new c("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:o})}return o},e.processContext=async function(e,t,r){return r=L(r,{base:"",contextResolver:new s({sharedCache:T})}),null===t?E(r):(t=i.clone(t),m(t)&&"@context"in t||(t={"@context":t}),_({activeCtx:e,localCtx:t,options:r}))},e.getContextValue=r(64659).getContextValue,e.documentLoaders={},e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new c('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,r){t[e]=r},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",u.parse),e.registerRDFParser("application/nquads",u.parse),e.url=r(5994),e.util=i,Object.assign(e,i),e.promises=e,e.RequestQueue=r(18320),e.JsonLdProcessor=r(7292)(e),o.setupGlobals(e),o.setupDocumentLoaders(e),e},L=function(){return T((function(){return L()}))};T(L),e.exports=L},49163:(e,t,r)=>{"use strict";const{isKeyword:n}=r(64659),o=r(47066),i=r(62100),s=r(26984),a=r(39033),c={};e.exports=c,c.createMergedNodeMap=(e,t)=>{const r=(t=t||{}).issuer||new s.IdentifierIssuer("_:b"),n={"@default":{}};return c.createNodeMap(e,n,"@default",r),c.mergeNodeMaps(n)},c.createNodeMap=(e,t,r,l,u,f)=>{if(i.isArray(e)){for(const n of e)c.createNodeMap(n,t,r,l,void 0,f);return}if(!i.isObject(e))return void(f&&f.push(e));if(o.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=l.getId(t))}return void(f&&f.push(e))}if(f&&o.isList(e)){const n=[];return c.createNodeMap(e["@list"],t,r,l,u,n),void f.push({"@list":n})}if("@type"in e){const t=e["@type"];for(const e of t)0===e.indexOf("_:")&&l.getId(e)}i.isUndefined(u)&&(u=o.isBlankNode(e)?l.getId(e["@id"]):e["@id"]),f&&f.push({"@id":u});const p=t[r],h=p[u]=p[u]||{};h["@id"]=u;const d=Object.keys(e).sort();for(let i of d){if("@id"===i)continue;if("@reverse"===i){const n={"@id":u},i=e["@reverse"];for(const e in i){const a=i[e];for(const i of a){let a=i["@id"];o.isBlankNode(i)&&(a=l.getId(a)),c.createNodeMap(i,t,r,l,a),s.addValue(p[a],e,n,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===i){u in t||(t[u]={}),c.createNodeMap(e[i],t,u,l);continue}if("@included"===i){c.createNodeMap(e[i],t,r,l);continue}if("@type"!==i&&n(i)){if("@index"===i&&i in h&&(e[i]!==h[i]||e[i]["@id"]!==h[i]["@id"]))throw new a("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:h});h[i]=e[i];continue}const f=e[i];if(0===i.indexOf("_:")&&(i=l.getId(i)),0!==f.length)for(let e of f)if("@type"===i&&(e=0===e.indexOf("_:")?l.getId(e):e),o.isSubject(e)||o.isSubjectReference(e)){if("@id"in e&&!e["@id"])continue;const n=o.isBlankNode(e)?l.getId(e["@id"]):e["@id"];s.addValue(h,i,{"@id":n},{propertyIsArray:!0,allowDuplicate:!1}),c.createNodeMap(e,t,r,l,n)}else if(o.isValue(e))s.addValue(h,i,e,{propertyIsArray:!0,allowDuplicate:!1});else if(o.isList(e)){const n=[];c.createNodeMap(e["@list"],t,r,l,u,n),e={"@list":n},s.addValue(h,i,e,{propertyIsArray:!0,allowDuplicate:!1})}else c.createNodeMap(e,t,r,l,u),s.addValue(h,i,e,{propertyIsArray:!0,allowDuplicate:!1});else s.addValue(h,i,[],{propertyIsArray:!0})}},c.mergeNodeMapGraphs=e=>{const t={};for(const r of Object.keys(e).sort())for(const o of Object.keys(e[r]).sort()){const i=e[r][o];o in t||(t[o]={"@id":o});const a=t[o];for(const e of Object.keys(i).sort())if(n(e)&&"@type"!==e)a[e]=s.clone(i[e]);else for(const t of i[e])s.addValue(a,e,s.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},c.mergeNodeMaps=e=>{const t=e["@default"],r=Object.keys(e).sort();for(const n of r){if("@default"===n)continue;const r=e[n];let i=t[n];i?"@graph"in i||(i["@graph"]=[]):t[n]=i={"@id":n,"@graph":[]};const s=i["@graph"];for(const e of Object.keys(r).sort()){const t=r[e];o.isSubjectReference(t)||s.push(t)}}return t}},34089:(e,t,r)=>{"use strict";const n=r(90241),o={};e.exports=o,o.setupDocumentLoaders=function(e){"undefined"!=typeof XMLHttpRequest&&(e.documentLoaders.xhr=n,e.useDocumentLoader("xhr"))},o.setupGlobals=function(e){void 0===globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})}},70923:(e,t,r)=>{"use strict";const{createNodeMap:n}=r(49163),{isKeyword:o}=r(64659),i=r(47066),s=r(74772),a=r(62100),c=r(26984),{RDF_FIRST:l,RDF_REST:u,RDF_NIL:f,RDF_TYPE:p,RDF_JSON_LITERAL:h,RDF_LANGSTRING:d,XSD_BOOLEAN:v,XSD_DOUBLE:y,XSD_INTEGER:g,XSD_STRING:m}=r(87364),{isAbsolute:b}=r(5994),w={};function x(e,t,r,n,i){const s=Object.keys(t).sort();for(const a of s){const s=t[a],c=Object.keys(s).sort();for(let t of c){const c=s[t];if("@type"===t)t=p;else if(o(t))continue;for(const o of c){const s={termType:a.startsWith("_:")?"BlankNode":"NamedNode",value:a};if(!b(a))continue;const c={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!b(t))continue;if("BlankNode"===c.termType&&!i.produceGeneralizedRdf)continue;const l=E(o,n,e,r,i.rdfDirection);l&&e.push({subject:s,predicate:c,object:l,graph:r})}}}}function E(e,t,r,n,o){const c={};if(i.isValue(e)){c.termType="Literal",c.value=void 0,c.datatype={termType:"NamedNode"};let t=e["@value"];const r=e["@type"]||null;if("@json"===r)c.value=s(t),c.datatype.value=h;else if(a.isBoolean(t))c.value=t.toString(),c.datatype.value=r||v;else if(a.isDouble(t)||r===y)a.isDouble(t)||(t=parseFloat(t)),c.value=t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),c.datatype.value=r||y;else if(a.isNumber(t))c.value=t.toFixed(0),c.datatype.value=r||g;else if("i18n-datatype"===o&&"@direction"in e){const r="https://www.w3.org/ns/i18n#"+(e["@language"]||"")+`_${e["@direction"]}`;c.datatype.value=r,c.value=t}else"@language"in e?(c.value=t,c.datatype.value=r||d,c.language=e["@language"]):(c.value=t,c.datatype.value=r||m)}else if(i.isList(e)){const i=function(e,t,r,n,o){const i={termType:"NamedNode",value:l},s={termType:"NamedNode",value:u},a={termType:"NamedNode",value:f},c=e.pop(),p=c?{termType:"BlankNode",value:t.getId()}:a;let h=p;for(const a of e){const e=E(a,t,r,n,o),c={termType:"BlankNode",value:t.getId()};r.push({subject:h,predicate:i,object:e,graph:n}),r.push({subject:h,predicate:s,object:c,graph:n}),h=c}if(c){const e=E(c,t,r,n,o);r.push({subject:h,predicate:i,object:e,graph:n}),r.push({subject:h,predicate:s,object:a,graph:n})}return p}(e["@list"],t,r,n,o);c.termType=i.termType,c.value=i.value}else{const t=a.isObject(e)?e["@id"]:e;c.termType=t.startsWith("_:")?"BlankNode":"NamedNode",c.value=t}return"NamedNode"!==c.termType||b(c.value)?c:null}e.exports=w,w.toRDF=(e,t)=>{const r=new c.IdentifierIssuer("_:b"),o={"@default":{}};n(e,o,"@default",r);const i=[],s=Object.keys(o).sort();for(const e of s){let n;if("@default"===e)n={termType:"DefaultGraph",value:""};else{if(!b(e))continue;n=e.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},n.value=e}x(i,o[e],n,r,t)}return i}},62100:e=>{"use strict";const t={};e.exports=t,t.isArray=Array.isArray,t.isBoolean=e=>"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e),t.isDouble=e=>t.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21),t.isEmptyObject=e=>t.isObject(e)&&0===Object.keys(e).length,t.isNumber=e=>"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e),t.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),t.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),t.isString=e=>"string"==typeof e||"[object String]"===Object.prototype.toString.call(e),t.isUndefined=e=>void 0===e},5994:(e,t,r)=>{"use strict";const n=r(62100),o={};e.exports=o,o.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},o.parse=(e,t)=>{const r={},n=o.parsers[t||"full"],i=n.regex.exec(e);let s=n.keys.length;for(;s--;)r[n.keys[s]]=void 0===i[s]?null:i[s];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=o.removeDotSegments(r.path),r},o.prependBase=(e,t)=>{if(null===e)return t;if(o.isAbsolute(t))return t;e&&!n.isString(e)||(e=o.parse(e||""));const r=o.parse(t),i={protocol:e.protocol||""};if(null!==r.authority)i.authority=r.authority,i.path=r.path,i.query=r.query;else if(i.authority=e.authority,""===r.path)i.path=e.path,null!==r.query?i.query=r.query:i.query=e.query;else{if(0===r.path.indexOf("/"))i.path=r.path;else{let t=e.path;t=t.substr(0,t.lastIndexOf("/")+1),(t.length>0||e.authority)&&"/"!==t.substr(-1)&&(t+="/"),t+=r.path,i.path=t}i.query=r.query}""!==r.path&&(i.path=o.removeDotSegments(i.path));let s=i.protocol;return null!==i.authority&&(s+="//"+i.authority),s+=i.path,null!==i.query&&(s+="?"+i.query),null!==r.fragment&&(s+="#"+r.fragment),""===s&&(s="./"),s},o.removeBase=(e,t)=>{if(null===e)return t;e&&!n.isString(e)||(e=o.parse(e||""));let r="";if(""!==e.href?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),0!==t.indexOf(r))return t;const i=o.parse(t.substr(r.length)),s=e.normalizedPath.split("/"),a=i.normalizedPath.split("/"),c=i.fragment||i.query?0:1;for(;s.length>0&&a.length>c&&s[0]===a[0];)s.shift(),a.shift();let l="";if(s.length>0){s.pop();for(let e=0;e<s.length;++e)l+="../"}return l+=a.join("/"),null!==i.query&&(l+="?"+i.query),null!==i.fragment&&(l+="#"+i.fragment),""===l&&(l="./"),l},o.removeDotSegments=e=>{if(0===e.length)return"";const t=e.split("/"),r=[];for(;t.length>0;){const e=t.shift(),n=0===t.length;"."!==e?".."!==e?r.push(e):(r.pop(),n&&r.push("")):n&&r.push("")}return"/"===e[0]&&r.length>0&&""!==r[0]&&r.unshift(""),1===r.length&&""===r[0]?"/":r.join("/")};const i=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;o.isAbsolute=e=>n.isString(e)&&i.test(e),o.isRelative=e=>n.isString(e)},26984:(e,t,r)=>{"use strict";const n=r(47066),o=r(62100),i=r(168).IdentifierIssuer,s=r(39033),a=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,c=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,l=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,u="application/ld+json, application/json",f={};function p(e,t){if(o.isArray(t))for(let r=0;r<t.length;++r)t[r]=p(e,t[r]);else if(n.isList(t))t["@list"]=p(e,t["@list"]);else if(o.isObject(t)){n.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const r=Object.keys(t).sort();for(let n=0;n<r.length;++n){const o=r[n];"@id"!==o&&(t[o]=p(e,t[o]))}}return t}e.exports=f,f.IdentifierIssuer=i,f.clone=function(e){if(e&&"object"==typeof e){let t;if(o.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=f.clone(e[r])}else if(e instanceof Map){t=new Map;for(const[r,n]of e)t.set(r,f.clone(n))}else if(e instanceof Set){t=new Set;for(const r of e)t.add(f.clone(r))}else if(o.isObject(e)){t={};for(const r in e)t[r]=f.clone(e[r])}else t=e.toString();return t}return e},f.asArray=function(e){return Array.isArray(e)?e:[e]},f.buildHeaders=(e={})=>{if(Object.keys(e).some((e=>"accept"===e.toLowerCase())))throw new RangeError('Accept header may not be specified; only "'+u+'" is supported.');return Object.assign({Accept:u},e)},f.parseLinkHeader=e=>{const t={},r=e.match(a);for(let e=0;e<r.length;++e){let n=r[e].match(c);if(!n)continue;const o={target:n[1]},i=n[2];for(;n=l.exec(i);)o[n[1]]=void 0===n[2]?n[3]:n[2];const s=o.rel||"";Array.isArray(t[s])?t[s].push(o):t.hasOwnProperty(s)?t[s]=[t[s],o]:t[s]=o}return t},f.validateTypeValue=(e,t)=>{if(!(o.isString(e)||o.isArray(e)&&e.every((e=>o.isString(e))))){if(t&&o.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&f.asArray(e["@default"]).every((e=>o.isString(e))))return}throw new s('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},f.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const r=e[t];return!o.isArray(r)||r.length>0}return!1},f.hasValue=(e,t,r)=>{if(f.hasProperty(e,t)){let i=e[t];const s=n.isList(i);if(o.isArray(i)||s){s&&(i=i["@list"]);for(let e=0;e<i.length;++e)if(f.compareValues(r,i[e]))return!0}else if(!o.isArray(r))return f.compareValues(r,i)}return!1},f.addValue=(e,t,r,n)=>{if("propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)e[t]=r;else if(o.isArray(r)){0===r.length&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),n.prependValue&&(r=r.concat(e[t]),e[t]=[]);for(let o=0;o<r.length;++o)f.addValue(e,t,r[o],n)}else if(e.hasOwnProperty(t)){const i=!n.allowDuplicate&&f.hasValue(e,t,r);o.isArray(e[t])||i&&!n.propertyIsArray||(e[t]=[e[t]]),i||(n.prependValue?e[t].unshift(r):e[t].push(r))}else e[t]=n.propertyIsArray?[r]:r},f.getValues=(e,t)=>[].concat(e[t]||[]),f.removeProperty=(e,t)=>{delete e[t]},f.removeValue=(e,t,r,n)=>{"propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1);const o=f.getValues(e,t).filter((e=>!f.compareValues(e,r)));0===o.length?f.removeProperty(e,t):1!==o.length||n.propertyIsArray?e[t]=o:e[t]=o[0]},f.relabelBlankNodes=(e,t)=>p((t=t||{}).issuer||new i("_:b"),e),f.compareValues=(e,t)=>e===t||!(!n.isValue(e)||!n.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(o.isObject(e)&&"@id"in e&&o.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"],f.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1},1220:(e,t,r)=>{"use strict";const n=r(82111),o=Symbol("max"),i=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),c=Symbol("maxAge"),l=Symbol("dispose"),u=Symbol("noDisposeOnSet"),f=Symbol("lruList"),p=Symbol("cache"),h=Symbol("updateAgeOnGet"),d=()=>1,v=(e,t,r)=>{const n=e[p].get(t);if(n){const t=n.value;if(y(e,t)){if(m(e,n),!e[a])return}else r&&(e[h]&&(n.value.now=Date.now()),e[f].unshiftNode(n));return t.value}},y=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[c]&&r>e[c]},g=e=>{if(e[i]>e[o])for(let t=e[f].tail;e[i]>e[o]&&null!==t;){const r=t.prev;m(e,t),t=r}},m=(e,t)=>{if(t){const r=t.value;e[l]&&e[l](r.key,r.value),e[i]-=r.length,e[p].delete(r.key),e[f].removeNode(t)}};class b{constructor(e,t,r,n,o){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=o||0}}const w=(e,t,r,n)=>{let o=r.value;y(e,o)&&(m(e,r),e[a]||(o=void 0)),o&&t.call(n,o.value,o.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[o]=e.max||1/0;const t=e.length||d;if(this[s]="function"!=typeof t?d:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[l]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,g(this)}get max(){return this[o]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,g(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=d),e!==this[s]&&(this[s]=e,this[i]=0,this[f].forEach((e=>{e.length=this[s](e.value,e.key),this[i]+=e.length}))),g(this)}get lengthCalculator(){return this[s]}get length(){return this[i]}get itemCount(){return this[f].length}rforEach(e,t){t=t||this;for(let r=this[f].tail;null!==r;){const n=r.prev;w(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[f].head;null!==r;){const n=r.next;w(this,e,r,t),r=n}}keys(){return this[f].toArray().map((e=>e.key))}values(){return this[f].toArray().map((e=>e.value))}reset(){this[l]&&this[f]&&this[f].length&&this[f].forEach((e=>this[l](e.key,e.value))),this[p]=new Map,this[f]=new n,this[i]=0}dump(){return this[f].map((e=>!y(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[f]}set(e,t,r){if((r=r||this[c])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,a=this[s](t,e);if(this[p].has(e)){if(a>this[o])return m(this,this[p].get(e)),!1;const s=this[p].get(e).value;return this[l]&&(this[u]||this[l](e,s.value)),s.now=n,s.maxAge=r,s.value=t,this[i]+=a-s.length,s.length=a,this.get(e),g(this),!0}const h=new b(e,t,a,n,r);return h.length>this[o]?(this[l]&&this[l](e,t),!1):(this[i]+=h.length,this[f].unshift(h),this[p].set(e,this[f].head),g(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!y(this,t)}get(e){return v(this,e,!0)}peek(e){return v(this,e,!1)}pop(){const e=this[f].tail;return e?(m(this,e),e.value):null}del(e){m(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],o=n.e||0;if(0===o)this.set(n.k,n.v);else{const e=o-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[p].forEach(((e,t)=>v(this,t,!1)))}}},13967:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},82111:(e,t,r)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,o=arguments.length;r<o;r++)t.push(arguments[r]);return t}function o(e,t,r){var n=t===e.head?new a(r,null,t,e):new a(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function i(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,o=this.head;null!==o;)r.push(e.call(t,o.value,this)),o=o.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,o=this.tail;null!==o;)r.push(e.call(t,o.value,this)),o=o.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var o=0;null!==n;o++)r=e(r,n.value,o),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var o=this.length-1;null!==n;o--)r=e(r,n.value,o),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<t;o++,i=i.next)r.push(i.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,i=this.tail;null!==i&&o>t;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)r.push(i.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;null!==i&&n<e;n++)i=i.next;var s=[];for(n=0;i&&n<t;n++)s.push(i.value),i=this.removeNode(i);for(null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev),n=0;n<r.length;n++)i=o(this,i,r[n]);return s},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(13967)(n)}catch(e){}},30155:(e,t,r)=>{var n=r(29021);e.exports=function(e,t){t=t||{};var r=n.decode(e,t);if(!r)return null;var o=r.payload;if("string"==typeof o)try{var i=JSON.parse(o);null!==i&&"object"==typeof i&&(o=i)}catch(e){}return!0===t.complete?{header:r.header,payload:o,signature:r.signature}:o}},27909:(e,t,r)=>{e.exports={decode:r(30155),verify:r(96495),sign:r(23631),JsonWebTokenError:r(46880),NotBeforeError:r(21681),TokenExpiredError:r(39220)}},46880:e=>{var t=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};(t.prototype=Object.create(Error.prototype)).constructor=t,e.exports=t},21681:(e,t,r)=>{var n=r(46880),o=function(e,t){n.call(this,e),this.name="NotBeforeError",this.date=t};(o.prototype=Object.create(n.prototype)).constructor=o,e.exports=o},39220:(e,t,r)=>{var n=r(46880),o=function(e,t){n.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};(o.prototype=Object.create(n.prototype)).constructor=o,e.exports=o},21615:(e,t,r)=>{var n=r(27061);const o=r(98116);e.exports=o.satisfies(n.version,">=15.7.0")},58865:(e,t,r)=>{var n=r(27061),o=r(98116);e.exports=o.satisfies(n.version,"^6.12.0 || >=8.0.0")},54416:(e,t,r)=>{var n=r(27061);const o=r(98116);e.exports=o.satisfies(n.version,">=16.9.0")},8915:(e,t,r)=>{var n=r(48628);e.exports=function(e,t){var r=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var o=n(e);if(void 0===o)return;return Math.floor(r+o/1e3)}return"number"==typeof e?r+e:void 0}},19102:(e,t,r)=>{const n=r(21615),o=r(54416),i={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},s={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};e.exports=function(e,t){if(!e||!t)return;const r=t.asymmetricKeyType;if(!r)return;const a=i[r];if(!a)throw new Error(`Unknown key type "${r}".`);if(!a.includes(e))throw new Error(`"alg" parameter for "${r}" key type must be one of: ${a.join(", ")}.`);if(n)switch(r){case"ec":const r=t.asymmetricKeyDetails.namedCurve,n=s[e];if(r!==n)throw new Error(`"alg" parameter "${e}" requires curve "${n}".`);break;case"rsa-pss":if(o){const r=parseInt(e.slice(-3),10),{hashAlgorithm:n,mgf1HashAlgorithm:o,saltLength:i}=t.asymmetricKeyDetails;if(n!==`sha${r}`||o!==n)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(void 0!==i&&i>r>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}}}},77538:(e,t,r)=>{"use strict";const n=r(5891),o=Symbol("max"),i=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),c=Symbol("maxAge"),l=Symbol("dispose"),u=Symbol("noDisposeOnSet"),f=Symbol("lruList"),p=Symbol("cache"),h=Symbol("updateAgeOnGet"),d=()=>1,v=(e,t,r)=>{const n=e[p].get(t);if(n){const t=n.value;if(y(e,t)){if(m(e,n),!e[a])return}else r&&(e[h]&&(n.value.now=Date.now()),e[f].unshiftNode(n));return t.value}},y=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[c]&&r>e[c]},g=e=>{if(e[i]>e[o])for(let t=e[f].tail;e[i]>e[o]&&null!==t;){const r=t.prev;m(e,t),t=r}},m=(e,t)=>{if(t){const r=t.value;e[l]&&e[l](r.key,r.value),e[i]-=r.length,e[p].delete(r.key),e[f].removeNode(t)}};class b{constructor(e,t,r,n,o){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=o||0}}const w=(e,t,r,n)=>{let o=r.value;y(e,o)&&(m(e,r),e[a]||(o=void 0)),o&&t.call(n,o.value,o.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[o]=e.max||1/0;const t=e.length||d;if(this[s]="function"!=typeof t?d:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[l]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,g(this)}get max(){return this[o]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,g(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=d),e!==this[s]&&(this[s]=e,this[i]=0,this[f].forEach((e=>{e.length=this[s](e.value,e.key),this[i]+=e.length}))),g(this)}get lengthCalculator(){return this[s]}get length(){return this[i]}get itemCount(){return this[f].length}rforEach(e,t){t=t||this;for(let r=this[f].tail;null!==r;){const n=r.prev;w(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[f].head;null!==r;){const n=r.next;w(this,e,r,t),r=n}}keys(){return this[f].toArray().map((e=>e.key))}values(){return this[f].toArray().map((e=>e.value))}reset(){this[l]&&this[f]&&this[f].length&&this[f].forEach((e=>this[l](e.key,e.value))),this[p]=new Map,this[f]=new n,this[i]=0}dump(){return this[f].map((e=>!y(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[f]}set(e,t,r){if((r=r||this[c])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,a=this[s](t,e);if(this[p].has(e)){if(a>this[o])return m(this,this[p].get(e)),!1;const s=this[p].get(e).value;return this[l]&&(this[u]||this[l](e,s.value)),s.now=n,s.maxAge=r,s.value=t,this[i]+=a-s.length,s.length=a,this.get(e),g(this),!0}const h=new b(e,t,a,n,r);return h.length>this[o]?(this[l]&&this[l](e,t),!1):(this[i]+=h.length,this[f].unshift(h),this[p].set(e,this[f].head),g(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!y(this,t)}get(e){return v(this,e,!0)}peek(e){return v(this,e,!1)}pop(){const e=this[f].tail;return e?(m(this,e),e.value):null}del(e){m(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],o=n.e||0;if(0===o)this.set(n.k,n.v);else{const e=o-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[p].forEach(((e,t)=>v(this,t,!1)))}}},38941:(e,t,r)=>{const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=i(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new f(e.value,t).test(this.value):""===e.operator?""===e.value||new f(this.value,t).test(e.semver):!((t=i(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=o;const i=r(92567),{safeRe:s,t:a}=r(30090),c=r(69544),l=r(79800),u=r(40234),f=r(93844)},93844:(e,t,r)=>{class n{constructor(e,t){if(t=i(t),e instanceof n)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new n(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!y(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&g(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&d)|(this.options.loose&&v))+":"+e,r=o.get(t);if(r)return r;const n=this.options.loose,i=n?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];e=e.replace(i,R(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(l[u.COMPARATORTRIM],f),a("comparator trim",e),e=e.replace(l[u.TILDETRIM],p),a("tilde trim",e),e=e.replace(l[u.CARETTRIM],h),a("caret trim",e);let c=e.split(" ").map((e=>b(e,this.options))).join(" ").split(/\s+/).map((e=>I(e,this.options)));n&&(c=c.filter((e=>(a("loose invalid filter",e,this.options),!!e.match(l[u.COMPARATORLOOSE]))))),a("range list",c);const g=new Map,m=c.map((e=>new s(e,this.options)));for(const e of m){if(y(e))return[e];g.set(e.value,e)}g.size>1&&g.has("")&&g.delete("");const w=[...g.values()];return o.set(t,w),w}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Range is required");return this.set.some((r=>m(r,t)&&e.set.some((e=>m(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(T(this.set[t],e,this.options))return!0;return!1}}e.exports=n;const o=new(r(77538))({max:1e3}),i=r(92567),s=r(38941),a=r(79800),c=r(40234),{safeRe:l,t:u,comparatorTrimReplace:f,tildeTrimReplace:p,caretTrimReplace:h}=r(30090),{FLAG_INCLUDE_PRERELEASE:d,FLAG_LOOSE:v}=r(70234),y=e=>"<0.0.0-0"===e.value,g=e=>""===e.value,m=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every((e=>o.intersects(e,t))),o=n.pop();return r},b=(e,t)=>(a("comp",e,t),e=_(e,t),a("caret",e),e=x(e,t),a("tildes",e),e=O(e,t),a("xrange",e),e=A(e,t),a("stars",e),e),w=e=>!e||"x"===e.toLowerCase()||"*"===e,x=(e,t)=>e.trim().split(/\s+/).map((e=>E(e,t))).join(" "),E=(e,t)=>{const r=t.loose?l[u.TILDELOOSE]:l[u.TILDE];return e.replace(r,((t,r,n,o,i)=>{let s;return a("tilde",e,t,r,n,o,i),w(r)?s="":w(n)?s=`>=${r}.0.0 <${+r+1}.0.0-0`:w(o)?s=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:i?(a("replaceTilde pr",i),s=`>=${r}.${n}.${o}-${i} <${r}.${+n+1}.0-0`):s=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,a("tilde return",s),s}))},_=(e,t)=>e.trim().split(/\s+/).map((e=>S(e,t))).join(" "),S=(e,t)=>{a("caret",e,t);const r=t.loose?l[u.CARETLOOSE]:l[u.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,i,s)=>{let c;return a("caret",e,t,r,o,i,s),w(r)?c="":w(o)?c=`>=${r}.0.0${n} <${+r+1}.0.0-0`:w(i)?c="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:s?(a("replaceCaret pr",s),c="0"===r?"0"===o?`>=${r}.${o}.${i}-${s} <${r}.${o}.${+i+1}-0`:`>=${r}.${o}.${i}-${s} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${i}-${s} <${+r+1}.0.0-0`):(a("no pr"),c="0"===r?"0"===o?`>=${r}.${o}.${i}${n} <${r}.${o}.${+i+1}-0`:`>=${r}.${o}.${i}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${i} <${+r+1}.0.0-0`),a("caret return",c),c}))},O=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>j(e,t))).join(" ")),j=(e,t)=>{e=e.trim();const r=t.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return e.replace(r,((r,n,o,i,s,c)=>{a("xRange",e,r,n,o,i,s,c);const l=w(o),u=l||w(i),f=u||w(s),p=f;return"="===n&&p&&(n=""),c=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&p?(u&&(i=0),s=0,">"===n?(n=">=",u?(o=+o+1,i=0,s=0):(i=+i+1,s=0)):"<="===n&&(n="<",u?o=+o+1:i=+i+1),"<"===n&&(c="-0"),r=`${n+o}.${i}.${s}${c}`):u?r=`>=${o}.0.0${c} <${+o+1}.0.0-0`:f&&(r=`>=${o}.${i}.0${c} <${o}.${+i+1}.0-0`),a("xRange return",r),r}))},A=(e,t)=>(a("replaceStars",e,t),e.trim().replace(l[u.STAR],"")),I=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),R=e=>(t,r,n,o,i,s,a,c,l,u,f,p,h)=>`${r=w(n)?"":w(o)?`>=${n}.0.0${e?"-0":""}`:w(i)?`>=${n}.${o}.0${e?"-0":""}`:s?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=w(l)?"":w(u)?`<${+l+1}.0.0-0`:w(f)?`<${l}.${+u+1}.0-0`:p?`<=${l}.${u}.${f}-${p}`:e?`<${l}.${u}.${+f+1}-0`:`<=${c}`}`.trim(),T=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(a(e[r].semver),e[r].semver!==s.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},40234:(e,t,r)=>{const n=r(79800),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=r(70234),{safeRe:s,t:a}=r(30090),c=r(92567),{compareIdentifiers:l}=r(71121);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},76756:(e,t,r)=>{const n=r(8322);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},69544:(e,t,r)=>{const n=r(19098),o=r(75457),i=r(88196),s=r(36640),a=r(48752),c=r(45488);e.exports=(e,t,r,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,l);case"!=":return o(e,r,l);case">":return i(e,r,l);case">=":return s(e,r,l);case"<":return a(e,r,l);case"<=":return c(e,r,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},20811:(e,t,r)=>{const n=r(40234),o=r(8322),{safeRe:i,t:s}=r(30090);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=i[s.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),i[s.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;i[s.COERCERTL].lastIndex=-1}else r=e.match(i[s.COERCE]);return null===r?null:o(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)}},91490:(e,t,r)=>{const n=r(40234);e.exports=(e,t,r)=>{const o=new n(e,r),i=new n(t,r);return o.compare(i)||o.compareBuild(i)}},65060:(e,t,r)=>{const n=r(34927);e.exports=(e,t)=>n(e,t,!0)},34927:(e,t,r)=>{const n=r(40234);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},56260:(e,t,r)=>{const n=r(8322);e.exports=(e,t)=>{const r=n(e,null,!0),o=n(t,null,!0),i=r.compare(o);if(0===i)return null;const s=i>0,a=s?r:o,c=s?o:r,l=!!a.prerelease.length;if(c.prerelease.length&&!l)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=l?"pre":"";return r.major!==o.major?u+"major":r.minor!==o.minor?u+"minor":r.patch!==o.patch?u+"patch":"prerelease"}},19098:(e,t,r)=>{const n=r(34927);e.exports=(e,t,r)=>0===n(e,t,r)},88196:(e,t,r)=>{const n=r(34927);e.exports=(e,t,r)=>n(e,t,r)>0},36640:(e,t,r)=>{const n=r(34927);e.exports=(e,t,r)=>n(e,t,r)>=0},59492:(e,t,r)=>{const n=r(40234);e.exports=(e,t,r,o,i)=>{"string"==typeof r&&(i=o,o=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,o,i).version}catch(e){return null}}},48752:(e,t,r)=>{const n=r(34927);e.exports=(e,t,r)=>n(e,t,r)<0},45488:(e,t,r)=>{const n=r(34927);e.exports=(e,t,r)=>n(e,t,r)<=0},81925:(e,t,r)=>{const n=r(40234);e.exports=(e,t)=>new n(e,t).major},88588:(e,t,r)=>{const n=r(40234);e.exports=(e,t)=>new n(e,t).minor},75457:(e,t,r)=>{const n=r(34927);e.exports=(e,t,r)=>0!==n(e,t,r)},8322:(e,t,r)=>{const n=r(40234);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},14935:(e,t,r)=>{const n=r(40234);e.exports=(e,t)=>new n(e,t).patch},69207:(e,t,r)=>{const n=r(8322);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},97704:(e,t,r)=>{const n=r(34927);e.exports=(e,t,r)=>n(t,e,r)},8443:(e,t,r)=>{const n=r(91490);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},32070:(e,t,r)=>{const n=r(93844);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},50394:(e,t,r)=>{const n=r(91490);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},17995:(e,t,r)=>{const n=r(8322);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},98116:(e,t,r)=>{const n=r(30090),o=r(70234),i=r(40234),s=r(71121),a=r(8322),c=r(17995),l=r(76756),u=r(59492),f=r(56260),p=r(81925),h=r(88588),d=r(14935),v=r(69207),y=r(34927),g=r(97704),m=r(65060),b=r(91490),w=r(50394),x=r(8443),E=r(88196),_=r(48752),S=r(19098),O=r(75457),j=r(36640),A=r(45488),I=r(69544),R=r(20811),T=r(38941),L=r(93844),k=r(32070),N=r(35243),C=r(94913),P=r(92275),D=r(86624),M=r(45537),$=r(88650),U=r(70036),F=r(70042),B=r(49805),J=r(19910),q=r(62903);e.exports={parse:a,valid:c,clean:l,inc:u,diff:f,major:p,minor:h,patch:d,prerelease:v,compare:y,rcompare:g,compareLoose:m,compareBuild:b,sort:w,rsort:x,gt:E,lt:_,eq:S,neq:O,gte:j,lte:A,cmp:I,coerce:R,Comparator:T,Range:L,satisfies:k,toComparators:N,maxSatisfying:C,minSatisfying:P,minVersion:D,validRange:M,outside:$,gtr:U,ltr:F,intersects:B,simplifyRange:J,subset:q,SemVer:i,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},70234:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},79800:(e,t,r)=>{const n="object"==typeof r(27061)&&{NODE_ENV:"production",IS_EXTENSION:!0,PLATFORM:"extension-firefox",npm_package_version:"5.1.0",NETWORK:void 0,RUNNING_IN_TESTS:!1,COMMIT_HASH:"7cb2ab579617e2657b6c6a1bdcd62bdc5f54f3d5"}.NODE_DEBUG&&/\bsemver\b/i.test({NODE_ENV:"production",IS_EXTENSION:!0,PLATFORM:"extension-firefox",npm_package_version:"5.1.0",NETWORK:void 0,RUNNING_IN_TESTS:!1,COMMIT_HASH:"7cb2ab579617e2657b6c6a1bdcd62bdc5f54f3d5"}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=n},71121:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},92567:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},30090:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:i}=r(70234),s=r(79800),a=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],u=t.t={};let f=0;const p="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[p,o]],d=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),o=f++;s(e,o,t),u[e]=o,l[o]=t,a[o]=new RegExp(t,r?"g":void 0),c[o]=new RegExp(n,r?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","\\d+"),d("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),d("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),d("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),d("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),d("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),d("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),d("BUILDIDENTIFIER",`${p}+`),d("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),d("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),d("FULL",`^${l[u.FULLPLAIN]}$`),d("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),d("LOOSE",`^${l[u.LOOSEPLAIN]}$`),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),d("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),d("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),d("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),d("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),d("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),d("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),d("COERCERTL",l[u.COERCE],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",d("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),d("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),d("LONECARET","(?:\\^)"),d("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",d("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),d("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),d("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),d("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),d("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),d("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},70036:(e,t,r)=>{const n=r(88650);e.exports=(e,t,r)=>n(e,t,">",r)},49805:(e,t,r)=>{const n=r(93844);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},70042:(e,t,r)=>{const n=r(88650);e.exports=(e,t,r)=>n(e,t,"<",r)},94913:(e,t,r)=>{const n=r(40234),o=r(93844);e.exports=(e,t,r)=>{let i=null,s=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(i&&-1!==s.compare(e)||(i=e,s=new n(i,r)))})),i}},92275:(e,t,r)=>{const n=r(40234),o=r(93844);e.exports=(e,t,r)=>{let i=null,s=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(i&&1!==s.compare(e)||(i=e,s=new n(i,r)))})),i}},86624:(e,t,r)=>{const n=r(40234),o=r(93844),i=r(88196);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let s=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!i(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||r&&!i(r,s)||(r=s)}return r&&e.test(r)?r:null}},88650:(e,t,r)=>{const n=r(40234),o=r(38941),{ANY:i}=o,s=r(93844),a=r(32070),c=r(88196),l=r(48752),u=r(45488),f=r(36640);e.exports=(e,t,r,p)=>{let h,d,v,y,g;switch(e=new n(e,p),t=new s(t,p),r){case">":h=c,d=u,v=l,y=">",g=">=";break;case"<":h=l,d=f,v=c,y="<",g="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,p))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let s=null,a=null;if(n.forEach((e=>{e.semver===i&&(e=new o(">=0.0.0")),s=s||e,a=a||e,h(e.semver,s.semver,p)?s=e:v(e.semver,a.semver,p)&&(a=e)})),s.operator===y||s.operator===g)return!1;if((!a.operator||a.operator===y)&&d(e,a.semver))return!1;if(a.operator===g&&v(e,a.semver))return!1}return!0}},19910:(e,t,r)=>{const n=r(32070),o=r(34927);e.exports=(e,t,r)=>{const i=[];let s=null,a=null;const c=e.sort(((e,t)=>o(e,t,r)));for(const e of c)n(e,t,r)?(a=e,s||(s=e)):(a&&i.push([s,a]),a=null,s=null);s&&i.push([s,null]);const l=[];for(const[e,t]of i)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),f="string"==typeof t.raw?t.raw:String(t);return u.length<f.length?u:t}},62903:(e,t,r)=>{const n=r(93844),o=r(38941),{ANY:i}=o,s=r(32070),a=r(34927),c=[new o(">=0.0.0-0")],l=[new o(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===i){if(1===t.length&&t[0].semver===i)return!0;e=r.includePrerelease?c:l}if(1===t.length&&t[0].semver===i){if(r.includePrerelease)return!0;t=l}const n=new Set;let o,u,h,d,v,y,g;for(const t of e)">"===t.operator||">="===t.operator?o=f(o,t,r):"<"===t.operator||"<="===t.operator?u=p(u,t,r):n.add(t.semver);if(n.size>1)return null;if(o&&u){if(h=a(o.semver,u.semver,r),h>0)return null;if(0===h&&(">="!==o.operator||"<="!==u.operator))return null}for(const e of n){if(o&&!s(e,String(o),r))return null;if(u&&!s(e,String(u),r))return null;for(const n of t)if(!s(e,String(n),r))return!1;return!0}let m=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,b=!(!o||r.includePrerelease||!o.semver.prerelease.length)&&o.semver;m&&1===m.prerelease.length&&"<"===u.operator&&0===m.prerelease[0]&&(m=!1);for(const e of t){if(g=g||">"===e.operator||">="===e.operator,y=y||"<"===e.operator||"<="===e.operator,o)if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if(d=f(o,e,r),d===e&&d!==o)return!1}else if(">="===o.operator&&!s(o.semver,String(e),r))return!1;if(u)if(m&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===m.major&&e.semver.minor===m.minor&&e.semver.patch===m.patch&&(m=!1),"<"===e.operator||"<="===e.operator){if(v=p(u,e,r),v===e&&v!==u)return!1}else if("<="===u.operator&&!s(u.semver,String(e),r))return!1;if(!e.operator&&(u||o)&&0!==h)return!1}return!(o&&y&&!u&&0!==h||u&&g&&!o&&0!==h||b||m)},f=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},p=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=u(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},35243:(e,t,r)=>{const n=r(93844);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},45537:(e,t,r)=>{const n=r(93844);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},15386:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},5891:(e,t,r)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,o=arguments.length;r<o;r++)t.push(arguments[r]);return t}function o(e,t,r){var n=t===e.head?new a(r,null,t,e):new a(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function i(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,o=this.head;null!==o;)r.push(e.call(t,o.value,this)),o=o.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,o=this.tail;null!==o;)r.push(e.call(t,o.value,this)),o=o.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var o=0;null!==n;o++)r=e(r,n.value,o),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var o=this.length-1;null!==n;o--)r=e(r,n.value,o),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<t;o++,i=i.next)r.push(i.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,i=this.tail;null!==i&&o>t;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)r.push(i.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;null!==i&&n<e;n++)i=i.next;var s=[];for(n=0;i&&n<t;n++)s.push(i.value),i=this.removeNode(i);for(null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev),n=0;n<r.length;n++)i=o(this,i,r[n]);return s},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(15386)(n)}catch(e){}},23631:(e,t,r)=>{var n=r(5966).lW;const o=r(8915),i=r(58865),s=r(19102),a=r(29021),c=r(87213),l=r(54314),u=r(56771),f=r(21517),p=r(83261),h=r(11451),d=r(47226),{KeyObject:v,createSecretKey:y,createPrivateKey:g}=r(57933),m=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];i&&m.splice(3,0,"PS256","PS384","PS512");const b={expiresIn:{isValid:function(e){return u(e)||h(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return u(e)||h(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return h(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:c.bind(null,m),message:'"algorithm" must be a valid string enum value'},header:{isValid:p,message:'"header" must be an object'},encoding:{isValid:h,message:'"encoding" must be a string'},issuer:{isValid:h,message:'"issuer" must be a string'},subject:{isValid:h,message:'"subject" must be a string'},jwtid:{isValid:h,message:'"jwtid" must be a string'},noTimestamp:{isValid:l,message:'"noTimestamp" must be a boolean'},keyid:{isValid:h,message:'"keyid" must be a string'},mutatePayload:{isValid:l,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:l,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:l,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},w={iat:{isValid:f,message:'"iat" should be a number of seconds'},exp:{isValid:f,message:'"exp" should be a number of seconds'},nbf:{isValid:f,message:'"nbf" should be a number of seconds'}};function x(e,t,r,n){if(!p(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach((function(o){const i=e[o];if(i){if(!i.isValid(r[o]))throw new Error(i.message)}else if(!t)throw new Error('"'+o+'" is not allowed in "'+n+'"')}))}const E={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},_=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,r,i){"function"==typeof r?(i=r,r={}):r=r||{};const c="object"==typeof e&&!n.isBuffer(e),l=Object.assign({alg:r.algorithm||"HS256",typ:c?"JWT":void 0,kid:r.keyid},r.header);function u(e){if(i)return i(e);throw e}if(!t&&"none"!==r.algorithm)return u(new Error("secretOrPrivateKey must have a value"));if(null!=t&&!(t instanceof v))try{t=g(t)}catch(e){try{t=y("string"==typeof t?n.from(t):t)}catch(e){return u(new Error("secretOrPrivateKey is not valid key material"))}}if(l.alg.startsWith("HS")&&"secret"!==t.type)return u(new Error(`secretOrPrivateKey must be a symmetric key when using ${l.alg}`));if(/^(?:RS|PS|ES)/.test(l.alg)){if("private"!==t.type)return u(new Error(`secretOrPrivateKey must be an asymmetric key when using ${l.alg}`));if(!r.allowInsecureKeySizes&&!l.alg.startsWith("ES")&&void 0!==t.asymmetricKeyDetails&&t.asymmetricKeyDetails.modulusLength<2048)return u(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${l.alg}`))}if(void 0===e)return u(new Error("payload is required"));if(c){try{!function(e){x(w,!0,e,"payload")}(e)}catch(e){return u(e)}r.mutatePayload||(e=Object.assign({},e))}else{const t=_.filter((function(e){return void 0!==r[e]}));if(t.length>0)return u(new Error("invalid "+t.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==r.expiresIn)return u(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==r.notBefore)return u(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{!function(e){x(b,!1,e,"options")}(r)}catch(e){return u(e)}if(!r.allowInvalidAsymmetricKeyTypes)try{s(l.alg,t)}catch(e){return u(e)}const f=e.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete e.iat:c&&(e.iat=f),void 0!==r.notBefore){try{e.nbf=o(r.notBefore,f)}catch(e){return u(e)}if(void 0===e.nbf)return u(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==r.expiresIn&&"object"==typeof e){try{e.exp=o(r.expiresIn,f)}catch(e){return u(e)}if(void 0===e.exp)return u(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(E).forEach((function(t){const n=E[t];if(void 0!==r[t]){if(void 0!==e[n])return u(new Error('Bad "options.'+t+'" option. The payload already has an "'+n+'" property.'));e[n]=r[t]}}));const p=r.encoding||"utf8";if("function"!=typeof i){let n=a.sign({header:l,payload:e,secret:t,encoding:p});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(l.alg)&&n.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${l.alg}`);return n}i=i&&d(i),a.createSign({header:l,privateKey:t,payload:e,encoding:p}).once("error",i).once("done",(function(e){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(l.alg)&&e.length<256)return i(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${l.alg}`));i(null,e)}))}},96495:(e,t,r)=>{var n=r(5966).lW;const o=r(46880),i=r(21681),s=r(39220),a=r(30155),c=r(8915),l=r(19102),u=r(58865),f=r(29021),{KeyObject:p,createSecretKey:h,createPublicKey:d}=r(57933),v=["RS256","RS384","RS512"],y=["ES256","ES384","ES512"],g=["RS256","RS384","RS512"],m=["HS256","HS384","HS512"];u&&(v.splice(v.length,0,"PS256","PS384","PS512"),g.splice(g.length,0,"PS256","PS384","PS512")),e.exports=function(e,t,r,u){let b;if("function"!=typeof r||u||(u=r,r={}),r||(r={}),r=Object.assign({},r),b=u||function(e,t){if(e)throw e;return t},r.clockTimestamp&&"number"!=typeof r.clockTimestamp)return b(new o("clockTimestamp must be a number"));if(void 0!==r.nonce&&("string"!=typeof r.nonce||""===r.nonce.trim()))return b(new o("nonce must be a non-empty string"));if(void 0!==r.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof r.allowInvalidAsymmetricKeyTypes)return b(new o("allowInvalidAsymmetricKeyTypes must be a boolean"));const w=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return b(new o("jwt must be provided"));if("string"!=typeof e)return b(new o("jwt must be a string"));const x=e.split(".");if(3!==x.length)return b(new o("jwt malformed"));let E;try{E=a(e,{complete:!0})}catch(e){return b(e)}if(!E)return b(new o("invalid token"));const _=E.header;let S;if("function"==typeof t){if(!u)return b(new o("verify must be called asynchronous if secret or public key is provided as a callback"));S=t}else S=function(e,r){return r(null,t)};return S(_,(function(t,a){if(t)return b(new o("error in secret or public key callback: "+t.message));const u=""!==x[2].trim();if(!u&&a)return b(new o("jwt signature is required"));if(u&&!a)return b(new o("secret or public key must be provided"));if(!u&&!r.algorithms)return b(new o('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=a&&!(a instanceof p))try{a=d(a)}catch(e){try{a=h("string"==typeof a?n.from(a):a)}catch(e){return b(new o("secretOrPublicKey is not valid key material"))}}if(r.algorithms||("secret"===a.type?r.algorithms=m:["rsa","rsa-pss"].includes(a.asymmetricKeyType)?r.algorithms=g:"ec"===a.asymmetricKeyType?r.algorithms=y:r.algorithms=v),-1===r.algorithms.indexOf(E.header.alg))return b(new o("invalid algorithm"));if(_.alg.startsWith("HS")&&"secret"!==a.type)return b(new o(`secretOrPublicKey must be a symmetric key when using ${_.alg}`));if(/^(?:RS|PS|ES)/.test(_.alg)&&"public"!==a.type)return b(new o(`secretOrPublicKey must be an asymmetric key when using ${_.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{l(_.alg,a)}catch(e){return b(e)}let S;try{S=f.verify(e,E.header.alg,a)}catch(e){return b(e)}if(!S)return b(new o("invalid signature"));const O=E.payload;if(void 0!==O.nbf&&!r.ignoreNotBefore){if("number"!=typeof O.nbf)return b(new o("invalid nbf value"));if(O.nbf>w+(r.clockTolerance||0))return b(new i("jwt not active",new Date(1e3*O.nbf)))}if(void 0!==O.exp&&!r.ignoreExpiration){if("number"!=typeof O.exp)return b(new o("invalid exp value"));if(w>=O.exp+(r.clockTolerance||0))return b(new s("jwt expired",new Date(1e3*O.exp)))}if(r.audience){const e=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(O.aud)?O.aud:[O.aud]).some((function(t){return e.some((function(e){return e instanceof RegExp?e.test(t):e===t}))})))return b(new o("jwt audience invalid. expected: "+e.join(" or ")))}if(r.issuer&&("string"==typeof r.issuer&&O.iss!==r.issuer||Array.isArray(r.issuer)&&-1===r.issuer.indexOf(O.iss)))return b(new o("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&O.sub!==r.subject)return b(new o("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&O.jti!==r.jwtid)return b(new o("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&O.nonce!==r.nonce)return b(new o("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if("number"!=typeof O.iat)return b(new o("iat required when maxAge is specified"));const e=c(r.maxAge,O.iat);if(void 0===e)return b(new o('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(w>=e+(r.clockTolerance||0))return b(new s("maxAge exceeded",new Date(1e3*e)))}if(!0===r.complete){const e=E.signature;return b(null,{header:_,payload:O,signature:e})}return b(null,O)}))}}}]);